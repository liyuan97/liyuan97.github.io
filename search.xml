<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>pytorchå†æ¥è§¦</title>
    <url>/2020/pytorch2/</url>
    <content><![CDATA[<p>skorchæ˜¯åŸºäºpytorchçš„å¤–éƒ¨å·¥å…·ï¼Œé›†æˆäº†å¾ˆå¤šåŸºç¡€åŠŸèƒ½ï¼Œä½¿å¾—è®­ç»ƒè¿‡ç¨‹å˜å¾—å¼‚å¸¸ç®€å•ã€‚ä¸€ä¸ªnet.fit()å°±èƒ½æå®šã€‚<br>æœ¬æ¬¡æ˜¯MSBD5002çš„ç¬¬äºŒæ¬¡ä½œä¸šï¼Œä½œä¸šè¦æ±‚ç”¨MLPå®ç°äºŒåˆ†ç±»å’Œå¤šåˆ†ç±»çš„ä»»åŠ¡ã€‚å¤šåˆ†ç±»å…¶å®æ˜¯å¯¹äºå›¾ç‰‡åˆ†ç±»ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿç…§ç€MNISTçš„CNNdemoæ”¹äº†ä¸ªCNNçš„æ¨¡å‹ï¼ŒCNNæ•ˆæœä¼šå¥½ä¸€ç‚¹ã€‚ä½†æ˜¯ç”±äºæ•°æ®é›†æœ¬èº«çš„åŸå› ï¼Œå‡†ç¡®ç‡æ²¡èƒ½ä¸Š90%ã€‚</p><a id="more"></a>
<blockquote>
<p>è®°å½•ä¸€ä¸‹è¿‡ç¨‹ï¼Œä»…ä¾›å‚è€ƒã€‚ä»¥ä¸‹æ­£æ–‡ã€‚</p>
</blockquote>
<hr>
<h1 id="Neural-Networks-Models-for-Binary-Classifcation-Data-Sets"><a href="#Neural-Networks-Models-for-Binary-Classifcation-Data-Sets" class="headerlink" title="Neural Networks Models for Binary Classifcation Data Sets"></a>Neural Networks Models for Binary Classifcation Data Sets</h1><h2 id="Define-the-network"><a href="#Define-the-network" class="headerlink" title="Define the network"></a>Define the network</h2><p>For first task we need to set of single hidden layer neural network models, and I choice stochastic gradient descent algorithm by minimizing the cross-entropy loss. By use PyTorch, itâ€™s pretty easy to define my own network jusk as<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Net_1hidden</span><span class="params">(torch.nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, n_feature, n_hidden, n_output=<span class="number">2</span>)</span>:</span></span><br><span class="line">        super(Net_1hidden, self).__init__()</span><br><span class="line">        self.hidden = torch.nn.Linear(n_feature, n_hidden)   <span class="comment"># hidden layer</span></span><br><span class="line">        self.out = torch.nn.Linear(n_hidden, n_output)   <span class="comment"># output layer</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        x = Fun.relu(self.hidden(x))      <span class="comment"># activation function for hidden layer we choose sigmoid</span></span><br><span class="line">        x = F.softmax(self.out(x), dim=<span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> x</span><br></pre></td></tr></table></figure><br>For this net both <code>n_feature</code> and <code>n_hidden</code> are needed to be given a parameter.  <code>n_feature</code> depends on the feature of X, and <code>n_hidden</code> are needed to be be choice by cross validation.<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200415172243.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg#center">  </p>
<h2 id="Build-the-pipeline"><a href="#Build-the-pipeline" class="headerlink" title="Build the pipeline"></a>Build the pipeline</h2><p>To make the train process easier, itâ€™s better to build a hole pipeline include the read data, split the data into different parts and shuffle the data to make the model more stable.<br>So I used scikit-learn compatible neural network library that wraps PyTorch. The goal of skorch is to make it possible to use PyTorch with sklearn. This is achieved by providing a wrapper around PyTorch that has an sklearn interface. In that sense, skorch is the spiritual successor to nolearn, but instead of using Lasagne and Theano, it uses PyTorch.<br>So itâ€™s easy to fit the model by <code>net.fit(train_X,train_Y)</code>.</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> skorch <span class="keyword">import</span> NeuralNetClassifier</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_data</span><span class="params">(filename)</span>:</span></span><br><span class="line">    data = np.load(<span class="string">'./datasets/bi-class/'</span>+filename)</span><br><span class="line">    train_X,test_X = torch.FloatTensor(data[<span class="string">'train_X'</span>]),torch.FloatTensor(data[<span class="string">'test_X'</span>])</span><br><span class="line">    train_Y,test_Y = torch.LongTensor(data[<span class="string">'train_Y'</span>]),torch.LongTensor(data[<span class="string">'test_Y'</span>])</span><br><span class="line">    print(<span class="string">'\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;'</span>+filename,data[<span class="string">'train_X'</span>].shape,data[<span class="string">'test_X'</span>].shape)</span><br><span class="line">    <span class="keyword">return</span> train_X,test_X,train_Y,test_Y</span><br><span class="line"></span><br><span class="line">net = NeuralNetClassifier(</span><br><span class="line">        Net_1hidden(n_feature=n_feature, n_hidden=<span class="number">10</span>, n_output=<span class="number">2</span>),</span><br><span class="line">        max_epochs=<span class="number">20</span>,</span><br><span class="line">        lr=<span class="number">0.1</span>,</span><br><span class="line">        optimizer=torch.optim.SGD,</span><br><span class="line">        criterion=torch.nn.CrossEntropyLoss,</span><br><span class="line">        iterator_train__shuffle=<span class="literal">True</span>,</span><br><span class="line">        )</span><br><span class="line">net.fit(train_X,train_Y)</span><br></pre></td></tr></table></figure>
<p>To make the program more clear, I just choice max_epochs is 20 which by test several times. And I didnâ€™t use early stopping tech because all dataset is small enough and doesnâ€™t need too much time to train.</p>
<h2 id="Cross-validation-to-find-best-parameter"><a href="#Cross-validation-to-find-best-parameter" class="headerlink" title="Cross validation to find best parameter"></a>Cross validation to find best parameter</h2><p>In the assignment description, we needed to find the best hidden units H for each dataset. So I used the <code>GridSearchCV</code> from <code>sklearn</code>. GridSearchCV implements a â€œfitâ€ and a â€œscoreâ€ method. It also implements â€œpredictâ€, â€œpredict_probaâ€, â€œdecision_functionâ€, â€œtransformâ€ and â€œinverse_transformâ€ if they are implemented in the estimator used.Which is very useful for search best parameter. The <code>NeuralNet</code> class allows to directly access parameters of the <code>pytorch module</code> by using the <code>module__</code> prefix.</p>
<p>For each dataset, it is done by randomly sampling 80% of the training instances to train a classifier and then testing it on the remaining 20%. Which means 5-flods.<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">params = &#123;<span class="string">'module__n_hidden'</span>: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>],&#125;</span><br><span class="line">gs = GridSearchCV(net, params, refit=<span class="literal">False</span>, cv=<span class="number">5</span>, scoring=<span class="string">'accuracy'</span>)</span><br></pre></td></tr></table></figure><br>By this two function we can find best number of hidden between 1 to 10.</p>
<p>After train process and I find the best value is:</p>
<script type="math/tex; mode=display">
\begin{array}{cc}
\text { filename }& \text { best n value }  \\
diabetes.npz& 8\\
breast\_cancer.npz& 10\\
iris.npz& 10\\
wine.npz& 1\\
digit.npz& 8\\
\end{array}</script><p>Itâ€™s weird for <code>wine.npz</code>â€˜s best hidden number is 1. And I will discuss it on next part.</p>
<h2 id="All-result"><a href="#All-result" class="headerlink" title="All result"></a>All result</h2><p>On all five dataset, we can see the model performance as follows .</p>
<p> filename          | N | train_acc | test_acc | test_AUC | train_time |<br>|â€”â€”â€”â€”â€”â€”â€”â€”â€”-|â€”â€”â€”â€”â€”â€”-|â€”â€”â€”â€”â€”-|â€”â€”â€”â€”â€”|â€”â€”â€”â€”â€”|â€”â€”â€”â€”â€”â€”|<br>| diabetes.npz      | 8           | 0.652     | 0.647    | 0.500    | 0.725      |<br>| breast-cancer.npz | 10          | 0.952     | 0.963    | 0.957    | 0.568      |<br>| iris.npz          | 10          | 1.000     | 1.000    | 1.000    | 0.214      |<br>| wine.npz          | 1           | 0.401     | 0.389    | 0.500    | 0.244      |<br>| digit.npz         | 8           | 0.959     | 0.935    | 0.939    | 0.833      |</p>
<p>As we can see, more hidden unit means more train time, because it need more computing .<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200417005311.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>Model performance well on <code>breast-cancer</code>, <code>iris.npz</code>, <code>digit.npz</code>.But for the <code>diabetes.npz</code> and <code>wine.npz</code> the model seems not work. There are several reasons for this problem. </p>
<ol>
<li>The feature and label of  dataset is meaningless.</li>
<li>The model is underfitting, because the epoch is only 20.</li>
<li>The model is too easy and conâ€™t get the relationship.</li>
</ol>
<p>For find the reason, i try 2 hidden layers and add more epoch.<br>And the train result like follows:<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;diabetes.npz (615, 8) (153, 8)</span><br><span class="line">1layer</span><br><span class="line">epoch:   0, loss: 0.716,accuracy: 0.346</span><br><span class="line">epoch: 100, loss: 0.664,accuracy: 0.647</span><br><span class="line">epoch: 200, loss: 0.644,accuracy: 0.647</span><br><span class="line">epoch: 300, loss: 0.635,accuracy: 0.647</span><br><span class="line">epoch: 400, loss: 0.631,accuracy: 0.647</span><br><span class="line">epoch: 500, loss: 0.628,accuracy: 0.647</span><br><span class="line">2layer</span><br><span class="line">epoch:   0, loss: 0.706,accuracy: 0.353</span><br><span class="line">epoch: 100, loss: 0.689,accuracy: 0.647</span><br><span class="line">epoch: 200, loss: 0.676,accuracy: 0.647</span><br><span class="line">epoch: 300, loss: 0.668,accuracy: 0.647</span><br><span class="line">epoch: 400, loss: 0.661,accuracy: 0.647</span><br><span class="line">epoch: 500, loss: 0.657,accuracy: 0.647</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;wine.npz (142, 13) (36, 13)</span><br><span class="line">1layer</span><br><span class="line">epoch:   0, loss: 0.912,accuracy: 0.389</span><br><span class="line">epoch: 100, loss: 0.912,accuracy: 0.389</span><br><span class="line">epoch: 200, loss: 0.912,accuracy: 0.389</span><br><span class="line">epoch: 300, loss: 0.912,accuracy: 0.389</span><br><span class="line">epoch: 400, loss: 0.912,accuracy: 0.389</span><br><span class="line">epoch: 500, loss: 0.912,accuracy: 0.389</span><br><span class="line">2layer</span><br><span class="line">epoch:   0, loss: 0.912,accuracy: 0.389</span><br><span class="line">epoch: 100, loss: 0.912,accuracy: 0.389</span><br><span class="line">epoch: 200, loss: 0.912,accuracy: 0.389</span><br><span class="line">epoch: 300, loss: 0.912,accuracy: 0.389</span><br><span class="line">epoch: 400, loss: 0.912,accuracy: 0.389</span><br><span class="line">epoch: 500, loss: 0.912,accuracy: 0.389</span><br></pre></td></tr></table></figure><br>As we can see, no matter how many epoch and how many layers for this two dataset. The model all donâ€™t work. So I think it is the first reason. The feature and label of  dataset is meaningless.</p>
<h1 id="Neural-Networks-Models-for-Multi-class-Data-Sets"><a href="#Neural-Networks-Models-for-Multi-class-Data-Sets" class="headerlink" title="Neural Networks Models for Multi-class Data Sets"></a>Neural Networks Models for Multi-class Data Sets</h1><h2 id="Dataset"><a href="#Dataset" class="headerlink" title="Dataset"></a>Dataset</h2><p>For this dataset, we have train with 10000 image, and test with 1000 image. And the label is 0-9,  ten different classes. For each image, it is a 784 dimensions array, which can convert to 28*28 Square picture.<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200416195751.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
<p>As we can see, there are some shoes, clothes, skirts, T-Shirts and each one class represent one number between 0-9.</p>
<h2 id="Build-a-2-hidden-layers-net"><a href="#Build-a-2-hidden-layers-net" class="headerlink" title="Build a 2 hidden layers net"></a>Build a 2 hidden layers net</h2><p>By use pytorch, itâ€™s pretty easy to define a network. Again I still use relu as activate function, CrossEntropy as loss function. And I define the input feature is a flatten array with 784, and output layer is 10 which equal to the class number.<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Net_2hidden</span><span class="params">(torch.nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, n_hidden1,  n_hidden2, n_output = <span class="number">10</span>, n_feature = <span class="number">784</span>)</span>:</span></span><br><span class="line">        super(Net_2hidden, self).__init__()</span><br><span class="line">        self.hidden1 = torch.nn.Linear(n_feature, n_hidden1)</span><br><span class="line">        self.hidden2 = torch.nn.Linear(n_hidden1, n_hidden2)</span><br><span class="line">        self.out = torch.nn.Linear(n_hidden2, n_output)   <span class="comment"># output layer</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        x1 = Fun.relu(self.hidden1(x))</span><br><span class="line">        x2 = Fun.relu(self.hidden2(x1))</span><br><span class="line">        x =  self.out(x2)</span><br><span class="line">        <span class="keyword">return</span> x</span><br></pre></td></tr></table></figure><br>And then I use GridSearchCV to try different number of hidden units. And also I used cross validation (randomly sampling 80% of the training instances to train a classifier and then testing it on the remaining 20%). I set the max epochs is 30 for all dataset. And this time I used Adma instead of SGD. Because by experiment,  Adma is faster than SGD to convergence.<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> GridSearchCV</span><br><span class="line">net = NeuralNetClassifier(</span><br><span class="line">        Net_2hidden(n_hidden1=<span class="number">500</span>, n_hidden2=<span class="number">100</span>),</span><br><span class="line">        max_epochs=<span class="number">30</span>,</span><br><span class="line">        lr=<span class="number">0.001</span>,</span><br><span class="line">        optimizer=torch.optim.Adam,<span class="comment">#torch.optim.SGD,</span></span><br><span class="line">        criterion=torch.nn.CrossEntropyLoss,</span><br><span class="line">        iterator_train__shuffle=<span class="literal">True</span>,</span><br><span class="line">        )</span><br><span class="line">params = &#123;</span><br><span class="line">    <span class="string">'module__n_hidden1'</span>: [<span class="number">50</span>,<span class="number">75</span>,<span class="number">100</span>],<span class="comment">#,500],</span></span><br><span class="line">    <span class="string">'module__n_hidden2'</span>: [<span class="number">10</span>,<span class="number">15</span>,<span class="number">20</span>],<span class="comment">#100]</span></span><br><span class="line">&#125;</span><br><span class="line">gs = GridSearchCV(net, params, refit=<span class="literal">False</span>, cv=<span class="number">5</span>, scoring=<span class="string">'accuracy'</span>)</span><br><span class="line">train_X,train_Y = torch.FloatTensor(train_images),torch.LongTensor(train_labels)</span><br><span class="line">gs.fit(train_X,train_Y)</span><br><span class="line">print(gs.best_score_, gs.best_params_)</span><br></pre></td></tr></table></figure><br>After <code>10 minutes</code> train and test, GridSearchCV get the best params with <code>{&#39;module__n_hidden1&#39;: 75, &#39;module__n_hidden2&#39;: 20}</code>.<br>I was surprised to see that the first layer was 75 instead of 100, because in general, the larger the number of cells or the closer to the input layer model, the better the performance. After many experiments, I have come to a conclusion. The first hidden layer is 75 instead of 100, mainly because the largest parameter of the second hidden layer is 20, and the span before 100 to 20 is too large, which may cause too much loss here. Therefore, for the latter layer is 20 units, the first layer chooses 75 units to perform better.</p>
<p>And the final model get the <code>accuracy with 84%</code> on the 1000 test dataset. For each class, the accuracy as follows.<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">       <span class="class"><span class="keyword">class</span>    <span class="title">precision</span>    <span class="title">recall</span>  <span class="title">f1</span>-<span class="title">score</span>   <span class="title">support</span></span></span><br><span class="line"><span class="class">           0       0.78      0.78      0.78       107</span></span><br><span class="line"><span class="class">           1       0.93      0.95      0.94       105</span></span><br><span class="line"><span class="class">           2       0.78      0.82      0.80       111</span></span><br><span class="line"><span class="class">           3       0.78      0.75      0.77        93</span></span><br><span class="line"><span class="class">           4       0.74      0.80      0.77       115</span></span><br><span class="line"><span class="class">           5       0.93      0.90      0.91        87</span></span><br><span class="line"><span class="class">           6       0.63      0.56      0.59        97</span></span><br><span class="line"><span class="class">           7       0.91      0.95      0.93        95</span></span><br><span class="line"><span class="class">           8       0.97      0.93      0.95        95</span></span><br><span class="line"><span class="class">           9       0.94      0.93      0.93        95</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">    <span class="title">accuracy</span>                           0.83      1000</span></span><br><span class="line"><span class="class">   <span class="title">macro</span> <span class="title">avg</span>       0.84      0.84      0.84      1000</span></span><br><span class="line"><span class="class"><span class="title">weighted</span> <span class="title">avg</span>       0.83      0.83      0.83      1000</span></span><br></pre></td></tr></table></figure><br>As we can see, the class 6 get the lowest accuracy.</p>
<h2 id="Improve-build-CNN-net"><a href="#Improve-build-CNN-net" class="headerlink" title="Improve: build CNN net"></a>Improve: build CNN net</h2><p>As we know, CNN make a good performance on image. So I try a 3<em>3 CNN model, try to improve the performance  of model.<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cnn</span><span class="params">(torch.nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, dropout=<span class="number">0.4</span>)</span>:</span></span><br><span class="line">        super(Cnn, self).__init__()</span><br><span class="line">        self.conv1 = nn.Conv2d(<span class="number">1</span>, <span class="number">32</span>, kernel_size=<span class="number">5</span>)</span><br><span class="line">        self.conv2 = nn.Conv2d(<span class="number">32</span>, <span class="number">64</span>, kernel_size=<span class="number">3</span>)</span><br><span class="line">        self.conv2_drop = nn.Dropout2d(p=dropout)</span><br><span class="line">        self.fc1 = nn.Linear(<span class="number">1600</span>, <span class="number">800</span>) <span class="comment"># 1600 = number channels * width * height</span></span><br><span class="line">        self.fc2 = nn.Linear(<span class="number">800</span>, <span class="number">10</span>)</span><br><span class="line">        self.fc1_drop = nn.Dropout(p=dropout)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        x = torch.relu(F.max_pool2d(self.conv1(x), <span class="number">2</span>))</span><br><span class="line">        x = torch.relu(F.max_pool2d(self.conv2_drop(self.conv2(x)), <span class="number">2</span>))</span><br><span class="line">        <span class="comment"># flatten over channel, height and width = 1600</span></span><br><span class="line">        x = x.view(<span class="number">-1</span>, x.size(<span class="number">1</span>) * x.size(<span class="number">2</span>) * x.size(<span class="number">3</span>))</span><br><span class="line">        x = self.fc1_drop(torch.relu(self.fc1(x)))</span><br><span class="line">        x = torch.softmax(self.fc2(x), dim=<span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> x</span><br></pre></td></tr></table></figure><br>After many attempts, I chose <code>max_epics = 200</code>, the <code>learning rate is 0.0005</code>, and the <code>optimizer is Adam.</code> The internal parameters of the model have been fixed after several attempts. In the end, <em>*88.8% of the accuracy</em></em> is obtained in 1000 test sets.<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">  epoch    train_loss    valid_acc    valid_loss     dur</span><br><span class="line">-------  ------------  -----------  ------------  ------</span><br><span class="line">      1        5.0852       0.7520        0.9469  0.3805</span><br><span class="line">     50        0.1847       0.8795        0.3360  0.3779</span><br><span class="line">    100        0.0694       0.8860        0.3733  0.3614</span><br><span class="line">    150        0.0336       0.8855        0.4257  0.3691</span><br><span class="line">    200        0.0175       0.8865        0.4704  0.3666</span><br><span class="line">Accuracy on test: 0.888</span><br></pre></td></tr></table></figure><br>Again I compute the accuracy for each class.<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">        <span class="class"><span class="keyword">class</span>  <span class="title">precision</span>    <span class="title">recall</span>  <span class="title">f1</span>-<span class="title">score</span>   <span class="title">support</span></span></span><br><span class="line"><span class="class">           0       0.91      0.80      0.85       107</span></span><br><span class="line"><span class="class">           1       0.99      0.99      0.99       105</span></span><br><span class="line"><span class="class">           2       0.82      0.84      0.83       111</span></span><br><span class="line"><span class="class">           3       0.91      0.85      0.88        93</span></span><br><span class="line"><span class="class">           4       0.85      0.85      0.85       115</span></span><br><span class="line"><span class="class">           5       0.93      0.95      0.94        87</span></span><br><span class="line"><span class="class">           6       0.66      0.75      0.71        97</span></span><br><span class="line"><span class="class">           7       0.92      0.97      0.94        95</span></span><br><span class="line"><span class="class">           8       0.97      0.97      0.97        95</span></span><br><span class="line"><span class="class">           9       0.98      0.93      0.95        95</span></span><br><span class="line"><span class="class">           </span></span><br><span class="line"><span class="class">    <span class="title">accuracy</span>                           0.89      1000</span></span><br><span class="line"><span class="class">   <span class="title">macro</span> <span class="title">avg</span>       0.89      0.89      0.89      1000</span></span><br><span class="line"><span class="class"><span class="title">weighted</span> <span class="title">avg</span>       0.89      0.89      0.89      1000</span></span><br></pre></td></tr></table></figure><br>As we can see, still for the class 6 itâ€™s hard to classify, only 66% accuracy.</p>
<h2 id="Compare-CNN-and-MLP"><a href="#Compare-CNN-and-MLP" class="headerlink" title="Compare CNN and MLP"></a>Compare CNN and MLP</h2><p>By  tensorboard, we can intuitively compare the loss trends of the two models. When I set the maximum number of iterations of both models to 50, the MLP of the two layers decreased significantly faster in terms of training loss, but in the loss of the test set, the MLP of the two layers first decreased and then increased. Fitted. So the optimal number of iterations for two-layer MLP is around 10 words.<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200417202326.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg =500x400"></p>
<p>For the CNN model, because I added the characteristics of the Dropout layer and the CNN model itself, the iteration of the model to 50 layers is still in a decline in loss, and the accuracy of the verification set is increasing.</p>
<h2 id="Error-analysis-and-Optimization-direction"><a href="#Error-analysis-and-Optimization-direction" class="headerlink" title="Error analysis and Optimization direction"></a>Error analysis and Optimization direction</h2><p>In order to further study why it is wrong, I printed out a sample of prediction errors. I chose the most representative group to explain. </p>
<p>In the picture, we can see that these six pictures are all shoes, and their classification also belongs to [5,7,9].<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200417014003.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>The prediction range is also [5,7,9], but the model does not find the difference between shoes. To be honest, itâ€™s hard for the naked eye to see the obvious difference between [5,7,9]. Therefore, itâ€™s understandable that the model is not clear.</p>
<p>For the above question, I think we can use the <strong><em>hierarchical prediction method</em></strong>. For example, train a model to distinguish whether shoes or clothes are needed. Then train a model for shoes to capture the subtle differences between shoes. In this way, I think the accuracy can be further improved.</p>
]]></content>
      <categories>
        <category>pytorch</category>
      </categories>
      <tags>
        <tag>æœºå™¨å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title>pytorchåˆä½“éªŒ</title>
    <url>/2020/pytorch1/</url>
    <content><![CDATA[<p>ä¸Šä¸€æ¬¡å†™ç¥ç»ç½‘ç»œåº”è¯¥è¿˜æ˜¯å¤§ä¸‰çš„æ—¶å€™å­¦TensorFlowï¼Œå½“æ—¶å­¦äº†ä¹Ÿæ²¡æ€ä¹ˆç”¨ï¼Œæœ€è¿‘ä½œä¸šéœ€è¦pytorchï¼Œåˆšå¥½æ•´ç†ä¸€ä¸‹pytorchçš„å…¥é—¨ç¬¬ä¸€è®²ã€‚</p><p>pytorchå’Œnumpyåœ¨å¾ˆå¤šåœ°æ–¹ç›¸ä¼¼ï¼Œä½¿ç”¨ç®€å•ï¼Œæœ€è¿‘ä½¿ç”¨é‡ä¹ŸæŒºé«˜ï¼Œè¿™ä¸€èŠ‚é€šè¿‡å¯¹äºä¸€ä¸ªç®€å•çš„numpyç½‘ç»œï¼Œä¸€æ­¥ä¸€æ­¥æ”¹è¿›ä½¿ç”¨pytorchçš„é«˜çº§æ¥å£ã€‚</p><a id="more"></a>

<ul>
<li>Step 0: numpy å®šä¹‰æ¯ä¸€æ­¥çš„æ“ä½œï¼ŒåŒ…æ‹¬Forward, loss, Backward, updata weight<br>ï¼ˆå¦‚æœè¿™é‡Œçœ‹ä¸æ‡‚éœ€è¦å»çœ‹ç¥ç»ç½‘ç»œçš„åŸºæœ¬çŸ¥è¯†ï¼‰</li>
</ul>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">N, D_in, H, D_out = <span class="number">64</span>, <span class="number">1000</span>, <span class="number">100</span>, <span class="number">10</span></span><br><span class="line"><span class="comment"># éšæœºåˆ›å»ºä¸€äº›è®­ç»ƒæ•°æ®</span></span><br><span class="line">x = np.random.randn(N, D_in)</span><br><span class="line">y = np.random.randn(N, D_out) </span><br><span class="line">w1 = np.random.randn(D_in, H)</span><br><span class="line">w2 = np.random.randn(H, D_out)</span><br><span class="line"></span><br><span class="line">learning_rate = <span class="number">1e-6</span></span><br><span class="line"><span class="keyword">for</span> it <span class="keyword">in</span> range(<span class="number">500</span>):</span><br><span class="line">    <span class="comment"># Forward pass</span></span><br><span class="line">    h = x.dot(w1) <span class="comment"># N * H</span></span><br><span class="line">    h_relu = np.maximum(h, <span class="number">0</span>) <span class="comment"># N * H</span></span><br><span class="line">    y_pred = h_relu.dot(w2) <span class="comment"># N * D_out</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># compute loss</span></span><br><span class="line">    loss = np.square(y_pred - y).mean()</span><br><span class="line">    <span class="keyword">if</span> it%<span class="number">100</span>==<span class="number">0</span>: print(it, loss)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Backward pass</span></span><br><span class="line">    <span class="comment"># compute the gradient</span></span><br><span class="line">    grad_y_pred = <span class="number">2.0</span> * (y_pred - y)</span><br><span class="line">    grad_w2 = h_relu.T.dot(grad_y_pred)</span><br><span class="line">    grad_h_relu = grad_y_pred.dot(w2.T)</span><br><span class="line">    grad_h = grad_h_relu.copy()</span><br><span class="line">    grad_h[h&lt;<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">    grad_w1 = x.T.dot(grad_h)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># update weights of w1 and w2</span></span><br><span class="line">    w1 -= learning_rate * grad_w1</span><br><span class="line">    w2 -= learning_rate * grad_w2</span><br></pre></td></tr></table></figure>
<ul>
<li>Step 1: ç°åœ¨æŠŠæ•°æ®ç±»å‹æ¢æˆtorchçš„æ•°æ®æ¥å£</li>
</ul>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">N, D_in, H, D_out = <span class="number">64</span>, <span class="number">1000</span>, <span class="number">100</span>, <span class="number">10</span></span><br><span class="line"><span class="comment"># éšæœºåˆ›å»ºä¸€äº›è®­ç»ƒæ•°æ®</span></span><br><span class="line">x = torch.randn(N, D_in)</span><br><span class="line">y = torch.randn(N, D_out)</span><br><span class="line">w1 = torch.randn(D_in, H)</span><br><span class="line">w2 = torch.randn(H, D_out)</span><br><span class="line"></span><br><span class="line">learning_rate = <span class="number">1e-6</span></span><br><span class="line">  <span class="keyword">for</span> it <span class="keyword">in</span> range(<span class="number">500</span>):</span><br><span class="line">    <span class="comment"># Forward pass</span></span><br><span class="line">    h = x.mm(w1) <span class="comment"># N * H</span></span><br><span class="line">    h_relu = h.clamp(min=<span class="number">0</span>) <span class="comment"># N * H #ä¸Šä¸‹é™</span></span><br><span class="line">    y_pred = h_relu.mm(w2) <span class="comment"># N * D_out</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># compute loss</span></span><br><span class="line">    loss = (y_pred - y).pow(<span class="number">2</span>).sum().item()</span><br><span class="line">    <span class="keyword">if</span> it%<span class="number">100</span>==<span class="number">0</span> :print(it, loss)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Backward pass</span></span><br><span class="line">    <span class="comment"># compute the gradient</span></span><br><span class="line">    grad_y_pred = <span class="number">2.0</span> * (y_pred - y)</span><br><span class="line">    grad_w2 = h_relu.t().mm(grad_y_pred)</span><br><span class="line">    grad_h_relu = grad_y_pred.mm(w2.t())</span><br><span class="line">    grad_h = grad_h_relu.clone()</span><br><span class="line">    grad_h[h&lt;<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">    grad_w1 = x.t().mm(grad_h)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># update weights of w1 and w2</span></span><br><span class="line">    w1 -= learning_rate * grad_w1</span><br><span class="line">    w2 -= learning_rate * grad_w2</span><br></pre></td></tr></table></figure>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200415130238.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>é€šè¿‡å¯¹æ¯”ï¼Œå¯ä»¥å‘ç°åŸºæœ¬æ²¡æœ‰å·®å¼‚ï¼Œå°±æ˜¯çŸ©é˜µè®¡ç®—çš„ç¬¦å·æœ‰æ‰€æ”¹å˜ã€‚</p>
<ul>
<li>Step 2:  PyTorchçš„ä¸€ä¸ªé‡è¦åŠŸèƒ½å°±æ˜¯autogradï¼Œä¹Ÿå°±æ˜¯è¯´åªè¦å®šä¹‰äº†forward pass(å‰å‘ç¥ç»ç½‘ç»œ)ï¼Œè®¡ç®—äº†lossä¹‹åï¼ŒPyTorchå¯ä»¥è‡ªåŠ¨æ±‚å¯¼è®¡ç®—æ¨¡å‹æ‰€æœ‰å‚æ•°çš„æ¢¯åº¦ã€‚ä¸€ä¸ªPyTorchçš„Tensorè¡¨ç¤ºè®¡ç®—å›¾ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ã€‚å¦‚æœ<code>x</code>æ˜¯ä¸€ä¸ªTensorå¹¶ä¸”<code>x.requires_grad=True</code>é‚£ä¹ˆ<code>x.grad</code>æ˜¯å¦ä¸€ä¸ªå‚¨å­˜ç€<code>x</code>å½“å‰æ¢¯åº¦(ç›¸å¯¹äºä¸€ä¸ªscalarï¼Œå¸¸å¸¸æ˜¯loss)çš„å‘é‡ã€‚</li>
</ul>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">N, D_in, H, D_out = <span class="number">64</span>, <span class="number">1000</span>, <span class="number">100</span>, <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># éšæœºåˆ›å»ºä¸€äº›è®­ç»ƒæ•°æ®</span></span><br><span class="line">x = torch.randn(N, D_in)</span><br><span class="line">y = torch.randn(N, D_out)</span><br><span class="line"></span><br><span class="line">w1 = torch.randn(D_in, H, requires_grad=<span class="literal">True</span>)</span><br><span class="line">w2 = torch.randn(H, D_out, requires_grad=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">learning_rate = <span class="number">1e-6</span></span><br><span class="line"><span class="keyword">for</span> it <span class="keyword">in</span> range(<span class="number">500</span>):</span><br><span class="line">    <span class="comment"># Forward pass</span></span><br><span class="line">    y_pred = x.mm(w1).clamp(min=<span class="number">0</span>).mm(w2)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># compute loss</span></span><br><span class="line">    loss = (y_pred - y).pow(<span class="number">2</span>).sum() <span class="comment"># computation graph</span></span><br><span class="line">    <span class="keyword">if</span> it%<span class="number">100</span>==<span class="number">0</span>: print(it, loss.item())</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Backward pass</span></span><br><span class="line">    loss.backward()</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># update weights of w1 and w2</span></span><br><span class="line">    <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">        w1 -= learning_rate * w1.grad</span><br><span class="line">        w2 -= learning_rate * w2.grad</span><br><span class="line">        w1.grad.zero_()</span><br><span class="line">        w2.grad.zero_()</span><br></pre></td></tr></table></figure>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200415131917.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
<ul>
<li>Step 3:  è°ƒç”¨torch.nn.Sequentialæ¥å®šä¹‰ç½‘ç»œ</li>
</ul>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line">N, D_in, H, D_out = <span class="number">64</span>, <span class="number">1000</span>, <span class="number">100</span>, <span class="number">10</span></span><br><span class="line"><span class="comment"># éšæœºåˆ›å»ºä¸€äº›è®­ç»ƒæ•°æ®</span></span><br><span class="line">x = torch.randn(N, D_in)</span><br><span class="line">y = torch.randn(N, D_out)</span><br><span class="line">model = torch.nn.Sequential(</span><br><span class="line">    torch.nn.Linear(D_in, H, bias=<span class="literal">False</span>), <span class="comment"># w_1 * x + b_1</span></span><br><span class="line">    torch.nn.ReLU(),</span><br><span class="line">    torch.nn.Linear(H, D_out, bias=<span class="literal">False</span>),</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">torch.nn.init.normal_(model[<span class="number">0</span>].weight)</span><br><span class="line">torch.nn.init.normal_(model[<span class="number">2</span>].weight)</span><br><span class="line"></span><br><span class="line"><span class="comment"># model = model.cuda()</span></span><br><span class="line"></span><br><span class="line">loss_fn = nn.MSELoss(reduction=<span class="string">'sum'</span>)</span><br><span class="line"></span><br><span class="line">learning_rate = <span class="number">1e-6</span></span><br><span class="line"><span class="keyword">for</span> it <span class="keyword">in</span> range(<span class="number">500</span>):</span><br><span class="line">    <span class="comment"># Forward pass</span></span><br><span class="line">    y_pred = model(x) <span class="comment"># model.forward() </span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># compute loss</span></span><br><span class="line">    loss = loss_fn(y_pred, y) <span class="comment"># computation graph</span></span><br><span class="line">    <span class="keyword">if</span> it%<span class="number">100</span>==<span class="number">0</span> :print(it, loss.item())</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Backward pass</span></span><br><span class="line">    loss.backward()</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># update weights of w1 and w2</span></span><br><span class="line">    <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">        <span class="keyword">for</span> param <span class="keyword">in</span> model.parameters(): <span class="comment"># param (tensor, grad)</span></span><br><span class="line">            param -= learning_rate * param.grad</span><br><span class="line">            </span><br><span class="line">    model.zero_grad()</span><br></pre></td></tr></table></figure>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200415132645.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
<ul>
<li>Step 4:  è¿™ä¸€æ¬¡æˆ‘ä»¬ä¸å†æ‰‹åŠ¨æ›´æ–°æ¨¡å‹çš„weights,è€Œæ˜¯ä½¿ç”¨optimè¿™ä¸ªåŒ…æ¥å¸®åŠ©æˆ‘ä»¬æ›´æ–°å‚æ•°ã€‚ optimè¿™ä¸ªpackageæä¾›äº†å„ç§ä¸åŒçš„æ¨¡å‹ä¼˜åŒ–æ–¹æ³•ï¼ŒåŒ…æ‹¬SGD+momentum, RMSProp, Adamç­‰ç­‰ã€‚</li>
</ul>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"></span><br><span class="line">N, D_in, H, D_out = <span class="number">64</span>, <span class="number">1000</span>, <span class="number">100</span>, <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># éšæœºåˆ›å»ºä¸€äº›è®­ç»ƒæ•°æ®</span></span><br><span class="line">x = torch.randn(N, D_in)</span><br><span class="line">y = torch.randn(N, D_out)</span><br><span class="line"></span><br><span class="line">model = torch.nn.Sequential(</span><br><span class="line">    torch.nn.Linear(D_in, H, bias=<span class="literal">False</span>), <span class="comment"># w_1 * x + b_1</span></span><br><span class="line">    torch.nn.ReLU(),</span><br><span class="line">    torch.nn.Linear(H, D_out, bias=<span class="literal">False</span>),</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">torch.nn.init.normal_(model[<span class="number">0</span>].weight)</span><br><span class="line">torch.nn.init.normal_(model[<span class="number">2</span>].weight)</span><br><span class="line"></span><br><span class="line"><span class="comment"># model = model.cuda()</span></span><br><span class="line"></span><br><span class="line">loss_fn = nn.MSELoss(reduction=<span class="string">'sum'</span>)</span><br><span class="line"><span class="comment"># learning_rate = 1e-4</span></span><br><span class="line"><span class="comment"># optimizer = torch.optim.Adam(model.parameters(), lr=learning_rate)</span></span><br><span class="line"></span><br><span class="line">learning_rate = <span class="number">1e-6</span></span><br><span class="line">optimizer = torch.optim.SGD(model.parameters(), lr=learning_rate)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> it <span class="keyword">in</span> range(<span class="number">500</span>):</span><br><span class="line">    <span class="comment"># Forward pass</span></span><br><span class="line">    y_pred = model(x) <span class="comment"># model.forward() </span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># compute loss</span></span><br><span class="line">    loss = loss_fn(y_pred, y) <span class="comment"># computation graph</span></span><br><span class="line">    <span class="keyword">if</span> it%<span class="number">100</span>==<span class="number">0</span> :print(it, loss.item())</span><br><span class="line"></span><br><span class="line">    optimizer.zero_grad() <span class="comment">#æ¢¯åº¦åˆå§‹åŒ–ä¸ºé›¶</span></span><br><span class="line">    <span class="comment"># Backward pass</span></span><br><span class="line">    loss.backward()</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># update model parameters</span></span><br><span class="line">    optimizer.step()</span><br></pre></td></tr></table></figure>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200415133029.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
<ul>
<li>Step 5: è¿™ä¸ªæ¨¡å‹ç»§æ‰¿è‡ªnn.Moduleç±»ã€‚å¦‚æœéœ€è¦å®šä¹‰ä¸€ä¸ªæ¯”Sequentialæ¨¡å‹æ›´åŠ å¤æ‚çš„æ¨¡å‹ï¼Œå°±éœ€è¦å®šä¹‰nn.Moduleæ¨¡å‹ã€‚</li>
</ul>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"></span><br><span class="line">N, D_in, H, D_out = <span class="number">64</span>, <span class="number">1000</span>, <span class="number">100</span>, <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># éšæœºåˆ›å»ºä¸€äº›è®­ç»ƒæ•°æ®</span></span><br><span class="line">x = torch.randn(N, D_in)</span><br><span class="line">y = torch.randn(N, D_out)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TwoLayerNet</span><span class="params">(torch.nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, D_in, H, D_out)</span>:</span></span><br><span class="line">        super(TwoLayerNet, self).__init__()</span><br><span class="line">        <span class="comment"># define the model architecture</span></span><br><span class="line">        self.linear1 = torch.nn.Linear(D_in, H, bias=<span class="literal">False</span>)</span><br><span class="line">        self.linear2 = torch.nn.Linear(H, D_out, bias=<span class="literal">False</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        y_pred = self.linear2(self.linear1(x).clamp(min=<span class="number">0</span>))</span><br><span class="line">        <span class="keyword">return</span> y_pred</span><br><span class="line"></span><br><span class="line">model = TwoLayerNet(D_in, H, D_out)</span><br><span class="line">loss_fn = nn.MSELoss(reduction=<span class="string">'sum'</span>)</span><br><span class="line">learning_rate = <span class="number">1e-4</span></span><br><span class="line">optimizer = torch.optim.Adam(model.parameters(), lr=learning_rate)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> it <span class="keyword">in</span> range(<span class="number">500</span>):</span><br><span class="line">    <span class="comment"># Forward pass</span></span><br><span class="line">    y_pred = model(x) <span class="comment"># model.forward() </span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># compute loss</span></span><br><span class="line">    loss = loss_fn(y_pred, y) <span class="comment"># computation graph</span></span><br><span class="line">    <span class="keyword">if</span> it%<span class="number">100</span>==<span class="number">0</span> :print(it, loss.item())</span><br><span class="line"></span><br><span class="line">    optimizer.zero_grad()</span><br><span class="line">    <span class="comment"># Backward pass</span></span><br><span class="line">    loss.backward()</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># update model parameters</span></span><br><span class="line">    optimizer.step()</span><br></pre></td></tr></table></figure>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200415133427.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
<p>é€šè¿‡ä¸€æ­¥ä¸€æ­¥çš„æ”¹è¿›ï¼Œä»numpyä½¿ç”¨ä¸Šäº†torchçš„æ¥å£ï¼Œè¿˜çœŸæ˜¯æ”¶è·æ»¡æ»¡çš„ä¸€å¤©å‘¢ã€‚ğŸ¤ª</p>
]]></content>
      <categories>
        <category>pytorch</category>
      </categories>
      <tags>
        <tag>æœºå™¨å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title>MSBD5004 Mathematical Methods for Data Analysis Homework 3</title>
    <url>/2020/MSBD5004HW3/</url>
    <content><![CDATA[<blockquote>
<p>æœ€è¿‘å­¦çš„å¼€å§‹æœ‰æ„æ€äº†ã€‚é¢˜ä¹Ÿæ²¡é‚£ä¹ˆå¥½åšäº†ã€‚<br>MSBD5004 Mathematical Methods for Data Analysis Homework 3</p>
</blockquote><h1 id="Q1"><a href="#Q1" class="headerlink" title="Q1"></a>Q1</h1><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200331112512.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p><p><strong><em>Solution:</em></strong> All use the standard inner product$\left\langle A,B\right \rangle =\sum_{1\le j\le n}\sum_{1\le i\le n}a_{i,j}b_{i,j}$.</p><a id="more"></a>


<h2 id="a"><a href="#a" class="headerlink" title="(a)"></a>(a)</h2><p>We can define the $A_{i=s,j=t}=1,A_{i\not=s,j\not=t}=0$, then we can get $E_{st}(X)=\langle A,X \rangle =x_{st}$.<br>â—¾</p>
<h2 id="b"><a href="#b" class="headerlink" title="(b)"></a>(b)</h2><p>We can define the $A_{i=j}=1,A_{i\not=j}=0$, then we can get $Tr(X)=\langle A,X \rangle =\sum_{i=1}^n x_{ii}$.<br>â—¾</p>
<h2 id="c"><a href="#c" class="headerlink" title="(c)"></a>(c)</h2><script type="math/tex; mode=display">f(x)=|\langle a,x \rangle |^2=(\sum_{i=1}^n a_ix_i)(\sum_{i=1}^n a_ix_i)=\sum_{i=1}^n\sum_{j=1}^n a_ia_jx_ix_j=\langle aa^T,xx^T \rangle</script><p>So we can define the $A=aa^T$.<br>â—¾</p>
<h1 id="Q2"><a href="#Q2" class="headerlink" title="Q2"></a>Q2</h1><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200331102810.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
<h2 id="a-1"><a href="#a-1" class="headerlink" title="(a)"></a>(a)</h2><p><strong>Proof:</strong><br>If $\boldsymbol{x}, \boldsymbol{z} \in S_{1} \cap S_{2},$ then we can get </p>
<script type="math/tex; mode=display">\langle a_1, \boldsymbol{x} \rangle =\langle a_1,\boldsymbol{z} \rangle =b_1\\
\langle a_2, \boldsymbol{x} \rangle =\langle a_2,\boldsymbol{z} \rangle = b_2
$$For any $t \in \mathbb{R}$, we have
$$\langle a_1, (1+t) \boldsymbol{z}-t \boldsymbol{x}\rangle =(1+t)\langle a_1,\boldsymbol{z}\rangle -t\langle a_1,\boldsymbol{x}\rangle =b_1\\
\langle a_2, (1+t) \boldsymbol{z}-t \boldsymbol{x} \rangle =(1+t)\langle a_2,\boldsymbol{z}\rangle -t\langle a_2,\boldsymbol{x}\rangle = b_2</script><p>So $(1+t) \boldsymbol{z}-t \boldsymbol{x}\in S_{1}$ and $(1+t) \boldsymbol{z}-t \boldsymbol{x}\in S_{2}$ respectively.<br>So $(1+t) \boldsymbol{z}-t \boldsymbol{x} \in S_{1} \cap S_{2}$ for any $t \in \mathbb{R}$.<br>So $S_{1} \cap S_{2}$ is a plane.<br>â—¾</p>
<h2 id="b-1"><a href="#b-1" class="headerlink" title="(b)"></a>(b)</h2><p>â‘ : $\boldsymbol{z}$ is solution of $\min _{\boldsymbol{x} \in S_{1} \cap S_{2}}|\boldsymbol{x}-\boldsymbol{y}|$<br>â‘¡: $\langle\boldsymbol{z}-\boldsymbol{y}, \boldsymbol{z}-\boldsymbol{x}\rangle=0,  \forall \boldsymbol{x} \in S_{1} \cap S_{2},\boldsymbol{z} \in S_{1} \cap S_{2}$</p>
<ul>
<li>$â‘ \rightarrowâ‘¡$ </li>
</ul>
<p>As (a) result, $(1+t) \boldsymbol{z}-t \boldsymbol{x} \in S_{1} \cap S_{2}$ for any $t \in \mathbb{R}$.<br>Since Z is closest to y on $S_{1} \cap S_{2}$, we have</p>
<script type="math/tex; mode=display">\begin{aligned}
\|  z-y \|^{2} & \leqslant\|(1+t) z-t x-y\|^{2} \\
&=\|(z-y)+t(z-x)\|^{2} \\
&\left.=\|z-y\|^{2}+t^{2}\|z-x\|^{2}+2 t\langle z-y, z-x\right\rangle \\
i \cdot e \cdot, \quad t\langle z &-y, z-x\rangle \ \geq -\frac{t^{2}}{2}\|z-x\|^{2}
\end{aligned}</script><p>If we choose $t&gt; 0$ , letting $t\rightarrow0_+$ gives $\langle z -y, z-x\rangle\geq 0$.<br>If we choose $t&gt; 0$ , letting $t\rightarrow0_-$ gives $\langle z -y, z-x\rangle\leq 0$.<br>Altogether, $z$ satisfies $\langle z -y, z-x\rangle= 0,\forall \boldsymbol{x} \in S_{1} \cap S_{2}$</p>
<ul>
<li>$â‘¡\rightarrowâ‘ $ </li>
</ul>
<p>Since$\langle \boldsymbol{z}-y, \boldsymbol{z}-x\rangle=0 , \forall \boldsymbol{x} \in S_{1} \cap S_{2}$</p>
<script type="math/tex; mode=display">\begin{aligned}
\|x-y\|^{2} &=\|(z-x)-(z-y)\|^{2} \\
&=\|z-x\|^{2}+\|z-y\|^{2}-2\langle z-x, z-y\rangle \\
&=\|z-y\|^{2}+\|z-x\|^{2} \geq\|z-y\|^{2} \quad \boldsymbol{x} \in S_{1} \cap S_{2}
\end{aligned}</script><p>This together with $\boldsymbol{z} \in S_{1} \cap S_{2}$ implies z minimizes $|\boldsymbol{z}-y|^{2}$ in $\boldsymbol{x} \in S_{1} \cap S_{2}$.<br>â—¾</p>
<h2 id="c-1"><a href="#c-1" class="headerlink" title="(c)"></a>(c)</h2><p>Because $\boldsymbol{z}$ need satisfies $\langle \boldsymbol{z} -y, \boldsymbol{z}-x\rangle= 0$, so set $\boldsymbol{z}=m a_{1}+n a_{2}+y$, and $\boldsymbol{z} \in S_{1} \cap S_{2}$ so we can get this two equation.</p>
<script type="math/tex; mode=display">\left\{\begin{array}{l}\langle m a_{1}+n a_{2}+y, a_{1}\rangle =b_{1} \\ \langle m a_{1}+n a_{2}+y_{2} a_{2}\rangle =b_{2}\end{array}\right.</script><p>$Simplify \downarrow$</p>
<script type="math/tex; mode=display">\left\{\begin{array}{l}
m\langle a_{1}, a_{1}\rangle +n\langle a_{2}, a_{1}\rangle =b_{1}-\langle a_{1}, y\rangle  \\
m\langle a_{1}, a_{2}\rangle +n\langle a_{2}, a_{2}\rangle =b_{2}-\langle a_{2}, y\rangle 
\end{array}\right.</script><p>$Simplify \downarrow$</p>
<script type="math/tex; mode=display">\left\{\begin{array}{l}
m=\frac{[b_{1}-\langle a_{1}, y\rangle ]\|a_2\|^2-[b_{2}-\langle a_{2}, y\rangle ]\langle a_1,a_2\rangle  }{\|a_1\|^2\|a_2\|^2-\langle a_1,a_2\rangle ^2}\\
n=\frac{[b_{1}-\langle a_{1}, y\rangle ]\langle a_1,a_2\rangle -[b_{2}-\langle a_{2}, y\rangle ]\|a_1\|^2 }{\langle a_1,a_2\rangle ^2-\|a_1\|^2\|a_2\|^2} 
\end{array}\right.</script><p>Then we can get the explicit solution is $\boldsymbol{z}=m a_{1}+n a_{2}+y$.<br>â—¾</p>
<h2 id="d"><a href="#d" class="headerlink" title="(d)"></a>(d)</h2><p>Suppose we have two solutions $\boldsymbol{z_1}$ and $\boldsymbol{z_2}$. Then<br>$\boldsymbol{z_1}$ is a solution, $\rightarrow$ $\langle \boldsymbol{z_1} -y, \boldsymbol{z_1}-\boldsymbol{z_2}\rangle= 0$.<br>$\boldsymbol{z_2}$ is a solution, $\rightarrow$ $\langle \boldsymbol{z_2} -y, \boldsymbol{z_2}-\boldsymbol{z_1}\rangle= 0$.<br>Taking difference leads to $\langle \boldsymbol{z_1} -\boldsymbol{z_2}, \boldsymbol{z_1}-\boldsymbol{z_2}\rangle= 0$.<br>So $|\boldsymbol{z_1}-\boldsymbol{z_2}|^2=0,\boldsymbol{z_1}=\boldsymbol{z_2}$ . Itâ€™s unique.<br>â—¾</p>
<h1 id="Q3"><a href="#Q3" class="headerlink" title="Q3"></a>Q3</h1><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200331102826.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
<h2 id="a-2"><a href="#a-2" class="headerlink" title="(a)"></a>(a)</h2><p>For any $a \in H$, we claim that $a$ can be decomposed into a a part in training data space and a part which is orthogonal to it.</p>
<script type="math/tex; mode=display">a = a_s + \sum_{i=1}^Nc_i \boldsymbol{x}_i,where \boldsymbol{c}=[c_1,c_2,...c_N]^T \in \mathbb{R}^N,and \langle a_s, x_i \rangle=0,for i=1,2,...N</script><p>Therefore,</p>
<script type="math/tex; mode=display">
\begin{aligned}
&\sum_{i=1}^{N}\left(\left\langle\boldsymbol{a}, \boldsymbol{x}_{i}\right\rangle-y_{i}\right)^{2}+\lambda\|\boldsymbol{a}\|_{2}^{2} \\&=\sum_{i=1}^{N}\left(\left\langle a_s + \sum_{i=1}^Nc_i \boldsymbol{x}_i, \boldsymbol{x}_{i}\right\rangle-y_{i}\right)^{2}+\lambda\| a_s + \sum_{i=1}^Nc_i \boldsymbol{x}_i \|_{2}^{2}\\
&=\sum_{i=1}^{N}\left(\sum_{i=1}^Nc_i    \boldsymbol{x}_i \boldsymbol{x}_{j}-y_{i}\right)^{2}+\lambda(\sum_{i=1}^N\sum_{i=1}^Nc_i c_j   \boldsymbol{x}_i\boldsymbol{x}_{j} +\|a_s\|^2_2)\\
&=\|KC-y\|_2^2+\lambda C^TKC+\lambda  \|a_s\|^2_2
\end{aligned}</script><p>where $K=\left[\begin{array}{c}\boldsymbol{x}_{1} \\ \boldsymbol{x}_{2} \\ \vdots \\ \boldsymbol{x}_{N}\end{array}\right]\cdot \left[\begin{array}{c}\boldsymbol{x}_{1} , \boldsymbol{x}_{2} ,\dots ,\boldsymbol{x}_{N}\end{array}\right]$, $C=\left[\begin{array}{c}c_{1} \\ c_{2} \\ \vdots \\ c_{N}\end{array}\right] \in \mathbb{R}^{N}$<br>Because $|a_s|^2_2 \geq 0$, the objective function is minimized when $|a_s|^2_2=0$<br>Thus, the solution must in the form$a =  \sum_{i=1}^Nc_i \boldsymbol{x}_i$.<br>â—¾</p>
<h2 id="b-2"><a href="#b-2" class="headerlink" title="(b)"></a>(b)</h2><p>From (a) we can get </p>
<script type="math/tex; mode=display">
\begin{aligned}
&\min _{\boldsymbol{a} \in \mathbb{R}^{n}}\sum_{i=1}^{N}\left(\left\langle\boldsymbol{a}, \boldsymbol{x}_{i}\right\rangle-y_{i}\right)^{2}+\lambda\|\boldsymbol{a}\|_{2}^{2} 
\\&= \min _{\boldsymbol{c} \in \mathbb{R}^{N}} \|KC-y\|_2^2+\lambda C^TKC+\lambda  \|a_s\|^2_2
\end{aligned}</script><p>The unknowns from $\boldsymbol{a}\in \mathbb{R}^{n}$ become $\boldsymbol{c}\in \mathbb{R}^{N}$ N (N&lt;n), which has fewer unknowns than original formulation.</p>
]]></content>
      <categories>
        <category>5004</category>
      </categories>
  </entry>
  <entry>
    <title>CS224n-9-å¦‚ä½•åšå¥½project?</title>
    <url>/2020/CS224n-9/</url>
    <content><![CDATA[<blockquote>
<p>è¿™èŠ‚ä¸»è¦æ˜¯ä»‹ç»projectçš„è¦æ±‚ï¼Œä¹Ÿé‡æ–°æåˆ°äº†LSTMï¼ŒGRUï¼Œè¿˜æœ‰ä¸€äº›trick. æ¯”è¾ƒæ‚ã€‚</p>
</blockquote><h1 id="projecté€‰æ‹©é—®é¢˜"><a href="#projecté€‰æ‹©é—®é¢˜" class="headerlink" title="projecté€‰æ‹©é—®é¢˜"></a>projecté€‰æ‹©é—®é¢˜</h1><ul>
<li>é»˜è®¤çš„Task: Building a textual question answering system for SQuAD<br>â€¢ Stanford Question Answering Dataset<br>â€¢ <a href="https://rajpurkar.github.io/SQuAD-explorer/" target="_blank" rel="noopener">https://rajpurkar.github.io/SQuAD-explorer/</a><br> è¿™ä¸ªä»»åŠ¡ç›¸å½“äºåœ¨åšè‹±è¯­é˜…è¯»é¢˜ï¼Œè¾“å…¥ä¸€æ®µè¯å’Œä¸€ä¸ªé—®é¢˜ï¼Œè¾“å‡ºæ˜¯å¦æœ‰ç­”æ¡ˆï¼Œç­”æ¡ˆæ˜¯å“ªä¸ªå•è¯ã€‚ </li>
<li>Custom Final Projectï¼š å¤§ä½¬è‡ªå·±å»ç ”ç©¶å§</li>
</ul><a id="more"></a>

<h1 id="projectçš„æ¢ç´¢æ–¹å‘"><a href="#projectçš„æ¢ç´¢æ–¹å‘" class="headerlink" title="projectçš„æ¢ç´¢æ–¹å‘"></a>projectçš„æ¢ç´¢æ–¹å‘</h1><ol>
<li>æ‰¾æ–°çš„ä»»åŠ¡ï¼Œç”¨å°±çš„æ–¹æ³•</li>
<li>è°ƒæ•´ç¥ç»ç½‘ç»œçš„ç»“æ„ï¼Œä¼˜åŒ–æ€§èƒ½</li>
<li>æå‡ºæ–°çš„ç½‘ç»œï¼Œå¹¶éªŒè¯</li>
<li>åˆ†æé¡¹ç›®ï¼Œåˆ†æç°æœ‰çš„æ¨¡å‹å¦‚ä½•ç†è§£è¯­è¨€</li>
<li>Rare theoretical project: Show some interesting, non-trivial properties of a model type, data, or a data representation æ²¡ç†è§£<h2 id="å¾€å±Šä¼˜ç§€project"><a href="#å¾€å±Šä¼˜ç§€project" class="headerlink" title="å¾€å±Šä¼˜ç§€project"></a>å¾€å±Šä¼˜ç§€project</h2><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200318013542.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>é€šè¿‡è¯—é›†è®­ç»ƒç”Ÿæˆè¯—é›†ã€‚ç»“æ„ä¸å¤æ‚ï¼Œæ›¿æ¢æ•°æ®é›†å°±æ˜¯æ–°ä»»åŠ¡ï¼Œå¯ä»¥ä¹‹åå‚è€ƒä»¿ç…§ç€åšã€‚<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200318013834.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>é€šè¿‡å‹ç¼©æ•°æ®é•¿åº¦ï¼Œæ¥ä¼˜åŒ–è®¡ç®—é€Ÿåº¦ã€‚(å¾ˆå¸¸è§çš„æ–¹æ³•)<h2 id="æ‰¾æ–¹å‘ï¼Œè¯»è®ºæ–‡"><a href="#æ‰¾æ–¹å‘ï¼Œè¯»è®ºæ–‡" class="headerlink" title="æ‰¾æ–¹å‘ï¼Œè¯»è®ºæ–‡"></a>æ‰¾æ–¹å‘ï¼Œè¯»è®ºæ–‡</h2>å…¶ä»–çš„æ–¹æ³•å»å¯»æ‰¾è®ºæ–‡  ï¼Œä¸è¿‡å¯¹æˆ‘æ¥è¯´ï¼Œæˆ‘è§‰å¾—æ‰¾ä¸¤ä¸ªåˆ«äººåšå¥½çš„é¡¹ç›®ï¼Œå¤ç°ä¸€ä¸‹å°±ä¸é”™äº†ã€‚ğŸ¤ª<br><a href="https://aclanthology.info" target="_blank" rel="noopener">https://aclanthology.info</a><br><a href="https://paperswithcode.com/sota" target="_blank" rel="noopener">https://paperswithcode.com/sota</a><br><a href="http://www.arxiv-sanity.com" target="_blank" rel="noopener">http://www.arxiv-sanity.com</a></li>
</ol>
<p>æ³¨æ„ï¼š<br>æ•°æ®æœ€å¥½å®Œæ•´ï¼Œä»»åŠ¡å¯è¡Œï¼Œä¸€ç‚¹è¦æœ‰å¯ä»¥è‡ªåŠ¨è¯„ä»·çš„æŒ‡æ ‡ã€‚(å¾ˆå¤šä»»åŠ¡éƒ½ä¸å¥½è¯„ä»·ç»“æœ)</p>
<h2 id="æ‰¾æ•°æ®"><a href="#æ‰¾æ•°æ®" class="headerlink" title="æ‰¾æ•°æ®"></a>æ‰¾æ•°æ®</h2><p><a href="https://catalog.ldc.upenn.edu/" target="_blank" rel="noopener">https://catalog.ldc.upenn.edu/</a><br><a href="https://linguistics.stanford.edu/resources/resources-corpora" target="_blank" rel="noopener">https://linguistics.stanford.edu/resources/resources-corpora</a><br>æœºå™¨ç¿»è¯‘ <a href="http://statmt.org" target="_blank" rel="noopener">http://statmt.org</a><br>kaggle/github</p>
<blockquote>
<p>ç„¶ååˆè®²äº†ä¸€éæ¢¯åº¦æ¶ˆå¤±çˆ†ç‚¸ï¼ŒLSTMï¼ŒGRU å°±ä¸èµ˜è¿°äº†ã€‚ ä¸»è¦æ˜¯ç†è§£GRUç”¨ä¸€ä¸ªé—¨ï¼Œæ§åˆ¶ä¸¤è¾¹çš„è¾“å…¥é‡ã€‚</p>
</blockquote>
<h1 id="ç¿»è¯‘ä¸­è¯æ±‡é‡å¤ªå¤§çš„é—®é¢˜"><a href="#ç¿»è¯‘ä¸­è¯æ±‡é‡å¤ªå¤§çš„é—®é¢˜" class="headerlink" title="ç¿»è¯‘ä¸­è¯æ±‡é‡å¤ªå¤§çš„é—®é¢˜"></a>ç¿»è¯‘ä¸­è¯æ±‡é‡å¤ªå¤§çš„é—®é¢˜</h1><p>ä¸€èˆ¬è¯­è¨€ä¸­ï¼Œå¸¸ç”¨è¯å°±å‡ ä¸‡ä¸ªï¼Œä½†æ˜¯ä½é¢‘è¯è¿˜æœ‰å¾ˆå¤š(åå‡ ä¸‡)ï¼Œè®¡ç®—é€Ÿåº¦æ…¢ï¼Œå¦‚ä½•è§£å†³å‘¢ï¼Ÿ</p>
<ul>
<li>åœ¨è®­ç»ƒå’Œæµ‹è¯•é›†ä¸Šï¼Œéƒ½é™åˆ¶è¯æ±‡é‡ï¼Œåˆ é™¤å«æœ‰ä½é¢‘è¯çš„æ ·æœ¬ã€‚</li>
<li>Attention</li>
<li>å™ªå£°å¯¹æ¯”ä¼°è®¡ï¼ˆNCEï¼ŒNoise-Contrastive Estimationï¼‰ï¼Œåˆ¤æ–­å‡ºæ²¡æœ‰å®é™…å«ä¹‰çš„è¯ï¼Œå‰”é™¤</li>
<li>Hierarchical softmax (word2vecçš„ä¼˜åŒ–æŠ€å·§)</li>
</ul>
<h1 id="åšè¯¾å ‚projectçš„åŸºæœ¬æ­¥éª¤"><a href="#åšè¯¾å ‚projectçš„åŸºæœ¬æ­¥éª¤" class="headerlink" title="åšè¯¾å ‚projectçš„åŸºæœ¬æ­¥éª¤"></a>åšè¯¾å ‚projectçš„åŸºæœ¬æ­¥éª¤</h1><ol>
<li>å®šä¹‰é—®é¢˜ã€‚æ¯”å¦‚ï¼šç¿»è¯‘ã€æ€»ç»“ã€é—®ç­”</li>
<li>æ‰¾æ•°æ®é›†ã€‚æœ€å¥½æ˜¯å·²ç»æœ‰äº†baseline</li>
<li>æ¸…æ´—æ•°æ®ã€‚åˆ†å¼€textæ•°æ®å’Œdevtestæ•°æ®</li>
<li>å®šä¹‰è¯„ä»·æŒ‡æ ‡ã€‚ä¸åŒä»»åŠ¡è¯„ä»·æŒ‡æ ‡ä¸åŒã€‚</li>
<li>å»ºç«‹baselineã€‚æ¯”å¦‚LRï¼Œç„¶åçœ‹baselineçš„å¾—åˆ†ï¼Œåˆ†æbaselineçš„é—®é¢˜</li>
<li>å°è¯•å·²ç»å­˜åœ¨çš„ç½‘ç»œæ¨¡å‹ã€‚</li>
<li>åˆ†ææ•°æ®ã€‚å¯è§†åŒ–ï¼Œç»Ÿè®¡ä¿¡æ¯ï¼ŒæŸ¥çœ‹é”™è¯¯é¢„æµ‹ï¼Œåˆ†æè¶…å‚æ•°</li>
<li>å°è¯•å…¶ä»–çš„æ¨¡å‹ã€‚</li>
</ol>
<h1 id="RNNçš„æ³¨æ„äº‹é¡¹"><a href="#RNNçš„æ³¨æ„äº‹é¡¹" class="headerlink" title="RNNçš„æ³¨æ„äº‹é¡¹"></a>RNNçš„æ³¨æ„äº‹é¡¹</h1><ol>
<li>ä½¿ç”¨LSTMæˆ–GRUï¼šå®ƒä½¿æ‚¨çš„ç”Ÿæ´»å˜å¾—æ›´åŠ ç®€å•ï¼</li>
<li>åˆå§‹åŒ–é€’å½’çŸ©é˜µä¸ºæ­£äº¤</li>
<li>ç”¨åˆç†çš„ï¼ˆå°ï¼‰æ ‡åº¦åˆå§‹åŒ–å…¶ä»–çŸ©é˜µ</li>
<li>å°†â€œé—å¿˜é—¨â€åå·®åˆå§‹åŒ–ä¸º1(é»˜è®¤ä¸ºè®°ä½)</li>
<li>ä½¿ç”¨è‡ªé€‚åº”å­¦ä¹ ç‡ç®—æ³•ï¼šAdamï¼ŒAdaDelta</li>
<li>è£å‰ªæ¸å˜çš„èŒƒæ•°ï¼š1-5ä¼¼ä¹æ˜¯åˆç†çš„ä¸Adamæˆ–AdaDeltaä¸€èµ·ä½¿ç”¨æ—¶çš„é˜ˆå€¼ã€‚</li>
<li>Either only dropout vertically or look into using Bayesian Dropout (Gal and Gahramani â€“ not natively in PyTorch)</li>
<li>è¦æœ‰è€å¿ƒï¼</li>
</ol>
<h1 id="æŒ‡å¯¼æ€æƒ³"><a href="#æŒ‡å¯¼æ€æƒ³" class="headerlink" title="æŒ‡å¯¼æ€æƒ³"></a>æŒ‡å¯¼æ€æƒ³</h1><p>ä»ç®€å•å…¥æ‰‹ï¼Œé€æ­¥å¢åŠ æ¨¡å‹å¤æ‚åº¦<br>ä»å°æ•°æ®å…¥æ‰‹ï¼Œå¯ä»¥å¿«é€Ÿè¿­ä»£<br>ä¸è¦æ€•è¿‡æ‹Ÿåˆï¼Œè¿‡æ‹Ÿåˆäº†å¯ä»¥é™ä¸‹æ¥ï¼Œä½†æ˜¯è¯æ˜äº†æ¨¡å‹çš„æ‹Ÿåˆèƒ½åŠ›</p>
]]></content>
      <categories>
        <category>CS224n</category>
      </categories>
      <tags>
        <tag>project</tag>
      </tags>
  </entry>
  <entry>
    <title>MSBD5004 Mathematical Methods for Data Analysis Homework 2</title>
    <url>/2020/MSBD5004%20Mathematical%20Methods%20for%20Data%20Analysis%20Homework%202/</url>
    <content><![CDATA[<p>MSBD5004 Mathematical Methods for Data Analysis Homework 2</p><blockquote>
<p>åŸºç¡€è¯æ˜ï¼Œæ„Ÿè§‰é¢˜ä¸å¤šï¼Œè¿˜æ˜¯ç»§ç»­æ‰“å‡ºæ¥äº†ã€‚</p>
</blockquote><h1 id="Q1"><a href="#Q1" class="headerlink" title="Q1"></a>Q1</h1><p>Let $(V,|\cdot|)$ be a normed vector space.<br>(a) Prove that, for all $x, y \in V$,</p><a id="more"></a>


<script type="math/tex; mode=display">| \|\boldsymbol{x}\|-\|\boldsymbol{y}\| |\leq\|\boldsymbol{x}-\boldsymbol{y}\|</script><p>(b) Let $\left\{x_{k}\right\}_{k \in \mathbb{N}}$ be a convergent sequence in $V$ with limit $x \in V$. Prove that</p>
<script type="math/tex; mode=display">\lim _{k \rightarrow \infty}\left\|x_{k}\right\|=\|x\|</script><p>(Hint: Use part (a).)<br>(c) Let $\left\{x^{(k)}\right\}_{k \in \mathbb{N}}$ be a sequence in $V$ and $x, y \in V .$ Prove that, if</p>
<script type="math/tex; mode=display">x^{(k)} \rightarrow x, \text { and } x^{(k)} \rightarrow y,</script><p>then $x=y .$ (In other words, the limit of the same sequence in a normed vector space is unique.)</p>
<h2 id="a"><a href="#a" class="headerlink" title="(a)"></a>(a)</h2><p>Using the norm definition, we have that $|\boldsymbol{a}+\boldsymbol{b}| \leq|\boldsymbol{a}|+|\boldsymbol{b}|$.<br>$if :\boldsymbol{a}=|\boldsymbol{x}-\boldsymbol{y}| ,\boldsymbol{b}=|\boldsymbol{y}|, then |\boldsymbol{x}| \leq |\boldsymbol{x}-\boldsymbol{y}|  +|\boldsymbol{y}|$<br>$if :\boldsymbol{a}=|\boldsymbol{y}-\boldsymbol{x}| ,\boldsymbol{b}=|\boldsymbol{x}|, then |\boldsymbol{y}| \leq |\boldsymbol{y}-\boldsymbol{x}|  +|\boldsymbol{x}|$<br>From above we can get<script type="math/tex">\|\boldsymbol{x}\|-\|\boldsymbol{y}\| \leq\|\boldsymbol{x}-\boldsymbol{y}\| , and   \|\boldsymbol{y}\|-\|\boldsymbol{x}\| \leq\|\boldsymbol{x}-\boldsymbol{y}\|</script><br>So, $| |\boldsymbol{x}|-|\boldsymbol{y}| |\leq|\boldsymbol{x}-\boldsymbol{y}|$.â—¾</p>
<h2 id="b"><a href="#b" class="headerlink" title="(b)"></a>(b)</h2><p>Using the converges definition, we can get</p>
<script type="math/tex; mode=display">\lim _{k \rightarrow \infty}\left\|\boldsymbol{x}_{k}-\boldsymbol{x}\right\|=\left\|\lim _{k \rightarrow \infty}\boldsymbol{x}_{k}-\boldsymbol{x}\right\| = 0</script><p>Useing the conclusion of (a),</p>
<script type="math/tex; mode=display">| \lim _{k \rightarrow \infty}\|\boldsymbol{x}_{k}\|-\|\boldsymbol{x}\||=\left\|\lim _{k \rightarrow \infty}\boldsymbol{x}_{k}-\boldsymbol{x}\right\| = 0</script><p>Then, we get $\lim _{k \rightarrow \infty}\left|\boldsymbol{x}_{k}\right|=|\boldsymbol{x}|$.â—¾</p>
<h2 id="c"><a href="#c" class="headerlink" title="(c)"></a>(c)</h2><p><strong>Proof</strong>: Assume that as $k \rightarrow \infty$ then $x^{(k)} \rightarrow x$ and also $x^{(k)} \rightarrow y .$</p>
<ul>
<li>Let $\epsilon&gt;0$ be given and choose $N_{1} \in \mathbb{N}$ such that<br>$\left|x^{(k)}-x\right|&lt;\frac{\epsilon}{2}$. And also choose $N_{2} \in \mathbb{N}$ such that<br>$\left|x^{(k)}-y\right|&lt;\frac{\epsilon}{2}$.</li>
<li>Now choose $N=\max \left(N_{1}, N_{2}\right)$. Not that the choose the maximum of $N_{1}$ and $N_{2}$, then it will be true that regardless $\left|x^{(k)}-x\right|&lt;\frac{\epsilon}{2}$ and<br>$\left|x^{(k)}-y\right|&lt;\frac{\epsilon}{2}$. Now consider the following inequality:<script type="math/tex; mode=display">|x-y|=\left|x-x^{(k)}+x^{(k)}-y\right|=\left|\left(x-x^{(k)}\right)+\left(x^{(k)}-y\right)\right|</script></li>
<li>By the triangle inequality, we get that:<script type="math/tex; mode=display">|x-y|=\left|\left(x-x^{(k)}\right)+\left(x^{(k)}-y\right)\right| \leq\left|x-x^{(k)}\right|+\left|x^{(k)}-y\right|<\frac{\epsilon}{2}+\frac{\epsilon}{2}=\epsilon</script>Therefore $|x-y|&lt;\epsilon .$  $x-y$ is a number, and $\forall \epsilon&gt;0,|x-y|&lt;\epsilon$. So that $x=y$.â—¾</li>
</ul>
<h1 id="Q2"><a href="#Q2" class="headerlink" title="Q2"></a>Q2</h1><ol>
<li>Let $V$ be a vector space, and $\langle\cdot, \cdot\rangle$ be an inner product on $V$. Use the definition of inner product to prove the following.<br>(a) Prove that $\langle \boldsymbol{0}, x\rangle=\langle x,  \boldsymbol{0}\rangle= 0$ for any $x \in V .$ Here  $\boldsymbol{0}$ is the zero vector in $V$.<br>(b) Prove that the second condition<br>â‘ <script type="math/tex">\left\langle\alpha x_{1}+\beta x_{2}, y\right\rangle=\alpha\left\langle x_{1}, y\right\rangle+\beta\left\langle x_{2}, y\right\rangle \quad \forall x_{1}, x_{2}, y \in V, \alpha, \beta \in \mathbb{R}</script> is equivalent to â‘¡<script type="math/tex">\left\langle x_{1}+x_{2}, y\right\rangle=\left\langle x_{1}, y\right\rangle+\left\langle x_{2}, y\right\rangle \text { and }\langle\alpha x, y\rangle=\alpha\langle x, y\rangle, \quad \forall x_{1}, x_{2}, x, y \in V, \alpha \in \mathbb{R}</script></li>
</ol>
<h2 id="a-1"><a href="#a-1" class="headerlink" title="(a)"></a>(a)</h2><p>There are 3 condition of definition of inner product:</p>
<script type="math/tex; mode=display">
 \begin{array}{l}\text { (1) } \quad \forall x \in V, \quad\langle x, x\rangle \geq 0 \quad \text { and } \quad\langle x, x\rangle= 0 \Leftrightarrow x=0 \\ \text { (2) }\left.\quad\langle\alpha x_{1}+\beta x_{2}, y\rangle=\alpha\langle x_{1}, y\rangle+\beta\langle x_{2}, y\right\rangle \quad \forall \alpha, \beta \in R, \quad x_{1}, x_{2}, y \in V \\ \text { (3) }\left.\quad \langle x, y\right\rangle=\langle y, x\rangle\end{array}</script><p>Use (3) if $y= \boldsymbol{0}$, we can get  $\langle \boldsymbol{0}, x\rangle=\langle x,  \boldsymbol{0}\rangle$.<br>Use (2) if $y=x,  x_1=x_2=\boldsymbol{0},\alpha=\beta=1$, we can get $\langle \boldsymbol{0}, x\rangle=2*\langle \boldsymbol{0}, x\rangle$, so $\langle \boldsymbol{0}, x\rangle=0$<br>From above, we can get $\langle \boldsymbol{0}, x\rangle=\langle x,  \boldsymbol{0}\rangle= 0$. â—¾</p>
<h2 id="b-1"><a href="#b-1" class="headerlink" title="(b)"></a>(b)</h2><p>â‘ <script type="math/tex">\left\langle\alpha x_{1}+\beta x_{2}, y\right\rangle=\alpha\left\langle x_{1}, y\right\rangle+\beta\left\langle x_{2}, y\right\rangle \quad \forall x_{1}, x_{2}, y \in V, \alpha, \beta \in \mathbb{R}</script><br>â‘¡<script type="math/tex">\left\langle x_{1}+x_{2}, y\right\rangle=\left\langle x_{1}, y\right\rangle+\left\langle x_{2}, y\right\rangle \text { and }\langle\alpha x, y\rangle=\alpha\langle x, y\rangle, \quad \forall x_{1}, x_{2}, x, y \in V, \alpha \in \mathbb{R}.</script><br><strong>Proof</strong>: </p>
<ul>
<li><p>$â‘ \rightarrowâ‘¡$ :<br>set $\alpha=\beta=1$, we can get first equation of â‘¡$\forall x_{1}, x_{2}, x, y \in V, \alpha \in \mathbb{R}.$.<br>set $x_1=x, \beta=0$, we can get second equation of â‘¡$\forall x_{1}, x_{2}, x, y \in V, \alpha \in \mathbb{R}.$.</p>
</li>
<li><p>$â‘¡\rightarrowâ‘ $ :<br>set $x_1= \alpha x_1, x_2= \beta x_2$, we can get<br><script type="math/tex">\left\langle\alpha x_{1}+\beta x_{2}, y\right\rangle=\left\langle\alpha x_{1}, y\right\rangle+\left\langle\beta x_{2}, y\right\rangle=\alpha\left\langle x_{1}, y\right\rangle+\beta\left\langle x_{2}, y\right\rangle \quad \forall x_{1}, x_{2}, y \in V, \alpha, \beta \in \mathbb{R}</script>â—¾</p>
</li>
</ul>
<h1 id="Q3"><a href="#Q3" class="headerlink" title="Q3"></a>Q3</h1><p>$\mathbb{R}^{m \times n}$ is a vector space over $\mathbb{R}$. Show that $\langle\boldsymbol{A}, \boldsymbol{B}\rangle=\operatorname{trace}\left(\boldsymbol{A}^{T} \boldsymbol{B}\right) \text { for } \boldsymbol{A}, \boldsymbol{B} \in \mathbb{R}^{m \times n}$ is an inner product on $\mathbb{R}^{m \times n} .$ Here trace(.)  is the trace of a matrix, i.e., the sum of all diagonal entries.</p>
<p><strong>Proof</strong>:<br>For every $A=(A_{ij}) \in \mathbb{R}^{m\times n}$ we have <script type="math/tex">\langle A,A\rangle=\text{tr}(A^TA)=\sum_{i=1}^n(A^TA)_{ii}=\sum_{i=1}^n\sum_{j=1}^mA^T_{ij}A_{ji}=\sum_{i=1}^m\sum_{j=1}^nA_{ij}^2 \ge 0,</script> and <script type="math/tex">\langle A,A\rangle=\sum_{i=1}^m\sum_{j=1}^nA_{ij}^2 = 0\iff (A_{ij}=0 \quad \forall i,j) \iff A=0</script> Since <script type="math/tex">\text{tr}(X^T)=\text{tr}(X), \quad \text{tr}(X+Y)=\text{tr}(X)+\text{tr}(Y), \quad \text{tr}(\lambda X)=\lambda\text{tr}(X)</script> for every $X,Y \in \mathbb{R}^{n\times n}$, and $\lambda \in \mathbb{R}$, therefore, for every $A,B, C \in \mathbb{R}^{m\times n}$, and $\lambda \in \mathbb{R}$ we have</p>
<script type="math/tex; mode=display">\langle A,B\rangle=\text{tr}(B^TA)=\text{tr}((B^TA)^T)=\text{tr}(A^TB)=\langle B,A\rangle,\\
\langle \lambda A+B,C\rangle=\text{tr}(C^T(\lambda A+B))=\text{tr}(\lambda C^TA+C^TB)=\lambda\text{tr}(C^TA)+\text{tr}(C^TB)\\
=\lambda\langle A,C\rangle+\langle B,C\rangle</script><h1 id="Q4"><a href="#Q4" class="headerlink" title="Q4"></a>Q4</h1><p>Consider the polynomial kernel $K(\boldsymbol{x}, \boldsymbol{y})=\left(\boldsymbol{x}^{T} \boldsymbol{y}+1\right)^{2}$ for $\boldsymbol{x}, \boldsymbol{y} \in \mathbb{R}^{2} .$ Find an explicit feature map $\phi: \mathbb{R}^{2} \rightarrow \mathbb{R}^{6}$ satisfying $\langle\phi(\boldsymbol{x}), \phi(\boldsymbol{y})\rangle= K(\boldsymbol{x}, \boldsymbol{y}),$ where the inner product the standard inner product<br>in $\mathbb{R}^{6}$.<br><strong>Solution as follow:</strong></p>
<script type="math/tex; mode=display">
 \begin{array}{c}\phi\left(\left(\begin{array}{c}x_{1} \\ x_{2}\end{array}\right),\left(\begin{array}{c}y_{1} \\ y_2\end{array}\right)\right)=\left(1+x_{1} y_{1}+x_{2} y_2\right)^{2} \\ =1+\left(x_{1} y_{1}\right)^{2}+\left(x_{2} y_2\right)^{2}+2 x_{1} y_{1}+2 x_{2} y_2+2 x_{1} y_{1} x_{2} y_2\end{array}</script><script type="math/tex; mode=display">=\left(\begin{array}{llll}1 & \sqrt{2}x_{1} & \sqrt{2} x_{2} & x_{1}^{2}\sqrt{2} &x_{1} x_{2}  &x_{2}^{2}\end{array} \right)^{T} \left(\begin{array}{llll}1 & \sqrt{2}x_{1} & \sqrt{2} x_{2} & x_{1}^{2}\sqrt{2} &x_{1} x_{2}  &x_{2}^{2}\end{array} \right)</script><h1 id="Q5"><a href="#Q5" class="headerlink" title="Q5"></a>Q5</h1><p>(You donâ€™t need to do anything for this question.) A good Matlab code and demonstration of kernel K-means can be found at <a href="http://www.dcs.gla.ac.uk/~srogers/firstcourseml/matlab/chapter6/kernelkmeans.html" target="_blank" rel="noopener">http://www.dcs.gla.ac.uk/~srogers/firstcourseml/matlab/chapter6/kernelkmeans.html</a> Read the code. Run the code in Matlab, if possible, to see how kernel K-means works for nonlinear data.</p>
]]></content>
      <categories>
        <category>5004</category>
      </categories>
      <tags>
        <tag>Homework</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€åˆ†äº«æ•´ç†ã€‘ç¾å›¾ä¸ªæ€§åŒ–pushçš„æ¢ç´¢ä¹‹è·¯</title>
    <url>/2020/%E7%BE%8E%E5%9B%BE%E4%B8%AA%E6%80%A7%E5%8C%96push/</url>
    <content><![CDATA[<blockquote>
<p>è¿™ç¯‡æ–‡ç« æ˜¯å¸®DataFunTalkç¤¾åŒºæ•´ç†çš„è®²ç¨¿ï¼Œä¹Ÿå°±æ˜¯æŠŠå±•ç¤ºçš„å†…å®¹å†™æˆæ–‡å­—ï¼ŒæŒºè´¹æ—¶é—´çš„ï¼Œè¿˜å¥½æ˜¯æ¯”è¾ƒæ„Ÿå…´è¶£çš„è¯é¢˜ã€‚æœ€åä¹Ÿå­¦åˆ°äº†ä¸€äº›æ¨¡å‹è¿­ä»£çš„æ€è·¯ã€‚<br>è¿™ä¸ªåˆ†äº«å¯¹æˆ‘å¯å‘æœ€å¤§çš„æ˜¯å¬å›æºå®Œå…¨å¯ä»¥å½“åšç‰¹å¾åŠ åˆ°æ’åºé‡Œå•Šï¼ï¼ï¼æˆ‘ä¹‹å‰å®ä¹ çš„æ—¶å€™ï¼Œåªæƒ³çš„æ˜¯é€šè¿‡æ¨¡å‹æ”¹å˜å¬å›æºçš„æ•°é‡ï¼Œä»è€Œæ§åˆ¶ä¸‹å‘çš„æ¯”ä¾‹ï¼ŒçœŸçš„å¤ªå‚»äº†5555</p>
</blockquote><a id="more"></a>
<hr>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200310141819.jpg?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
<p><strong>å¯¼è¯»ï¼š</strong> Push ä½œä¸ºä¸€ç§æœ‰æ•ˆçš„æ‹‰èµ· DAU å’Œå¬å›ç”¨æˆ·çš„ç­–ç•¥ï¼Œè¿‘å‡ å¹´æ¥è¢«å„ç±»ç¤¾äº¤ App å¹¿æ³›åº”ç”¨ï¼Œéšç€æ·±åº¦ç¥ç»ç½‘ç»œåœ¨è¯­éŸ³å’Œå›¾åƒè¯†åˆ«ä¸Šå–å¾—çš„å·¨å¤§æˆåŠŸï¼ŒAlphaGo æˆ˜èƒœäººç±»å›´æ£‹é¡¶å°–é«˜æ‰‹ï¼Œä»¥æ·±åº¦ç½‘ç»œä¸ºåŸºç¡€çš„äººå·¥æ™ºèƒ½è¿æ¥ç¬¬ä¸‰æ¬¡é«˜æ½®ã€‚å¦‚ä½•å°†æ·±åº¦æ¨¡å‹åº”ç”¨äºä¸ªæ€§åŒ– push åœºæ™¯ï¼Œä»è€Œå‡å°‘æ— æ•ˆ push å¯¹ç”¨æˆ·çš„éªšæ‰°ï¼Œæ˜¯è¿‘å¹´æ¥ä¸€ä¸ªå…³æ³¨çš„çƒ­ç‚¹ã€‚æœ¬æ¬¡åˆ†äº«è®²ä» Embeddingï¼Œå¬å›ï¼Œæ’åºï¼Œæ–‡æ¡ˆï¼Œå†…å®¹æ± ç­‰å¤šä¸ªæ–¹é¢ä»‹ç»å¦‚ä½•æ‰“é€ ä¸€ä¸ªè‰¯å¥½çš„ push åœºæ™¯ã€‚</p>
<hr>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200310141817.jpg?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>æœ¬æ¬¡åˆ†äº«ä¸»è¦ä»‹ç»ä¸ªæ€§åŒ–pushç®—æ³•ï¼ŒåŒ…æ‹¬ä¸šåŠ¡èƒŒæ™¯ï¼Œembeddingå¬å›å’Œæ’åºï¼Œä¸æ¶‰åŠç³»ç»Ÿæ¶æ„ã€‚</p>
<h1 id="1-ä¸šåŠ¡èƒŒæ™¯"><a href="#1-ä¸šåŠ¡èƒŒæ™¯" class="headerlink" title="1. ä¸šåŠ¡èƒŒæ™¯"></a>1. ä¸šåŠ¡èƒŒæ™¯</h1><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200310144742.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>Pushä¹Ÿå°±æ˜¯æ¨é€é€šçŸ¥ï¼Œå¯ä»¥é€šè¿‡ç³»ç»Ÿç•Œé¢ç›´æ¥è§¦è¾¾ç”¨æˆ·ï¼Œå½“ç”¨æˆ·ç‚¹å‡»å°±ä¼šå”¤é†’APPï¼Œæ˜¯æé«˜APPçš„æ—¥æ´»ï¼Œç•™å­˜ç­‰æŒ‡æŒ‡æ ‡é‡è¦çš„ç¯èŠ‚ä¹‹ä¸€ã€‚</p>
<h1 id="2-Embedding-æ¼”è¿›"><a href="#2-Embedding-æ¼”è¿›" class="headerlink" title="2.Embedding æ¼”è¿›"></a>2.Embedding æ¼”è¿›</h1><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200310141818.jpg?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
<p>æœ¬æ¬¡ä»ä¸‰ä¸ªç®—æ³•å±‚é¢ä»‹ç»embeddingï¼šWord2Vecï¼ŒListing Embedding(å‚è€ƒAirbnb)åœ¨ä¸ªæ€§åŒ–pushçš„åº”ç”¨ï¼Œä»¥åŠè¿‘ä¸¤å¹´æµè¡Œçš„å›¾ç›¸å…³çš„ç®—æ³•GCNsã€‚</p>
<h2 id="2-1Word2Vec"><a href="#2-1Word2Vec" class="headerlink" title="2.1Word2Vec"></a>2.1Word2Vec</h2><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200310145635.jpg?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
<ul>
<li>Feedä¹Ÿå°±æ˜¯å±•ç¤ºé¡µçš„ä¸€ä¸ªitemï¼Œå¯¹äºç¾å›¾ç§€ç§€æ¥è¯´å°±æ˜¯ç”¨æˆ·å‘çš„ä¸€å¼ å›¾ï¼Œå¯¹äºç”µå•†æ¥è¯´å°±æ˜¯ä¸€ä¸ªå•†å“ï¼Œæœ¬æ–‡ç»Ÿä¸€ç§°ä¸ºfeedã€‚</li>
<li>Embeddingå°±æ˜¯æŠŠä»»ä½•ä¸€ä¸ªFeedè½¬åŒ–ä¸ºä¸€ä¸ªå‘é‡ï¼ŒæœåŠ¡äºåé¢çš„å¬å›å’Œæ’åºã€‚Embeddingæ˜¯æ¯”è¾ƒåŸºç¡€çš„è¿‡ç¨‹ï¼Œåœ¨æœ€å¼€å§‹é˜¶æ®µï¼Œæˆ‘ä»¬å°è¯•äº†æœ€åŸºç¡€çš„Work2Vecä¸­çš„Skip-Gramçš„æ¨¡å‹ï¼Œé€šè¿‡å¯¹äºç”¨æˆ·çš„ç‚¹å‡»åºåˆ—æ¨¡ä»¿Work2Vecä¸­çš„ä¸€ä¸ªå¥å­ã€‚å¦‚å›¾ï¼Œæˆ‘ä»¬æœ‰åºåˆ—ä¹‹åï¼Œå®šä¹‰çª—å£å¤§å°ï¼Œé€šè¿‡ä¸­å¿ƒè¯ï¼Œå°±ä¼šå¾—åˆ°Train Sampleã€‚å¦‚å›¾ï¼šå®šä¹‰å•ä¾§çª—å£å¤§å°ä¸º2ï¼Œå°±å¯ä»¥å¾—åˆ°æ ·æœ¬å¯¹ï¼ŒæŠŠæ ·æœ¬å¯¹è¾“å…¥æ¨¡å‹ï¼Œå°±å¯ä»¥è¿”å›å‘é‡ã€‚åœ¨å®éªŒä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†60å¤©çš„ç‚¹å‡»åºåˆ—ï¼Œè¾“å‡ºå‘é‡è®¾ç½®ä¸º100ç»´ã€‚</li>
</ul>
<h2 id="2-2Airbnb-Listing-Embedding"><a href="#2-2Airbnb-Listing-Embedding" class="headerlink" title="2.2Airbnb Listing Embedding"></a>2.2Airbnb Listing Embedding</h2><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200310151758.jpg?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>Airbnb listing Embedding æ˜¯2018å¹´KDDçš„æœ€ä½³è®ºæ–‡ï¼Œè¿™é‡Œå’ŒWord2Vecä¸»è¦çš„åŒºåˆ«åœ¨äºæŸå¤±å‡½æ•°ï¼Œæ¨¡å‹æœ¬èº«å’ŒWord2Vecæ˜¯ä¿æŒä¸€è‡´çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆçœ‹Word2Vecçš„æŸå¤±å‡½æ•°ã€‚</p>
<script type="math/tex; mode=display">
 \text { objective }=\operatorname{argmax}\left\{\sum_{(l, c t x) \in D_{p}} \log \frac{1}{1+e^{-\hat{v}_{c x x} v_{i}}}+\sum_{(l, c t x) \in D_{m}} \log \frac{1}{1+e^{\tilde{v}_{c x} v_{i}}}\right\}</script><p>æŸå¤±å‡½æ•°ç”±æ­£è´Ÿæ ·æœ¬ä¸¤éƒ¨åˆ†ç»„æˆï¼Œæ­£æ ·æœ¬å¯¹$D_p$æ¥æºäºç”¨æˆ·ç‚¹å‡»æµç”Ÿæˆçš„item pairï¼Œè´Ÿæ ·æœ¬å¯¹$D_m$é€šè¿‡å½“å‰çš„item+éšæœºé‡‡æ ·ç©ºé—´çš„å…¶ä»–item(è¿™é‡Œå‡è®¾éšæœºé‡‡æ ·çš„æ ·æœ¬ä¸æ˜¯å½“å‰itemçš„é‚»å±…)ï¼ŒCtxè¡¨ç¤ºä¸Šä¸‹æ–‡ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯åœ¨logé‡Œï¼Œæ­£æ ·æœ¬å‰é¢æœ‰è´Ÿå·ï¼Œè´Ÿæ ·æœ¬æ²¡æœ‰è´Ÿå·ã€‚</p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200310151909.jpg?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>ä½†æ˜¯ï¼Œä¹‹å‰çš„æ„é€ åªç”¨äº†ç”¨æˆ·çš„ç‚¹å‡»æ•°æ®ï¼Œå®é™…ä¸Šç”¨æˆ·è¿˜æœ‰ç‚¹èµã€åˆ†äº«ç­‰è¡Œä¸ºæ•°æ®å¯ä»¥åˆ©ç”¨ã€‚æ‰€ä»¥ï¼Œåœ¨Airbnb listing Embeddingä¸­ï¼ŒåŠ å…¥äº†Global Contextè¿™æ ·ä¸€ä¸ªæ¦‚å¿µï¼šé€šè¿‡ç”¨æˆ·å†å²çš„ç‚¹èµã€åˆ†äº«å¯¹åº”çš„feedï¼Œä¸å½“å‰çš„feedæ„é€ å‡ºå…¨å±€æ­£æ ·æœ¬å¯¹ï¼ŒåŠ å…¥åˆ°æŸå¤±å‡½æ•°ä¸­ã€‚(å¦‚å…¬å¼ä¸­çš„ç´«è‰²éƒ¨åˆ†)</p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200310151921.jpg?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>åŒç†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç”¨æˆ·çš„ç‚¹å‡»â€œä¸å–œæ¬¢â€çš„è¡Œä¸ºæ¥æ„é€ è´Ÿæ ·æœ¬(å¦‚å…¬å¼ä¸­çš„çº¢è‰²éƒ¨åˆ†)ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œç”¨æˆ·çš„æµè§ˆè¿‡ä½†æ˜¯æ²¡æœ‰ç‚¹å‡»çš„feedä¹Ÿå¯ä»¥éšæœºé‡‡æ ·ä¹‹åå½“åšè´Ÿæ ·æœ¬ï¼ŒåŠ å…¥åˆ°æŸå¤±å‡½æ•°ä¸­(å¦‚å…¬å¼ä¸­çš„è“è‰²éƒ¨åˆ†)ã€‚</p>
<p>è¿™æ ·ï¼Œå°±æŠŠAirbnb listing Embeddingçš„ç­–ç•¥å¼•å…¥åˆ°äº†ç¾å›¾ç§€ç§€çš„åœºæ™¯é‡Œã€‚</p>
<h2 id="2-3Graph-Embedding"><a href="#2-3Graph-Embedding" class="headerlink" title="2.3Graph Embedding"></a>2.3Graph Embedding</h2><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200310151945.jpg?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>Graph Embeddingæ˜¯è¿‘å‡ å¹´æ¯”è¾ƒæµè¡Œçš„Embeddingæ–¹æ³•ï¼Œä¸»è¦ç­–ç•¥å¯ä»¥åˆ†ä¸ºä¸‰ç±»ï¼šShallow Embedding, Neighborhood autoencoder methodså’ŒGCNçš„æ–¹æ³•ã€‚ä½†æ˜¯å‰ä¸¤ç§æ–¹æ³•æ¶‰åŠåˆ°ä¸å¯æ‹“å±•å’Œç›´æ¨å¼çš„ç¼ºé™·ï¼ŒGCNå¯ä»¥é¿å…ä»¥ä¸Šçš„ç¼ºé™·ã€‚</p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200310151952.jpg?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>å‰é¢ä¸¤ç§Embeddingåªç”¨äº†ç”¨æˆ·çš„è¡Œä¸ºç‰¹å¾ï¼Œä½†æ˜¯æ²¡æœ‰è€ƒè™‘itemçš„æœ¬èº«ç‰¹å¾ï¼›å¦å¤–ï¼Œåœ¨ä¹‹åçš„æ’åºæ¨¡å‹ä¸­ï¼Œæ’åºæ¨¡å‹ä½¿ç”¨äº†itemçš„è‡ªèº«å±æ€§è¿›è¡Œæ’åºã€‚GCNå°±æ˜¯æŠŠç”¨æˆ·è¡Œä¸ºå’Œitemæœ¬èº«çš„ç‰¹å¾è”åˆèµ·æ¥ï¼Œæ—¢èƒ½ç”¨ä¸Šå›¾çš„æ‹“æ‰‘ç»“æ„ï¼Œåˆå¯ä»¥æŠŠæ¡å±æ€§ç‰¹å¾ï¼ŒæŠŠä¿¡æ¯èåˆèµ·æ¥åšEmbeddingã€‚<br>åœ¨ä¸Šå›¾ä¸­ï¼Œå‡è®¾æˆ‘ä»¬è¦è®¡ç®—Açš„Embeddingï¼Œå¯ä»¥é€šè¿‡è®¡ç®—Açš„ä¸€é˜¶è¿‘é‚»BCçš„ä¿¡æ¯èšåˆå¾—åˆ°ï¼ˆAggregate)ï¼Œè€ŒBCçš„ä¿¡æ¯å¯ä»¥ç”±äºŒé˜¶è¿‘é‚»DECï¼ŒEBFGçš„ä¿¡æ¯è®¡ç®—å·ç§¯ï¼ˆConvolutionï¼‰è®¡ç®—å¾—åˆ°ã€‚</p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200310152001.jpg?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>å…·ä½“æ¥è¯´ï¼Œå»¶å±•çš„è¿‡ç¨‹ä¸­ï¼Œä¸»è¦åŒ…æ‹¬å¯¹äºé«˜é˜¶ä¿¡æ¯çš„æ±‡æ€»Aggregateï¼Œä»¥åŠå½“å‰é˜¶å’Œé‚»é˜¶èŠ‚ç‚¹ä¸Šä¸€é˜¶çš„å·ç§¯ä¹‹é—´ä¿¡æ¯çš„ç»“åˆCombineã€‚å…¶ä¸­ï¼ŒCombineå¯ä»¥ç”±å¾ˆå¤šæ“ä½œï¼Œæ¯”å¦‚æ‹¼æ¥ï¼Œæ±‚å’Œç­‰ã€‚Aggregateçš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯é‡‡ç”¨äº†Importance poolingï¼Œè¿™é‡Œå¹¶ä¸ä¼šå¯¹æ¯ä¸ªé‚»å±…èŠ‚ç‚¹éƒ½æ±‡æ€»ï¼Œè€Œæ˜¯å…ˆè®¡ç®—ä¸€ä¸ªImportance Factor(å½±å“åŠ›å› å­)ï¼Œå½±å“åŠ›å› å­å°äºé˜ˆå€¼çš„ä¸å‚ä¸åŠ æƒï¼Œæœ€åæ ¹æ®æƒé‡å»åŠ æƒæ±‚å’Œã€‚</p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200310200130.jpg?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>æ„ä»¶å›¾çš„ä¸åŒå½¢æ€ï¼š</p>
<ul>
<li>äºŒåˆ†å›¾å½¢æ€ï¼šä¸¤ç§ç±»å‹(Feeds,User)å†…éƒ¨ä¹‹é—´æ²¡æœ‰è¾¹ï¼Œä¸åŒç±»å‹ä¹‹é—´æ‰æœ‰è¾¹ï¼›</li>
<li>å•ä½“å›¾å½¢æ€ï¼šæ ¹æ®ç”¨æˆ·åŒä¸€æ—¶é—´æ®µçš„è¡Œä¸ºï¼Œå°†Feedsä¹‹é—´å…³è”èµ·æ¥ã€‚</li>
</ul>
<p>åˆ°æ­¤ä¸ºæ­¢ï¼Œæˆ‘ä»¬ä»‹ç»äº†Embeddingæ‰€å°è¯•çš„æ–¹æ³•ã€‚</p>
<h1 id="3å¬å›æ¨¡å‹"><a href="#3å¬å›æ¨¡å‹" class="headerlink" title="3å¬å›æ¨¡å‹"></a>3å¬å›æ¨¡å‹</h1><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200310200618.jpg?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>å¬å›ä¸»è¦é‡‡ç”¨äº†å››ä¸ªæ–¹é¢ï¼Œå…¨å±€å¬å›(çƒ­æ¦œï¼Œçƒ­æœï¼Œçƒ­è¯)ï¼Œä¸ªæ€§åŒ–å¬å›(æ ¹æ®ç”¨æˆ·çš„è¡Œä¸ºï¼Œå…´è¶£è¿›è¡Œå¬å›)ï¼Œå±æ€§å¬å›(ä¹Ÿå°±æ˜¯ç”»åƒå¬å›ï¼Œé€šè¿‡æœºå‹ï¼Œæ€§åˆ«ï¼Œå¹´é¾„ç­‰)ï¼Œæœ€åæ˜¯ç›¸å…³å¬å›(åŒ…æ‹¬ç›¸ä¼¼ï¼Œå…³é”®è¯å¬å›ç­‰)ã€‚</p>
<h2 id="3-1ä¸ªæ€§åŒ–å¬å›ä¹‹YoutubeNet"><a href="#3-1ä¸ªæ€§åŒ–å¬å›ä¹‹YoutubeNet" class="headerlink" title="3.1ä¸ªæ€§åŒ–å¬å›ä¹‹YoutubeNet"></a>3.1ä¸ªæ€§åŒ–å¬å›ä¹‹YoutubeNet</h2><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200310200857.jpg?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>YoutubeNetæ˜¯è¿‘ä¸¤å¹´æ¯”è¾ƒæµè¡Œçš„ç®—æ³•ï¼Œä»–æ—¢å¯ä»¥åšå¬å›ï¼Œä¹Ÿå¯ä»¥åšæ’åºã€‚é€šè¿‡è¾“å…¥ç”¨æˆ·çš„è¡Œä¸ºåºåˆ—å¾—åˆ°ç”¨æˆ·å’Œitemçš„å‘é‡ï¼Œç„¶åå°±å¯ä»¥é€šè¿‡å‘é‡ç›¸ä¼¼ç¨‹åº¦ï¼Œå¯¹æ¯ä¸ªuserç›¸ä¼¼çš„topNä¸ªitemè¿›è¡Œä¸ªæ€§åŒ–å¬å›ï¼Œå®éªŒä¸­ç›¸ä¼¼ç‡æå‡è¾¾åˆ°äº†1.661%ã€‚</p>
<h2 id="3-2ä¸ªæ€§åŒ–å¬å›ä¹‹èšç±»å¬å›"><a href="#3-2ä¸ªæ€§åŒ–å¬å›ä¹‹èšç±»å¬å›" class="headerlink" title="3.2ä¸ªæ€§åŒ–å¬å›ä¹‹èšç±»å¬å›"></a>3.2ä¸ªæ€§åŒ–å¬å›ä¹‹èšç±»å¬å›</h2><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200310203828.jpg?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>ä¸šåŠ¡ä¸Šï¼Œpushä¹ŸåŒ…å«ä¸€ä¸ªä»»åŠ¡æ˜¯å®ç°å°†â€œå·¥å…·ç±»ç”¨æˆ·â€è½¬åŒ–æˆâ€œç¤¾äº¤ç±»ç”¨æˆ·â€ï¼Œä»è€Œæé«˜é•¿æœŸçš„DAUã€‚åœ¨èšç±»å¬å›é˜¶æ®µï¼Œå¯ä»¥é€šè¿‡å¯¹äºç”¨æˆ·çš„å·¥å…·åå¥½ç‰¹å¾å»æ„å»ºmulti-hotçš„å‘é‡ï¼Œç„¶åè¿›è¡Œç”¨æˆ·ç¾¤èšç±»ï¼Œå¯¹äºæ¯ä¸ªç‰¹å®šçš„ç”¨æˆ·ç¾¤å¬å›å¯¹åº”çš„æ¦œå•ã€‚</p>
<h2 id="3-3ç›¸å…³å¬å›ä¹‹ç›¸ä¼¼å¬å›-ä¸»è¦"><a href="#3-3ç›¸å…³å¬å›ä¹‹ç›¸ä¼¼å¬å›-ä¸»è¦" class="headerlink" title="3.3ç›¸å…³å¬å›ä¹‹ç›¸ä¼¼å¬å›(ä¸»è¦)"></a>3.3ç›¸å…³å¬å›ä¹‹ç›¸ä¼¼å¬å›(ä¸»è¦)</h2><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200310204300.jpg?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>ç›¸å…³å¬å›åœ¨ç¾å›¾ç§€ç§€ä¸­æ˜¯è¾“å‡ºç”¨æˆ·è¿‘æœŸçš„itemç‚¹å‡»æµï¼Œè·å–äº†å¯¹åº”çš„Embeddingä¹‹åï¼Œå¯ä»¥é€šè¿‡è®¡ç®—Embeddingçš„å‡å€¼ç„¶åæ‰¾ä½™å¼¦è·ç¦»æœ€å°çš„å€™é€‰é¡¹ï¼›æˆ–è€…ç›´æ¥å°†æ¯ä¸ªå€™é€‰é¡¹å»æ‰¾ä½™å¼¦è·ç¦»æœ€å°çš„å€™é€‰é¡¹ï¼Œæœ€åè¿›è¡Œæ±‡æ€»ã€‚<br>è¿™é‡Œå€¼å¾—æ€è€ƒçš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œä½•æ—¶åˆ©ç”¨å¥½å·¥å…·è¡Œä¸ºçš„ç‰¹å¾ï¼Œæ˜¯åœ¨æ’åºé˜¶æ®µï¼Œå¬å›é˜¶æ®µï¼Œè¿˜æ˜¯ç”ŸæˆEmbeddingçš„é˜¶æ®µï¼Ÿç»è¿‡å®éªŒï¼Œå¾—åˆ°åœ¨Embeddingé˜¶æ®µä½¿ç”¨å·¥å…·è¡Œä¸ºç‰¹å¾æ•ˆæœæœ€å¥½ã€‚</p>
<h2 id="3-4ç›¸å…³å¬å›ä¹‹èšç±»å¬å›"><a href="#3-4ç›¸å…³å¬å›ä¹‹èšç±»å¬å›" class="headerlink" title="3.4ç›¸å…³å¬å›ä¹‹èšç±»å¬å›"></a>3.4ç›¸å…³å¬å›ä¹‹èšç±»å¬å›</h2><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200310204939.jpg?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>èšç±»å¬å›ä¸»è¦æ˜¯ä¸ºäº†å®ç°å¤šæ ·æ€§ï¼Œé¿å…åŒè´¨åŒ–çš„å†…å®¹ã€‚<br>é€šè¿‡å¯¹itemçš„Embeddingè¿›è¡Œèšç±»ï¼Œç›¸å½“äºæ¯ä¸ªitemå¤šäº†ä¸€ä¸ªåˆ†ç±»æ ‡ç­¾ã€‚é€šè¿‡ç»Ÿè®¡ç”¨æˆ·å¯¹äºæ¯ä¸ªç±»åˆ«çš„è¡Œä¸ºè®°å½•æ¬¡æ•°ï¼ŒæŒ‰ç…§å€’å™è¿›è¡Œæ’åˆ—ã€‚åœ¨å¬å›é˜¶æ®µï¼ŒæŒ‰ç…§æ’åˆ—å¥½çš„é¡ºåºä¾æ¬¡ä»æ¯ä¸€ä¸ªç±»åˆ«ä¸­æŠ½å–ä¸€ä¸ªitemï¼Œå¦‚æœæ‰€æœ‰ç±»åˆ«éƒ½æŠ½äº†ä¸€éï¼Œå¬å›çš„æ•°é‡ä»ç„¶ä¸å¤Ÿå¤šï¼Œå¯ä»¥ç»§ç»­å†æŠ½ä¸€è½®ï¼Œç›´åˆ°å€™é€‰æ•°ç›®è¶³å¤Ÿã€‚è¿™æ ·å°±å®ç°äº†å¬å›æºçš„å¤šæ ·æ€§ã€‚</p>
<h2 id="3-5ç›¸å…³å¬å›ä¹‹æ–‡æ¡ˆç›¸å…³å¬å›"><a href="#3-5ç›¸å…³å¬å›ä¹‹æ–‡æ¡ˆç›¸å…³å¬å›" class="headerlink" title="3.5ç›¸å…³å¬å›ä¹‹æ–‡æ¡ˆç›¸å…³å¬å›"></a>3.5ç›¸å…³å¬å›ä¹‹æ–‡æ¡ˆç›¸å…³å¬å›</h2><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200310205716.jpg?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>å½“é€‰å–äº†å€™é€‰ä¸ªitemä¹‹åï¼Œå‘é€pushä»éœ€è¦ä¸€æ¡æ–‡å­—ä¿¡æ¯è§¦è¾¾ç”¨æˆ·ï¼Œè¿™é‡Œç®€ç§°æ–‡æ¡ˆã€‚æ–‡æ¡ˆä¸€èˆ¬ç”±ç¼–è¾‘ç”Ÿæˆï¼Œä¼šæœ‰å¾ˆå¤šå€™é€‰é¡¹ï¼Œæ‰€ä»¥ä¹Ÿéœ€è¦å¯¹äºæ–‡æ¡ˆè¿›è¡Œå»ºæ¨¡å¬å›ã€‚ä¸»è¦æœ‰ä¸€ä¸‹ä¸‰ä¸ªæ–¹æ¡ˆï¼š</p>
<ul>
<li>å…³é”®è¯å¬å›ï¼šé€šè¿‡å¯¹äºå†å²çš„æ–‡æ¡ˆè¿›è¡Œåˆ†è¯ï¼Œå¾—åˆ°æ¯æ¡æ–‡æ¡ˆçš„å…³é”®è¯ï¼Œç„¶åæŠŠç”¨æˆ·å¯¹äºæ–‡æ¡ˆçš„ç‚¹å‡»æ˜ å°„åˆ°å¯¹äºå…³é”®è¯çš„ç‚¹å‡»ï¼Œè¿™æ ·å°±èƒ½å¾—åˆ°ç”¨æˆ·å¯¹äºä¸åŒå…³é”®è¯çš„åå¥½ã€‚å½“æˆ‘ä»¬æ–°éœ€è¦å‘é€ä¸€æ¡æ–‡æ¡ˆçš„æ—¶å€™ï¼Œå¯ä»¥å¾—åˆ°ç”¨æˆ·å¯¹äºæ¯æ¡å€™é€‰æ–‡æ¡ˆåå¥½åº¦ï¼Œå¬å›åå¥½å¤§çš„æ–‡æ¡ˆã€‚</li>
<li>çƒ­è¯å¬å›ï¼šé€šè¿‡è®¡ç®—å…¨å±€å“ªäº›å…³é”®è¯æœ€å—æ¬¢è¿ï¼Œå¬å›çš„è¿‡ç¨‹ä¸­ç›´æ¥å¬å›å¸¦æœ‰çƒ­é—¨å…³é”®è¯çš„æ–‡æ¡ˆã€‚</li>
<li>æ–‡æ¡ˆç›¸ä¼¼åº¦å¬å›ï¼šé€šè¿‡NLPçš„æ¨¡å‹ï¼Œæ¯”å¦‚BERTï¼Œç”Ÿæˆæ¯ä¸€æ¡å¯¹åº”çš„Embeddingï¼Œç„¶åå¬å›ä¸ç”¨æˆ·ç‚¹å‡»è¿‡çš„æ–‡æ¡ˆä½™å¼¦è·ç¦»æœ€å°çš„æ–‡æ¡ˆã€‚</li>
</ul>
<p>ä»¥ä¸Šï¼Œå°±æ˜¯æ‰€æœ‰çš„å¬å›éƒ¨åˆ†ã€‚</p>
<h1 id="4æ’åºæ¨¡å‹"><a href="#4æ’åºæ¨¡å‹" class="headerlink" title="4æ’åºæ¨¡å‹"></a>4æ’åºæ¨¡å‹</h1><h2 id="4-1LR-é€»è¾‘å›å½’æ¨¡å‹"><a href="#4-1LR-é€»è¾‘å›å½’æ¨¡å‹" class="headerlink" title="4.1LR é€»è¾‘å›å½’æ¨¡å‹"></a>4.1LR é€»è¾‘å›å½’æ¨¡å‹</h2><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200310210724.jpg?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>åœ¨æ’åºæ¨¡å‹çš„åˆå§‹è¿­ä»£é˜¶æ®µï¼Œä½¿ç”¨äº†æœ€ç®€å•çš„LRæ¨¡å‹ï¼ŒLRçš„æ¨¡å‹ä¼˜ç‚¹æ˜¯æ¨¡å‹æµ…ï¼Œè®¡ç®—ç®€å•ï¼Œè§£é‡Šæ€§å¼ºï¼Œæ˜“äºä½¿ç”¨ã€‚ä½†æ˜¯ç¼ºç‚¹ä¹Ÿæ˜¾è€Œæ˜“è§ï¼ŒLRå¯¹äºéçº¿æ€§ç‰¹å¾æ‹Ÿåˆç¨‹åº¦å·®ï¼›é™¤æ­¤ä¹‹å¤–ï¼Œäº¤å‰ç‰¹å¾çš„ç”Ÿæˆä¾èµ–äºå¤§é‡å°è¯•ä»¥åŠäººå·¥ç»éªŒï¼Œæ‰€ä»¥å°è¯•æˆæœ¬å¾ˆé«˜ã€‚</p>
<h2 id="4-2-xNFMæ¨¡å‹"><a href="#4-2-xNFMæ¨¡å‹" class="headerlink" title="4.2 xNFMæ¨¡å‹"></a>4.2 xNFMæ¨¡å‹</h2><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200310211221.jpg?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>é€šè¿‡å¯¹äºLRï¼ŒWide&amp;Deepï¼ŒdeepFMï¼ŒNFMï¼ŒDCNï¼ŒxNFMï¼ŒxDeepFMæ¨¡å‹çš„å°è¯•ä¸å¯¹æ¯”ï¼Œæœ€åé€‰æ‹©çš„xNFMçš„æ¨¡å‹ã€‚xNFMä¼˜ç‚¹æ˜¯ç»„åˆäº†ä¸€é˜¶å’ŒäºŒé˜¶çš„ç‰¹å¾çš„ä¼˜ç‚¹ï¼Œæ€§èƒ½ä¸Šä¹Ÿå¯ä»¥è¾¾åˆ°å·¥ä¸šè½åœ°çš„éœ€æ±‚ã€‚</p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200310211553.jpg?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>xNFMä¸æ˜¯ä¸šç•Œä¸»æµçš„æ¨¡å‹ï¼Œè€Œæ˜¯åœ¨è½åœ°ä¸­å¯¹äºNFMçš„å˜ç§ã€‚ä¸»è¦åŒºåˆ«åœ¨äºï¼š</p>
<ul>
<li>æ¨¡å‹çš„è¾“å…¥ç«¯ä¸ºäº†é™ä½æ¨¡å‹å‚æ•°è§„æ¨¡ï¼ŒæŠŠidç±»ç‰¹å¾å’Œéidç±»ç‰¹å¾åˆ†åˆ«è¿›è¡ŒEmbeddingï¼Œå¯ä»¥å¤§å¤§å‡å°‘å‚æ•°è§„æ¨¡ã€‚</li>
<li>åœ¨ä¸Šå±‚ç½‘ç»œï¼Œä¸»è¦åŒºåˆ«åœ¨äºå³ä¾§ã€‚ä¼ ç»Ÿçš„NFMçš„å¼Šç«¯æ˜¯åªè€ƒè™‘äº†ä¸€ä¸ªæ˜¾æ€§çš„äºŒé˜¶ä¿¡æ¯ï¼Œè€Œå¿½ç•¥äº†ä¸€é˜¶ä¿¡æ¯(å•ç‰¹å¾)ï¼Œæ‰€æœ‰å¢åŠ äº†å³è¾¹çš„ç½‘ç»œç”¨æ¥æ•æ‰å•ç‰¹å¾çš„ä¿¡æ¯ã€‚ç›¸æ¯”äºLRï¼Œæå‡æ•ˆæœæ˜æ˜¾ï¼Œç‚¹å‡»æµå¢åŠ 13.89%ã€‚</li>
</ul>
<h2 id="4-3-åŒå¡”æ¨¡å‹"><a href="#4-3-åŒå¡”æ¨¡å‹" class="headerlink" title="4.3 åŒå¡”æ¨¡å‹"></a>4.3 åŒå¡”æ¨¡å‹</h2><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200310213320.jpg?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>éšç€ç”¨æˆ·é‡çš„å¢åŠ ï¼Œè®¡ç®—é‡é£™å‡ï¼Œç¬›å¡å°”ç§¯ä¹‹åä¼šæœ‰åƒäº¿çº§åˆ«çš„è®¡ç®—é‡ï¼Œä½¿å¾—æ¨¡å‹æ›´æ–°å‘¨æœŸå˜é•¿ï¼Œæ—¶æ•ˆæ€§é™ä½ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æå‡ºäº†åŒå¡”çš„ç»“æ„ã€‚<br>åŒå¡”çš„ç»“æ„ç‰¹åˆ«åœ¨ï¼Œå½“userå’Œitemåˆ†åˆ«æ„å»ºä¸€ä¸ªDNNçš„å…¨è¿æ¥çš„ç½‘ç»œã€‚è¿™æ ·è®¾è®¡ä¼˜åŒ–ä¸»è¦ä½“ç°åœ¨å·¥ç¨‹æ€§èƒ½æ–¹é¢ï¼Œå­˜å‚¨é‡å¤§å¤§é™ä½ï¼Œé¢„æµ‹é˜¶æ®µè€—æ—¶ä¹Ÿé™ä½ï¼Œä»è€Œå®ç°äº†æ”¯æŒäº¿çº§åˆ«çš„ç”¨æˆ·é«˜æ•ˆè®¡ç®—ã€‚<br>ä»æœ€åˆçš„åŒå¡”ä¹‹åæ¥å…¥åˆ°å†…ç§¯ï¼Œå†åˆ°ä¸Šå›¾çš„åŒå¡”æ¥å…¥NFMï¼Œåˆ°æœ€åå†åŠ å…¥ç‚¹å‡»åºåˆ—çš„ä¿¡æ¯ï¼Œä¸‰ä¸ªç‰ˆæœ¬çš„è¿­ä»£æœ€ç»ˆç‚¹å‡»ç‡ç´¯è®¡æå‡23.9%ã€‚</p>
<h2 id="4-4-ä¸‰å¡”æ¨¡å‹"><a href="#4-4-ä¸‰å¡”æ¨¡å‹" class="headerlink" title="4.4 ä¸‰å¡”æ¨¡å‹"></a>4.4 ä¸‰å¡”æ¨¡å‹</h2><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200310213331.jpg?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>åœ¨ä¹‹å‰ä¹Ÿæåˆ°ï¼Œæˆ‘ä»¬æœ‰å¾ˆå¤šå¬å›ç­–ç•¥ï¼Œä½†æ˜¯å¬å›æºè´¨é‡å‚å·®ä¸é½ï¼Œæ‰€ä»¥å°±éœ€è¦è§£å†³å¯¹äºå¬å›æºçš„é€‰å–ã€‚</p>
<ul>
<li>æœ€åˆçš„æƒ³æ³•æ˜¯æ ¹æ®æ¯ä¸ªå¬å›æºçš„è½¬åŒ–å¯¹æ’åºç»“æœè¿›è¡Œsocre reweightï¼Œä½†æ˜¯å¼Šç«¯ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œå› ä¸ºå¬å›æºç›´æ¥å¹¶ä¸äº’æ–¥ï¼ŒåŒä¸ªitemä¼šè¢«å¤šä¸ªå¬å›æºå‘½ä¸­ï¼Œæ‰€ä»¥reweightçš„è§„åˆ™ä¹Ÿéš¾ä»¥å®šä¹‰ã€‚</li>
<li>ä¹‹åï¼Œä¸ºäº†ä¸ªæ€§åŒ–ï¼Œç›´æ¥æŠŠå¬å›æºä¿¡æ¯åŠ å…¥åˆ°æ¨¡å‹ä¸­ã€‚è¿™é‡Œä¸ºä»€ä¹ˆä¸æŠŠå¬å›æºç›´æ¥åŠ å…¥åˆ°itemçš„ç‰¹å¾ä¸­ï¼Œè€Œæ˜¯å•ç‹¬çš„æ„é€ äº†ä¸€ä¸ªå¡”å‘¢ï¼Ÿä¸»è¦å·¥ç¨‹ä¸Šçš„è€ƒè™‘ï¼Œå¦‚æœæŠŠå¬å›æºçš„ä¿¡æ¯åŠ åˆ°itemå¡”ä¸­ï¼Œå¿…é¡»ç­‰itemå¡”è®¡ç®—å®Œæˆä¹‹åæ‰èƒ½è¿›è¡Œç”Ÿäº§é¢„æµ‹ï¼Œä¼šé€ æˆä¸²è¡ŒåŒ–ï¼Œå¢åŠ äº†å»¶æ—¶ã€‚</li>
</ul>
<p>å¢åŠ äº†å¬å›æºä¿¡æ¯ä¹‹åï¼Œç‚¹å‡»ç‡æé«˜äº†3.06%ã€‚</p>
<h2 id="4-5-Field-wise-ä¸‰å¡”æ¨¡å‹"><a href="#4-5-Field-wise-ä¸‰å¡”æ¨¡å‹" class="headerlink" title="4.5 Field_wise ä¸‰å¡”æ¨¡å‹"></a>4.5 Field_wise ä¸‰å¡”æ¨¡å‹</h2><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200310213356.jpg?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
<p>æœ€åä¸€ç‰ˆå°±æ˜¯å¯¹äºNFMæ¨¡å‹çš„æ”¹è¿›ï¼Œåœ¨NFMå·¦è¾¹çš„Bi-Interaction Layerä¸­ï¼ŒBiæ˜¯Bi-linearçš„ç¼©å†™ï¼Œè¿™ä¸€å±‚å…¶å®æ˜¯ä¸€ä¸ªpoolingå±‚æ“ä½œï¼Œå®ƒæŠŠå¾ˆå¤šä¸ªå‘é‡è½¬æ¢æˆä¸€ä¸ªå‘é‡ï¼Œå½¢å¼åŒ–å¦‚ä¸‹ï¼š</p>
<script type="math/tex; mode=display">
 \begin{aligned} \boldsymbol{f}_{B I} &=\sum_{i=1}^{n} \sum_{j=i+1}^{n} x_{i} v_{i} \odot x_{j} v_{u} \\ &=\frac{1}{2}\left[\left(\sum_{i=1}^{n} x_{i} v_{i}\right)^{2}-\sum_{i=1}^{n}\left(x_{i} v_{i}\right)^{2}\right] \end{aligned}</script><p>$f_{bi}$çš„è¾“å…¥æ˜¯æ•´ä¸ªçš„åµŒå…¥å‘é‡ï¼Œxi ï¼Œxjæ˜¯ç‰¹å¾å–å€¼ï¼Œviï¼Œ vjæ˜¯ç‰¹å¾å¯¹åº”çš„åµŒå…¥å‘é‡ã€‚ä¸­é—´çš„æ“ä½œè¡¨ç¤ºå¯¹åº”ä½ç½®ç›¸ä¹˜ã€‚æ‰€ä»¥åŸå§‹çš„åµŒå…¥å‘é‡ä»»æ„ä¸¤ä¸ªéƒ½è¿›è¡Œç»„åˆï¼Œå¯¹åº”ä½ç½®ç›¸ä¹˜ç»“æœå¾—åˆ°ä¸€ä¸ªæ–°å‘é‡ï¼›ç„¶åæŠŠè¿™äº›æ–°å‘é‡ç›¸åŠ ï¼Œå°±å¾—åˆ°äº†Bi-Interactionçš„è¾“å‡ºã€‚è¿™ä¸ªè¾“å‡ºåªæœ‰ä¸€ä¸ªå‘é‡ã€‚</p>
<p>è¿™é‡Œå‚è€ƒFMåˆ°FFMçš„æ”¹è¿›è¿‡ç¨‹ï¼Œå¼•å…¥Fieldçš„æ¦‚å¿µã€‚ç”±äºBIå±‚ä¸åŒçš„ç±»åˆ«ç‰¹å¾æ‰€è¡¨è¾¾æ˜¯æƒé‡ä¸ç›¸åŒï¼Œè€ŒBIå±‚æ•æ‰ä¸åˆ°è¿™ä¸ªä¿¡æ¯ï¼Œæ‰€ä»¥å¯ä»¥å¯¹äºæ¯ä¸ªå‘é‡ç›¸ä¹˜å‰å¯ä»¥åŠ ä¸Šæƒé‡ã€‚ä½†æ˜¯ï¼Œè¿™æ ·ä¼šå¯¼è‡´å‚æ•°è¿‡å¤šï¼Œè€ŒåŒå±äºä¸€ä¸ªfieldçš„å˜é‡æƒé‡åº”è¯¥ç›¸è¿‘ï¼Œæ‰€ä»¥å¯¹äºBIå±‚è¿›è¡ŒåŒç±»åˆ«çš„æƒé‡$w_{i,j}$å…±äº«è€Œä¼šä½¿ç”¨ç›¸åŒå‚æ•°çš„ç‚¹ç§¯æ¥è®¡ç®—:</p>
<script type="math/tex; mode=display">
 f_{F w B I}=\sum_{i=1}^{m} \sum_{j=i+1}^{m} w_{i j}\left(\sum_{k i n F_{i}} x_{i k} v_{i k}\right) \odot\left(\sum_{k \text { in } F_{j}} x_{j k} v_{j k}\right)</script><p>ä»è€Œå¾—åˆ°äº†Field_wise ä¸‰å¡”æ¨¡å‹ã€‚æ¨¡å‹ä¸Šçº¿åæœ€ç»ˆå¾—åˆ°äº†ç‚¹å‡»ç‡5.68%çš„æå‡ã€‚</p>
<p>åˆ°æ­¤ä¸ºæ­¢ï¼Œæˆ‘ä»¬åˆ†åˆ«ä»‹ç»äº†Embeddingï¼Œå¬å›ï¼Œæ’åºä¸‰éƒ¨åˆ†ã€‚Embeddingä½œä¸ºåº•å±‚çš„æœåŠ¡è¾…åŠ©å¬å›å’Œæ’åºï¼›åœ¨å¬å›éƒ¨åˆ†ï¼Œä¸»è¦ä»‹ç»å¬å›çš„å„ä¸ªç­–ç•¥ï¼›æ’åºéƒ¨åˆ†ä¸»è¦æ˜¯æ¨¡å‹ç”±LRåˆ°Field_wise ä¸‰å¡”æ¨¡å‹çš„è¿­ä»£è¿‡ç¨‹ã€‚<br>ç¾å›¾ä¸ªæ€§åŒ– push AI æ¢ç´¢ä¹‹è·¯çš„ä»‹ç»åˆ°æ­¤ç»“æŸã€‚</p>
<blockquote>
<p>è¿™ä¸ªåˆ†äº«å¯¹æˆ‘å¯å‘æœ€å¤§çš„æ˜¯å¬å›æºå®Œå…¨å¯ä»¥å½“åšç‰¹å¾åŠ åˆ°æ’åºé‡Œå•Šï¼ï¼ï¼æˆ‘ä¹‹å‰å®ä¹ çš„æ—¶å€™ï¼Œåªæƒ³çš„æ˜¯é€šè¿‡æ¨¡å‹æ”¹å˜å¬å›æºçš„æ•°é‡ï¼Œä»è€Œæ§åˆ¶ä¸‹å‘çš„æ¯”ä¾‹ï¼ŒçœŸçš„å¤ªå‚»äº†5555</p>
</blockquote>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>æ¨èç³»ç»Ÿ</tag>
        <tag>åˆ†äº«è®°å½•</tag>
      </tags>
  </entry>
  <entry>
    <title>CSIT5500-2 åˆ†æ²»</title>
    <url>/2020/CSIT5500-2-%E5%88%86%E6%B2%BB/</url>
    <content><![CDATA[<blockquote>
<p>ç®—æ³•ç†è§£äº†å°±å¾ˆç®€å•ï¼Œå†™ä»£ç ä¹Ÿå®¹æ˜“ï¼Œä½†æ˜¯è¡¨è¾¾æ¸…æ¥šåŸç†å°±å¾ˆéº»çƒ¦ã€‚å¦‚æœæ²¡çœ‹æ‡‚å°±å»çœ‹å¤§ç¥çš„åšå®¢å§ã€‚</p>
</blockquote><h1 id="åˆ†æ²»æ³•"><a href="#åˆ†æ²»æ³•" class="headerlink" title="åˆ†æ²»æ³•"></a>åˆ†æ²»æ³•</h1><p>åˆ†æ²»æ³•å…¶å®å¾ˆå¸¸è§ï¼Œåœ¨å¹¶å½’æ’åºçš„è¿‡ç¨‹ä¹Ÿç”¨ä¸Šäº†ã€‚<br>æ¥ä¸‹æ¥ä¸¾ä¸€ä¸ªä¾‹å­ï¼š</p><h2 id="å¯»æ‰¾å¹³é¢å†…æœ€è¿‘çš„ä¸€å¯¹ç‚¹"><a href="#å¯»æ‰¾å¹³é¢å†…æœ€è¿‘çš„ä¸€å¯¹ç‚¹" class="headerlink" title="å¯»æ‰¾å¹³é¢å†…æœ€è¿‘çš„ä¸€å¯¹ç‚¹"></a>å¯»æ‰¾å¹³é¢å†…æœ€è¿‘çš„ä¸€å¯¹ç‚¹</h2><p><a href="https://blog.csdn.net/weixin_37540865/article/details/78201399" target="_blank" rel="noopener">https://blog.csdn.net/weixin_37540865/article/details/78201399</a>ã€‚</p><a id="more"></a>


<ul>
<li>æš´åŠ›ï¼šè®¡ç®—nä¸ªç‚¹ä¸¤ä¸¤è·ç¦»ï¼ŒO(N^2)</li>
<li>åˆ†æ²»ï¼š<ul>
<li>å¯¹äºæ‰€æœ‰æœ‰ç‚¹ï¼ŒæŒ‰ç…§ä¸€ä¸ªè½´æ’åºO(nlog(n))ï¼Œä¸€åˆ†ä¸ºäºŒ</li>
<li>æ‰¾åˆ°å·¦å³å„è‡ªæœ€çŸ­è·ç¦»dl, dr</li>
<li>åˆå¹¶èµ·æ¥<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200303222758.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></li>
</ul>
</li>
</ul>
<p>è¿™é‡Œå¤æ‚å°±å¤æ‚åœ¨åˆå¹¶çš„æ—¶å€™è€ƒè™‘çš„æƒ…å†µå¤ªå¤šã€‚å¦‚æœè¿™ä¸ªç‚¹çš„xåæ ‡å’Œä¸­é—´æ•°çš„å·®å€¼å¤§äºdï¼Œé‚£ä¹ˆå°±ä¸ç”¨è€ƒè™‘è¿™ä¸ªç‚¹äº†ã€‚ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬ä»…ä»…éœ€è¦è€ƒè™‘å¦‚ä¸‹ä¸­é—´çš„å¸¦çŠ¶åŒºåŸŸé‡Œçš„ç‚¹ï¼š<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200303222858.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>d=min(dl,dr)<br>ç„¶åéœ€è¦å¯¹ç°è‰²å¸¦é‡Œçš„ä¸¤è¾¹åˆ†åˆ«æ’åºï¼Œä»ä¸Šåˆ°ä¸‹å„è‡ªéå†ä¸€éï¼š</p>
<ul>
<li>éå†çš„æ—¶å€™ï¼Œåªéœ€è¦çœ‹å¯¹é¢çš„ä¸Šä¸‹dè·ç¦»çš„æ­£æ–¹å½¢é‡Œæœ‰æ²¡æœ‰ç‚¹ï¼Œç„¶åè®¡ç®—è·ç¦»å°±å¥½äº†ï¼Œè¿™ä¸€æ­¥çš„å¤æ‚åº¦æ˜¯O(1)</li>
<li>å·¦éå†ä¸€éï¼Œé«˜2dï¼Œé•¿åº¦ä¸ºdçš„çŸ©å½¢å†…æœ€å¤šæœ€å¤šè¾¹è§’6ä¸ªç‚¹ï¼Œå› ä¸ºå¦‚æœè¶…è¿‡6ä¸ªç‚¹å°±ä¸æ»¡è¶³æœ€å°è·ç¦»æ˜¯d</li>
</ul>
<blockquote>
<p>æˆ‘è™½ç„¶ç†è§£äº†ï¼Œè¡¨è¾¾å®åœ¨æ˜¯è´¹åŠ²ï¼Œæ²¡ç†è§£çš„è¿˜æ˜¯å»çœ‹ä¸Šé¢é‚£ç¯‡åšå®¢å§</p>
</blockquote>
<h2 id="ç¬¬kå¤§æ•°"><a href="#ç¬¬kå¤§æ•°" class="headerlink" title="ç¬¬kå¤§æ•°"></a>ç¬¬kå¤§æ•°</h2><p>ä»¿ç…§å¿«é€Ÿæ’åºï¼Œéšæœºé€‰ä¸€ä¸ªå€¼å½“åšé˜ˆå€¼ï¼Œç„¶åä¸€åˆ†ä¸ºäºŒï¼Œå¦‚æœå·¦è¾¹åªæœ‰k-1ä¸ªæ•°ï¼Œé‚£ä¹ˆå°±é€‰å¯¹äº†ï¼›å¦‚æœä¸€è¾¹å¤šä¸€è¾¹å°‘ï¼Œå°±ç»§ç»­åœ¨å¤šçš„é‚£è¾¹é€‰</p>
]]></content>
  </entry>
  <entry>
    <title>CS224n-8 æœºå™¨ç¿»è¯‘,seq2seq,Attention</title>
    <url>/2020/CS224n-8-%E6%9C%BA%E5%99%A8%E7%BF%BB%E8%AF%91-seq/</url>
    <content><![CDATA[<p>è¿™ä¸€èŠ‚ï¼šæœºå™¨ç¿»è¯‘ï¼Œseq2seq(ç¿»è¯‘çš„æœ¬è´¨)ï¼Œattention(æå‡seq2seq)</p><hr><h1 id="ç»Ÿè®¡æœºå™¨ç¿»è¯‘"><a href="#ç»Ÿè®¡æœºå™¨ç¿»è¯‘" class="headerlink" title="ç»Ÿè®¡æœºå™¨ç¿»è¯‘"></a>ç»Ÿè®¡æœºå™¨ç¿»è¯‘</h1><p>1990s-2010s: Statistical Machine Translation<br>ç»Ÿè®¡ç¿»è¯‘æ˜¯ä¼ ç»Ÿæ–¹æ³•ï¼Œå¯ä»¥å¤§æ¦‚äº†è§£ä¸€ä¸‹èƒŒæ™¯ã€‚<br>taskï¼šè¾“å…¥è¯­è¨€xçš„è¯­å¥ï¼Œè¾“å‡ºè¯­è¨€yçš„è¯­å¥ã€‚<br>éœ€è¦å¾—åˆ°ä¸€ä¸ªyï¼Œè®©æ¦‚ç‡æœ€å¤§åŒ–ï¼š</p><a id="more"></a>


<script type="math/tex; mode=display">
 \operatorname{argmax}_{y} P(y | x) =  \operatorname{argmax}_{y} P(x|y)P(y)</script><p>$P(x|y)$æ˜¯ç¿»è¯‘æ¨¡å‹ï¼Œè¯„ä»·xå’Œyçš„åŒ¹é…ç¨‹åº¦ï¼›P(y) æ˜¯è¯­è¨€æ¨¡å‹ç¬¬6è®²çš„æ—¶å€™å·²ç»è®²è¿‡ï¼Œå°±æ˜¯è¯„ä»·è¯­å¥æ˜¯å¦é€šé¡ºã€‚</p>
<p>é™¤äº†æ»¡è¶³<strong>åŒ¹é…ç¨‹åº¦</strong>å’Œ<strong>è¯­å¥é€šé¡º</strong>ä¸¤ä¸ªæ¡ä»¶ï¼Œalignment(ä¸€ä¸€å¯¹åº”)ç¨‹åº¦ä¹Ÿå¯ä»¥è€ƒè™‘ï¼Œæ¨¡å‹å°±å˜æˆäº†</p>
<script type="math/tex; mode=display">
 \operatorname{argmax}_{y} P(y | x) =  \operatorname{argmax}_{y} P(x,a |y)P(y)</script><p>å¯¹åº”åº¦æ˜¯å¾ˆå¤æ‚çš„ä¸€ä¸ªä¸œè¥¿ï¼Œä¸¾ä¾‹è¯´æ˜ï¼š<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200304123056.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200304123125.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200304123213.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>æ‰€ä»¥ï¼Œç»Ÿè®¡æ¨¡å‹çš„ç¿»è¯‘ç¼ºç‚¹æ˜¾è€Œæ˜“è§ï¼š</p>
<ul>
<li>å¤ªå¤šçš„äººå·¥è§„åˆ™</li>
<li>æ•°æ®ç¨€ç–æ²¡è§£å†³</li>
<li>éœ€è¦å¤§é‡çš„è¯­æ–™å¯¹åº”</li>
<li>ç‰¹å¾å·¥ç¨‹è¾ƒä¸ºå¤æ‚</li>
</ul>
<h1 id="ç¥ç»ç½‘ç»œç¿»è¯‘æ¨¡å‹"><a href="#ç¥ç»ç½‘ç»œç¿»è¯‘æ¨¡å‹" class="headerlink" title="ç¥ç»ç½‘ç»œç¿»è¯‘æ¨¡å‹"></a>ç¥ç»ç½‘ç»œç¿»è¯‘æ¨¡å‹</h1><p>2014å¹´googleé€šè¿‡Neural Machine Translation (NMT) ä¹Ÿå°±æ˜¯seq2seqå®ç°äº†æœºå™¨ç¿»è¯‘ï¼Œæ•ˆæœæ˜¾è‘—ã€‚</p>
<h2 id="æ¨¡å‹ç»“æ„"><a href="#æ¨¡å‹ç»“æ„" class="headerlink" title="æ¨¡å‹ç»“æ„"></a>æ¨¡å‹ç»“æ„</h2><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200304123616.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>å·¦è¾¹é€šè¿‡RNN Encodingäº†è¾“å…¥è¯­å¥(ä¹Ÿå°±æ˜¯è½¬æˆäº†å‘é‡), å³è¾¹é€šè¿‡å¦ä¸€ä¸ªRNN decodingäº†è¯­å¥(é€šè¿‡å‘é‡è½¬æˆäº†å¦ä¸€ç§è¯­è¨€)ã€‚ è¯­è¨€å’Œè¯­è¨€ç›´æ¥ï¼Œé€šè¿‡éšè—å±‚çš„å‘é‡ä¼ é€’æ„æ€ã€‚<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200304130801.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
<h2 id="è®­ç»ƒè¿‡ç¨‹"><a href="#è®­ç»ƒè¿‡ç¨‹" class="headerlink" title="è®­ç»ƒè¿‡ç¨‹"></a>è®­ç»ƒè¿‡ç¨‹</h2><p>è®­ç»ƒä¸RNNçš„è®­ç»ƒç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äºdecoder ä¼ é€’æ¢¯åº¦åˆ°encoderçš„è¿‡ç¨‹ã€‚<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200304131042.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>è¿™é‡Œæ³¨æ„ï¼Œæˆ‘ä»¬åªéœ€è¦è€ƒè™‘è¾“å…¥xå’Œé¢„æµ‹yä¸çœŸå®yçš„å·®è·ï¼Œæ‰€ä»¥æ˜¯end2endã€‚</p>
<h2 id="decodingè´ªå©ªç®—æ³•çš„ç¼ºç‚¹"><a href="#decodingè´ªå©ªç®—æ³•çš„ç¼ºç‚¹" class="headerlink" title="decodingè´ªå©ªç®—æ³•çš„ç¼ºç‚¹"></a>decodingè´ªå©ªç®—æ³•çš„ç¼ºç‚¹</h2><p>å‡å¦‚æˆ‘ä»¬decodeçš„è¿‡ç¨‹ä¸­ï¼Œåªä¸€ä¸ªè¯ä¸€ä¸ªè¯å¾€åç”Ÿæˆï¼Œé€‰æ‹©å½“å‰æœ€ä¼˜è§£ï¼Œå¦‚æœå‰é¢å‡ºé”™ï¼Œä¼šå¯¼è‡´æ•´ä½“è¾“å‡ºçš„è¯­å¥æ¦‚ç‡å˜å°ï¼Œä¸æ˜¯å…¨å±€æœ€ä¼˜è§£ã€‚</p>
<p>å¯¹äºä»»ä½•ä¸€ä¸ªå¯èƒ½çš„è¾“å‡ºyï¼Œéœ€è¦æœ€å¤§åŒ–æ¦‚ç‡ï¼š</p>
<script type="math/tex; mode=display">
 \begin{aligned} P(y | x) &=P\left(y_{1} | x\right) P\left(y_{2} | y_{1}, x\right) P\left(y_{3} | y_{1}, y_{2}, x\right) \ldots, P\left(y_{T} | y_{1}, \ldots, y_{T-1}, x\right) \\ &=\prod_{t=1}^{T} P\left(y_{t} | y_{1}, \ldots, y_{t-1}, x\right) \end{aligned}</script><p>æ‰€ä»¥ç®€å•æ–¹æ³•æ˜¯æš´åŠ›æšä¸¾å‡ºæ‰€æœ‰å¯èƒ½å‡ºç°çš„æƒ…å†µyï¼Œç„¶åé€‰å‡ºæ¦‚ç‡æœ€å¤§çš„é‚£ä¸ªï¼›å½“ç„¶æš´åŠ›æ–¹æ³•å¤ªæ˜‚è´µï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨Beam Searchã€‚</p>
<blockquote>
<p>ä½•æ—¶ç»“æŸï¼šæŠŠå¥å­ç»“å°¾å½“æˆä¸€ä¸ªç¬¦å·ï¼ŒåŠ å…¥è®­ç»ƒ</p>
</blockquote>
<h2 id="Beam-search-decoding"><a href="#Beam-search-decoding" class="headerlink" title="Beam search decoding"></a>Beam search decoding</h2><p>æ ¸å¿ƒæ€æƒ³ï¼šæ¯ä¸€æ­¥å¯»æ‰¾kä¸ªå¯èƒ½çš„å€™é€‰é¡¹ï¼Œç„¶åå†å¯¹ç€kä¸ªè¿›è¡Œä¸‹ä¸€æ­¥æ¢ç´¢ï¼Œç›´åˆ°å¥å­ç»“æŸã€‚ï¼ˆkä¸€èˆ¬æ˜¯5-10ï¼‰</p>
<blockquote>
<p>è¿™é‡Œä¸€èˆ¬ç”¨score=log(P(y|x))ï¼Œè¿™æ ·å°±åˆ†æ•°è¶Šå¤§è¶Šå¥½</p>
<ul>
<li>Beam search ä¹Ÿä¸èƒ½100%ä¿è¯å…¨å±€æœ€ä¼˜ï¼Œkè¶Šå¤§ï¼Œè¶Šèƒ½ä¿è¯</li>
<li>ä½†æ˜¯Beam searchçš„æ•ˆç‡å¤§å¤§å¢åŠ </li>
</ul>
</blockquote>
<ul>
<li>ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œå½“K=2ï¼š<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200304143548.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></li>
<li>ä½•æ—¶åœæ­¢ï¼š</li>
</ul>
<p>è®¾å®šé˜ˆå€¼ï¼Œæ­¥é•¿é˜ˆå€¼ï¼šæ¯”å¦‚è¶…è¿‡30ä¸ªå•è¯å°±åœæ­¢ï¼›å€™é€‰é¡¹é˜ˆå€¼ï¼šæ¯”å¦‚æœ‰5å¥å€™é€‰å°±åœæ­¢ã€‚</p>
<ul>
<li>é•¿åº¦ä¸å…¬å¹³çš„é—®é¢˜ï¼š</li>
</ul>
<p>æŒ‰ç…§ä¸Šé¢çš„è®¡ç®—ï¼Œå¥å­è¶ŠçŸ­ï¼Œåˆ†æ•°è¶Šé•¿ï¼Œè¿™ä¸ªæ ‡å‡†æ›´å€¾å‘äºé€‰æ‹©çŸ­å¥å­ã€‚<br>è§£å†³ä¹Ÿå¾ˆç®€å•ï¼Œå¯¹äºåˆ†æ•°socre è§„èŒƒåŒ–(Normalize) é™¤ä»¥å¥å­çš„é•¿åº¦ï¼Œå°±å¾—åˆ°äº†è¿™ä¸ªå¥å­æ¯ä¸ªå•è¯çš„å¾—åˆ†ã€‚</p>
<script type="math/tex; mode=display">
 \frac{1}{t} \sum_{i=1}^{t} \log P_{\mathrm{LM}}\left(y_{i} | y_{1}, \ldots, y_{i-1}, x\right)</script><h2 id="ç¥ç»ç½‘ç»œç¿»è¯‘æ¨¡å‹çš„ä¼˜ç‚¹"><a href="#ç¥ç»ç½‘ç»œç¿»è¯‘æ¨¡å‹çš„ä¼˜ç‚¹" class="headerlink" title="ç¥ç»ç½‘ç»œç¿»è¯‘æ¨¡å‹çš„ä¼˜ç‚¹"></a>ç¥ç»ç½‘ç»œç¿»è¯‘æ¨¡å‹çš„ä¼˜ç‚¹</h2><ul>
<li>è¡¨ç°å¥½ï¼šé€Ÿåº¦å¿«ï¼Œæ›´æµç•…(è¯­è¨€æ¨¡å‹æ›´å¥½)ï¼Œå¯¹äºçŸ­è¯­ç¿»è¯‘å¥½</li>
<li>ç«¯å¯¹ç«¯ï¼šä¸éœ€è¦è€ƒè™‘å†…éƒ¨çš„é—®é¢˜</li>
<li>ä¸éœ€è¦äººå·¥å¹²é¢„ï¼šæ²¡æœ‰ç‰¹å¾å·¥ç¨‹ï¼Œæ¨¡å‹å¯ä»¥åº”ç”¨åˆ°ä¸åŒè¯­è¨€ä¹‹é—´</li>
</ul>
<h2 id="ç¥ç»ç½‘ç»œç¿»è¯‘æ¨¡å‹çš„ç¼ºç‚¹"><a href="#ç¥ç»ç½‘ç»œç¿»è¯‘æ¨¡å‹çš„ç¼ºç‚¹" class="headerlink" title="ç¥ç»ç½‘ç»œç¿»è¯‘æ¨¡å‹çš„ç¼ºç‚¹"></a>ç¥ç»ç½‘ç»œç¿»è¯‘æ¨¡å‹çš„ç¼ºç‚¹</h2><ul>
<li>éš¾è§£é‡Šï¼šä¸å¥½debug</li>
<li>éš¾ä»¥æ§åˆ¶ï¼šæ¨¡å‹çš„è¾“å‡ºä¸å¥½æ§åˆ¶ï¼Œæ‰€ä»¥æœ‰æ—¶å€™éœ€è¦æ¨¡å‹ä¹‹ååŠ å…¥è§„åˆ™å¹²é¢„</li>
</ul>
<h2 id="å¦‚ä½•è¯„ä»·ç¿»è¯‘æ¨¡å‹"><a href="#å¦‚ä½•è¯„ä»·ç¿»è¯‘æ¨¡å‹" class="headerlink" title="å¦‚ä½•è¯„ä»·ç¿»è¯‘æ¨¡å‹"></a>å¦‚ä½•è¯„ä»·ç¿»è¯‘æ¨¡å‹</h2><p>å…¶å®è¯„ä»·ç¿»è¯‘å¥½ä¸å¥½ï¼Œæœ€ç®€å•å°±æ˜¯è®©äººå»è¯»ï¼Œä½†æ˜¯æ€»å¾—æœ‰ä¸€ä¸ªè‡ªåŠ¨æ‰“åˆ†çš„å°å·¥å…·ï¼Œäºæ˜¯æœ‰äº†BLEUã€‚<br>BLEU (Bilingual Evaluation Understudy)</p>
<ul>
<li><p>Bleué€šè¿‡å¯¹æ¯”æœºå™¨ç¿»è¯‘å’ŒçœŸäººç¿»è¯‘çš„æ•°æ®é›†ï¼Œé€šè¿‡è®¡ç®—n-Gramï¼Œä»¥åŠå¥å­é•¿åº¦(é˜²æ­¢å¤ªå•°å—¦)æ¥è¯„ä»·</p>
</li>
<li><p>BLEUä¹Ÿä¸å¤ªå®Œç¾ï¼Œå› ä¸ºç¿»è¯‘å…¶å®æœ‰å¾ˆå¤šç§æ­£ç¡®è¡¨è¾¾ï¼Œè¿™æ ·å¯¹äºé¢„æµ‹é›†çš„ä¾èµ–å¤ªå¤§ã€‚</p>
<h2 id="æœºå™¨ç¿»è¯‘è§£å†³äº†å—"><a href="#æœºå™¨ç¿»è¯‘è§£å†³äº†å—" class="headerlink" title="æœºå™¨ç¿»è¯‘è§£å†³äº†å—?"></a>æœºå™¨ç¿»è¯‘è§£å†³äº†å—?</h2><p>æœºå™¨ç¿»è¯‘è™½ç„¶å–å¾—äº†å¾ˆå¤§è¿›å±•ï¼Œä½†æ˜¯ä»ç„¶ä¸å®Œç¾ã€‚</p>
<ul>
<li>æ¯”å¦‚æ²¡åŠæ³•è¯»æ‡‚æ–°è¯</li>
<li>ä¾èµ–è¯­æ–™åº“çš„æ¥æºï¼Œä¸åŒè¯­æ–™åº“é£æ ¼ä¸ä¸€æ ·ï¼Œeg ï¼š èŠå¤©è¯­æ–™ vs ç™¾ç§‘è¯­æ–™</li>
<li>æ²¡æœ‰è¯»æ‡‚ä¸Šä¸‹æ–‡ã€‚æ¯”å¦‚å°è¯´ä¸­ï¼Œæœ‰æ—¶å€™éœ€è¦ç†è§£å‰§æƒ…æ‰èƒ½æ›´å¥½çš„ç¿»è¯‘ã€‚</li>
<li>å¿…é¡»è¦æœ‰å¤§é‡æ•°æ®é›†è®­ç»ƒã€‚æˆæœ¬å¾ˆé«˜ã€‚</li>
</ul>
</li>
</ul>
<h2 id="Seq2Seqçš„å…¶ä»–ç”¨é€”"><a href="#Seq2Seqçš„å…¶ä»–ç”¨é€”" class="headerlink" title="Seq2Seqçš„å…¶ä»–ç”¨é€”"></a>Seq2Seqçš„å…¶ä»–ç”¨é€”</h2><p>å…¶å®æœ‰å¾ˆå¤štestéƒ½éœ€è¦ç”¨åˆ°Seq2Seqï¼š<br>  â€¢ Summarization (long text â†’ short text)   æ€»ç»“<br>    â€¢ Dialogue (previous utterances â†’ next utterance)  å¯¹è¯<br>    â€¢ Parsing (input text â†’ output parse as sequence) è¯­æ³•åˆ†æ<br>    â€¢ Code generation (natural language â†’ Python code) å†™ä»£ç </p>
<h1 id="Attention"><a href="#Attention" class="headerlink" title="Attention"></a>Attention</h1><ul>
<li><p>Seq2Seqçš„é—®é¢˜åœ¨äºï¼Œä¸€ä¸ªå‘é‡ä»£è¡¨æ•´å¥è¯å°±å¾ˆå®¹æ˜“æŸå¤±å¤ªå¤šä¿¡æ¯ï¼›è€Œä¸”encodingæ˜¯ä»ç»“å°¾å‡ºå»çš„ï¼Œå®¹æ˜“ä¸¢å¤±å¼€å¤´çš„ä¿¡æ¯ã€‚</p>
</li>
<li><p>æ ¸å¿ƒæƒ³æ³•å°±æ˜¯: decoderçš„æ¯ä¸€æ­¥ï¼Œé€šè¿‡å’Œencoder ç›´æ¥è¿æ¥ï¼Œåªç€é‡äºå½“å‰çš„è¿™ä¸ªä½ç½®ã€‚</p>
</li>
</ul>
<h2 id="ä»å›¾ç†è§£"><a href="#ä»å›¾ç†è§£" class="headerlink" title="ä»å›¾ç†è§£"></a>ä»å›¾ç†è§£</h2><p>å¯¹äºdecoderçš„æ¯ä¸€æ­¥ï¼ŒæŠŠRNNçš„è¾“å‡ºå’Œencoderçš„RNNè¾“å‡ºè¿›è¡Œç‚¹ä¹˜ï¼Œé€šè¿‡softmaxè¿›è¡Œè§„èŒƒï¼Œå¾—åˆ°ä¸€ä¸ªæ¦‚ç‡å€¼ã€‚è¿™ä¸ªæ¦‚ç‡å€¼è¯´æ˜ï¼Œç°åœ¨åœ¨é¢„æµ‹å“ªä¸ªä½ç½®ã€‚<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200304154800.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200304155439.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>ç„¶åå°±è¿™æ ·åšå®Œäº†ã€‚</p>
<h2 id="å…¬å¼è§£é‡Š"><a href="#å…¬å¼è§£é‡Š" class="headerlink" title="å…¬å¼è§£é‡Š"></a>å…¬å¼è§£é‡Š</h2><p>è¿™é‡Œï¼Œæ›´æœ´ç´ çš„æ€æƒ³æ˜¯æ¯æ¬¡decoderçš„æ—¶å€™ï¼ŒæŠŠä¹‹å‰çš„encoderçš„å¯¹åº”å‘é‡æ‹¿è¿‡æ¥ï¼Œæ‹¼æ¥ï¼›ä½†æ˜¯ä½ç½®å¤ªéš¾æ‰¾äº†ï¼Œæ‰€æœ‰å°±ç”¨äº†æ¦‚ç‡ä½ç½®æ¥å¯»æ‰¾ä½ç½®ã€‚</p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200304160308.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
<h2 id="Attentionçš„ä¼˜ç‚¹"><a href="#Attentionçš„ä¼˜ç‚¹" class="headerlink" title="Attentionçš„ä¼˜ç‚¹"></a>Attentionçš„ä¼˜ç‚¹</h2><ul>
<li>æå‡äº†è¡¨ç°</li>
<li>è§£å†³äº†seq2seqçš„ç“¶é¢ˆ</li>
<li>è§£å†³äº†æ¢¯åº¦æ¶ˆå¤±é—®é¢˜(ç±»ä¼¼ä¸ä¸Šä¸€è®²çš„highway)</li>
<li>ç»™äº†ä¸€ç‚¹å¯è§£é‡Šæ€§(æœ‰äº†æ¦‚ç‡çš„å¯¹åº”å…³ç³»alignment)</li>
</ul>
<h2 id="Attentionçš„å…¶ä»–ç”¨é€”"><a href="#Attentionçš„å…¶ä»–ç”¨é€”" class="headerlink" title="Attentionçš„å…¶ä»–ç”¨é€”"></a>Attentionçš„å…¶ä»–ç”¨é€”</h2><p>Attentionä¸ä»…ä»…å¯ä»¥ç”¨åœ¨ç¿»è¯‘ä¸Šï¼Œè¿˜å¯ä»¥ç”¨åœ¨ä»»ä½•seq2seqçš„ä»»åŠ¡ã€‚<br><strong>æœ´ç´ å®šä¹‰attention</strong>:<br>â€¢ Given a set of vector values, and a vector query, attention is a technique to compute a weighted sum of the values, dependent on the query.<br>ï¼ˆç»™ä¸€ç»„å‘é‡ï¼Œå’Œä¸€ä¸ªå¾…æŸ¥è¯¢çš„å‘é‡ï¼ŒAttentionå¯ä»¥è®¡ç®—å‡ºé‚£ç»„å‘é‡çš„æƒé‡ï¼‰</p>
<p>å†ç†è§£Attentionï¼š</p>
<ul>
<li>æ±‚å’Œæƒé‡çš„è¿‡ç¨‹å°±æ˜¯é€‰æ‹©çš„è¿‡ç¨‹ï¼Œå†³å®šäº†é‚£ä¸ªè¾“å…¥å€¼æ›´é‡è¦</li>
<li>Attentionæ˜¯ä¸€ç§è·å–ä¾èµ–äºå…¶ä»–è¡¨ç¤ºå½¢å¼ï¼ˆæŸ¥è¯¢ï¼‰çš„ä»»æ„ç»„è¡¨ç¤ºå½¢å¼ï¼ˆå€¼ï¼‰çš„å›ºå®šå¤§å°è¡¨ç¤ºå½¢å¼çš„æ–¹æ³•ã€‚</li>
</ul>
<h2 id="Attentionçš„å˜ç§"><a href="#Attentionçš„å˜ç§" class="headerlink" title="Attentionçš„å˜ç§"></a>Attentionçš„å˜ç§</h2><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200304161747.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
<blockquote>
<p>Attention ä¸€å®šç¨‹åº¦ä¸Šå’ŒLSTMæ€æƒ³ç›¸ä¼¼ï¼Œå°±æ˜¯é€šè¿‡é¢å¤–çš„çº¿è·¯ï¼Œå»æ³¨æ„å‰é¢çš„ä¿¡æ¯ã€‚<br>å¦™å•Šï¼ï¼ï¼</p>
</blockquote>
]]></content>
      <categories>
        <category>CS224n</category>
      </categories>
      <tags>
        <tag>Attention</tag>
        <tag>æœºå™¨ç¿»è¯‘</tag>
      </tags>
  </entry>
  <entry>
    <title>CS224n-7 æ¢¯åº¦æ¶ˆå¤±,LSTM,GRU,BLSTM</title>
    <url>/2020/CS224n-7-%E6%A2%AF%E5%BA%A6%E6%B6%88%E5%A4%B1-LSTM-GRU-BLSTM/</url>
    <content><![CDATA[<blockquote>
<p>è¿™ä¸€èŠ‚å› ä¸ºRNNæ¢¯åº¦æ¶ˆå¤±å¼•å…¥äº†LSTMï¼ŒGRUã€‚LSTMå’ŒGRUçš„æ„é€ æ€æƒ³éƒ½æ˜¯åœ¨RNNçš„ä¸»çº¿å†…ï¼Œå¹¶è¡Œä¸€æ¡çº¿ï¼Œä¼ é€’å…¶ä»–ä¿¡æ¯ã€‚è§£å†³æ¢¯åº¦é—®é¢˜ï¼Œä¹Ÿå¯ä»¥åœ¨cellå¤–åŠ ä¸€æ¡çº¿ï¼Œæ¯”å¦‚åŒå‘RNNï¼Œå¤šå±‚RNNã€‚</p>
</blockquote><hr><p>RNNçš„æ¢¯åº¦æ¶ˆå¤±ä¸çˆ†ç‚¸ï¼š<br>åŸå› ï¼šç”±äºWhçš„æƒå€¼å…±äº«ï¼Œå½“Whçš„æœ€å¤§ç‰¹å¾å€¼å¤§äºå¤§äºå°äº1 å°±ä¼šé€ æˆ$W_h^n$çš„æŒ‡æ•°ï¼Œæ‰€ä»¥é€ æˆæ¢¯åº¦æ¶ˆå¤±æˆ–è€…çˆ†ç‚¸<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200302125410.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200204175150.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p><a id="more"></a>


<ul>
<li><p>æ¢¯åº¦æ¶ˆå¤±çš„é—®é¢˜ï¼š<br>è¿œå¤„çš„ä¿¡æ¯(æ¢¯åº¦)ä¼šæ¶ˆå¤±ï¼Œä¼šå¯¹ä¹‹åçš„è¾“å…¥æ²¡æœ‰å½±å“</p>
</li>
<li><p>æ¢¯åº¦çˆ†ç‚¸çš„é—®é¢˜ï¼š<br>æ¯æ¬¡è¿ˆå‡ºçš„æ­¥å¤ªå¤§ï¼Œå¯¼è‡´æ— æ³•æ”¶æ•›<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200204174949.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
</li>
<li><p>Gradient clippingï¼šè§£å†³æ¢¯åº¦çˆ†ç‚¸ï¼Œidea: å¦‚æœæ¢¯åº¦å¤§äºvï¼Œé‚£å°±é™¤ä»¥v<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200204181404.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
</li>
</ul>
<h1 id="lstm"><a href="#lstm" class="headerlink" title="lstm"></a>lstm</h1><p>æ–¯å¦ç¦çš„è¯¾å¥½å°±å¥½åœ¨ï¼Œä»–ä¼šå‘Šè¯‰ä½ æ¯ä¸€ä¸ªæ¨¡å‹ä¸ºä»€ä¹ˆè¯ç”Ÿï¼Œè§£å†³äº†ä»€ä¹ˆé—®é¢˜ã€‚<br>å¯¹äºlstmæ¥è¯´ï¼Œå°±æ˜¯è§£å†³äº†rnnå•çº¿ä¼ è¾“çš„é—®é¢˜ï¼Œé˜²æ­¢é•¿æœŸä¿¡æ¯ä¸¢å¤±ã€‚ä»¥åŠæ¢¯åº¦æ¶ˆå¤±å’Œçˆ†ç‚¸ã€‚<br>å•çº¿ä¼ è¾“å°±åªèƒ½æ‚ç³…ä¹‹å‰çš„æ‰€æœ‰ä¿¡æ¯ï¼Œè€Œlstmå°±å¯ä»¥æœ‰ä¸¤æ¡çº¿Cå’ŒHã€‚<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200204222854.png"><br>è¿™å¼ å›¾åŒ…å«äº†æ‰€æœ‰ä¿¡æ¯ã€‚</p>
<ul>
<li>ä¸‰ä¸ªé—¨ï¼šforget,input,outputåªæ˜¯æŠ½è±¡å‡ºæ¥çš„æ¦‚å¿µï¼Œé€šè¿‡å„è‡ªå…±äº«çš„å‚æ•°Wï¼ŒUï¼Œbæ¥è¾“å…¥ä¸€ä¸ª0-1çš„æ•°å€¼ï¼Œè¾…åŠ©å‘ä¸‹ã€‚</li>
<li>å…¶ä¸­cæ˜¯ç”¨æ¥æ›´æ–°â€œè®°å¿†â€</li>
<li>hç”¨æ¥ä½œä¸ºéšè—å±‚ï¼Œå’Œrnnçš„å•çº¿ä¼ æ’­ä¸€æ ·</li>
</ul>
<h2 id="ä¸ºä½•é—¨æ§è¦ç”¨sigmoidï¼Œä¼ æ’­è¦ç”¨tanhï¼Ÿ"><a href="#ä¸ºä½•é—¨æ§è¦ç”¨sigmoidï¼Œä¼ æ’­è¦ç”¨tanhï¼Ÿ" class="headerlink" title="ä¸ºä½•é—¨æ§è¦ç”¨sigmoidï¼Œä¼ æ’­è¦ç”¨tanhï¼Ÿ"></a>ä¸ºä½•é—¨æ§è¦ç”¨sigmoidï¼Œä¼ æ’­è¦ç”¨tanhï¼Ÿ</h2><p>Sigmoidçš„è¾“å‡ºåœ¨0-1ä¹‹åŒï¼Œç¬¦åˆé—¨æ§çš„ç‰©ç†å®šä¹‰ï¼Œä¸”å½“è¾“å…¥è¾ƒå¤§æˆ–è¾ƒå°æ—¶ï¼Œå…¶è¾“å‡ºä¼šéå¸¸æ¥è¿‘1æˆ–0ï¼Œä»è€Œä¿è¯è¯¥é—¨å¼€æˆ–å…³ï¼Œåœ¨ç”Ÿæˆå€™é€‰è®°äº¿æ—¶ï¼Œä½¿ç”¨<strong>tanhå‡½æ•°ï¼Œæ˜¯å› ä¸ºå…¶è¾“å‡ºåœ¨-1-1ä¹‹é—´ï¼Œè¿™ä¸å¤§å¤šæ•°åœºæ™¯ä¸‹ç‰¹å¾åˆ†å¸ƒæ˜¯0ä¸­å¿ƒçš„å»åˆ</strong>ã€‚æ­¤å¤–ï¼Œ<strong>tanhå‡½æ•°åœ¨è¾“å…¥ä¸º0è¿‘ç›¸æ¯” Sigmoidå‡½æ•°æœ‰æ›´å¤§çš„æ¢¯åº¦ï¼Œé€šå¸¸ä½¿æ¨¡å‹æ”¶æ•›æ›´å¿«ã€‚</strong></p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200204222854.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
<h1 id="GRU"><a href="#GRU" class="headerlink" title="GRU"></a>GRU</h1><p>GRUæ˜¯lstmçš„ç®€åŒ–ï¼Œåªæœ‰ä¸¤ä¸ªé—¨ï¼Œå‡å°‘äº†å‚æ•°ã€‚ä¹Ÿæ²¡æœ‰äº†cell stateã€‚<br>rtç”¨æ¥æ§åˆ¶ä¸Šä¸€è½®çš„håœ¨è¿™è½®çš„è¾“å…¥å¤§å°ï¼Œutæ§åˆ¶æ–°æ—§çš„æ¯”ä¾‹ã€‚<br>è¿™é‡Œå·§å¦™çš„åœ°æ–¹åœ¨äºutã€‚æ–°çš„å’Œæ—§çš„æƒé‡å’Œä¸º1ã€‚<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200204224730.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
<h1 id="LSTM-vs-GRU"><a href="#LSTM-vs-GRU" class="headerlink" title="LSTM vs GRU"></a>LSTM vs GRU</h1><p>ä¸¤ä¸ªå·®ä¸å¤šï¼Œæ•ˆæœä¸Šæ²¡æœ‰æ˜æ˜¾å·®åˆ«ã€‚<br>ä¸€èˆ¬å…ˆå°è¯•LSTMã€‚</p>
<h1 id="å…¶ä»–æ€è·¯è§£å†³æ¢¯åº¦æ¶ˆå¤±-çˆ†ç‚¸é—®é¢˜ï¼š"><a href="#å…¶ä»–æ€è·¯è§£å†³æ¢¯åº¦æ¶ˆå¤±-çˆ†ç‚¸é—®é¢˜ï¼š" class="headerlink" title="å…¶ä»–æ€è·¯è§£å†³æ¢¯åº¦æ¶ˆå¤±/çˆ†ç‚¸é—®é¢˜ï¼š"></a>å…¶ä»–æ€è·¯è§£å†³æ¢¯åº¦æ¶ˆå¤±/çˆ†ç‚¸é—®é¢˜ï¼š</h1><p>é¦–å…ˆï¼Œè¦æ˜ç¡®ï¼Œæ¢¯åº¦çš„æ¶ˆå¤±çˆ†ç‚¸ä¸ä»…ä»…æ˜¯rnnï¼Œä»»ä½•deepmodelåœ¨æ·±åº¦æ–¹é¢éƒ½ä¼šé¢ä¸´ï¼Œè€Œç®€å•rnnæ˜¯é•¿åº¦ä¸Šçš„æ¢¯åº¦é—®é¢˜ã€‚</p>
<h2 id="è§£å†³æ€è·¯1-Residual-connections"><a href="#è§£å†³æ€è·¯1-Residual-connections" class="headerlink" title="è§£å†³æ€è·¯1 Residual connections"></a>è§£å†³æ€è·¯1 Residual connections</h2><p>skip connection è·¨è¶Šéšè—å±‚é“¾æ¥ã€‚</p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200204225836.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
<h2 id="æ€è·¯2-Dence-Connect"><a href="#æ€è·¯2-Dence-Connect" class="headerlink" title="æ€è·¯2 Dence Connect"></a>æ€è·¯2 Dence Connect</h2><p>ä¹Ÿå°±æ˜¯ä¸­é—´å±‚ç›¸äº’é“¾æ¥ä¸€ä¸‹ã€‚è¿å¾—è¶Šå¤šï¼Œæ¢¯åº¦é—®é¢˜å°±è¶Šå¤æ‚ï¼Œè¶Šç¨³å®šã€‚</p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200204230034.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
<h1 id="å…¶ä»–ä¸¤ç§ç½‘ç»œ"><a href="#å…¶ä»–ä¸¤ç§ç½‘ç»œ" class="headerlink" title="å…¶ä»–ä¸¤ç§ç½‘ç»œ"></a>å…¶ä»–ä¸¤ç§ç½‘ç»œ</h1><h2 id="Bidirectional-RNNs-åŒå‘rnn"><a href="#Bidirectional-RNNs-åŒå‘rnn" class="headerlink" title="Bidirectional RNNs åŒå‘rnn"></a>Bidirectional RNNs åŒå‘rnn</h2><p>åŒå‘rnnå¯ä»¥è§£å†³è¯­è¨€ä¸­å•å‘æ­§ä¹‰çš„é—®é¢˜ã€‚æ¯”å¦‚ä¸‹å›¾çš„â€œterribleâ€<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200204230855.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
<p>terrible å¦‚æœå•å‘å¾ˆå®¹æ˜“ç†è§£ä¸ºè´Ÿå‘è¯ï¼Œä½†æ˜¯åŒå‘ï¼Œå°±å¢åŠ äº†excitingçš„ä½œç”¨ï¼Œä¼¼çš„æ¨¡å‹æ›´ç¨³å®šã€‚</p>
<h2 id="å¤šå±‚rnn"><a href="#å¤šå±‚rnn" class="headerlink" title="å¤šå±‚rnn"></a>å¤šå±‚rnn</h2><p>rnnä¹Ÿå¯ä»¥åœ¨æ·±åº¦ä¸Šåšæ–‡ç« ï¼Œä¸ä»…ä»…æ˜¯é•¿åº¦ä¸Šã€‚ä½†æ˜¯ä¸€èˆ¬æ¥è¯´â€œ3-5â€åˆé€‚ã€‚è®­ç»ƒä¸€èˆ¬æ¥è¯´æ˜¯ä¸€å±‚ä¸€å±‚è®­ç»ƒã€‚<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200204231035.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
]]></content>
      <categories>
        <category>CS224n</category>
      </categories>
      <tags>
        <tag>NLP</tag>
        <tag>LSTM/GRU</tag>
      </tags>
  </entry>
  <entry>
    <title>CS224n-6 è¯­è¨€æ¨¡å‹, n-Gram, RNN</title>
    <url>/2020/CS224n-6-%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B-n-Gram-RNN/</url>
    <content><![CDATA[<p>ä¸ºä»€ä¹ˆå…ˆå†™P6å‘¢ï¼Œå› ä¸ºP4æ˜¯åå‘ä¼ æ’­ï¼Œå…¬å¼å¤ªå¤šï¼ŒP5æ˜¯è¯­æ³•åˆ†æï¼Œæ¯ç‡¥ä¹å‘³ã€‚ä¸ºäº†é˜²æ­¢æ²¡æœ‰æ›´æ–°ä¸‹å»çš„åŠ¨åŠ›ï¼Œå…ˆæ¥å†™P6ã€‚æ¥ä¸‹æ¥çš„ä¸‰è®²P6-P8éƒ½æ˜¯ç”±åŠ©æ•™Abbyè®²çš„ï¼Œé€»è¾‘è¶…çº§æ¸…æ¥šï¼Œä¸€æ­¥ä¸€æ­¥å¾ªåºæ¸è¿›ã€‚çˆ±äº†çˆ±äº†ã€‚<a href="https://www.bilibili.com/video/av61620135?p=6" target="_blank" rel="noopener">Bç«™é“¾æ¥</a><br>P6 è¯­è¨€æ¨¡å‹-&gt;RNNæ¨¡å‹çš„è¿›åŒ–ï¼ŒP7 LSTMï¼ŒP8 Attention<br><img alt="é™„å›¾" data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200302021352.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>é™„ä¸ŠAbbyé“ç…§</p><a id="more"></a>
<hr>
<p><strong>Language Modeling</strong> is the task of predicting what word comes next.<br>æ ¹æ®å‰é¢å‰åŠå¥ï¼Œé¢„æµ‹ååŠå¥ã€‚å°±æ¯”å¦‚è¾“å…¥æ³•çš„è”æƒ³å€™é€‰è¯ï¼Œæœç´¢æ å¼¹å‡ºçš„å€™é€‰æœç´¢é¡¹ç›®ï¼Œéƒ½å±äºè¯­è¨€æ¨¡å‹ã€‚<br>ä¸ºä»€ä¹ˆè¦ç ”ç©¶è¯­è¨€æ¨¡å‹å‘¢ï¼Ÿå› ä¸ºå¾ˆå¤šä»»åŠ¡é‡Œéƒ½ä¼šæ¶‰åŠåˆ°ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>Predictive typing é¢„æµ‹ä¹‹åçš„è¾“å…¥</li>
<li>Speech recognition è¯­éŸ³è¯†åˆ«</li>
<li>Handwriting recognition æ‰‹å†™è¯†åˆ«</li>
<li>Spelling/grammar correction è¯­æ³•çº æ­£</li>
<li>Authorship identification </li>
<li>Machine translation æœºå™¨ç¿»è¯‘</li>
<li>Summarization æ–‡ç« æ€»ç»“</li>
<li>Dialogue å¯¹è¯ç³»ç»Ÿ</li>
<li>etc.<br>æ‰€ä»¥ï¼Œè¿™ä¸€èŠ‚å¾ˆé‡è¦ã€‚</li>
</ul>
<h1 id="n-Gramè¯­è¨€æ¨¡å‹"><a href="#n-Gramè¯­è¨€æ¨¡å‹" class="headerlink" title="n-Gramè¯­è¨€æ¨¡å‹"></a>n-Gramè¯­è¨€æ¨¡å‹</h1><p>ä¼ ç»Ÿæ–¹æ³•è®­ç»ƒè¯­è¨€æ¨¡å‹ï¼Œå°±ç”¨çš„<a href="https://leeee.top/2020/CS224n-2-word2vec-word-Senses/">CS224n-2-word2vec-word-Senses</a>ä¹‹å‰æåˆ°è¿‡çš„<strong>n-Gramè¯­è¨€æ¨¡å‹</strong>ï¼ŒåŸç†ä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯é€šè¿‡ç»Ÿè®¡é¢‘ç‡ï¼šå‰åŠå¥å‡ºç°è¿‡ï¼Œä¹‹åæœ€æœ‰å¯èƒ½è·Ÿç€çš„è¯æ˜¯ä»€ä¹ˆã€‚</p>
<p><strong>n-Gram</strong>ï¼š å°±æ˜¯è¿ç»­çš„nä¸ªè¯(ä¸€èˆ¬ä¸ä¼šå¤§äº5)å½“åšä¸€ä¸ªæœ€å°å•å…ƒï¼Œç»Ÿè®¡å‡ºç°çš„é¢‘ç‡ã€‚</p>
<p><strong>n-Gramè¯­è¨€æ¨¡å‹çš„å‡è®¾</strong>ï¼šç¬¬t+1ä¸ªè¯çš„é€‰æ‹©ï¼Œåªä¾èµ–äºå‰n-1ä¸ªè¯ã€‚</p>
<blockquote>
<p>è¿™é‡Œæœ‰ç‚¹é©¬å°”ç§‘å¤«é“¾å’Œæ—¶é—´åºåˆ—ARIMAæ¨¡å‹çš„å†…å‘³äº†ã€‚ </p>
</blockquote>
<p>æ ¹æ®å‡è®¾å°±èƒ½å¾—åˆ°ï¼š<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200302025657.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
<blockquote>
<p>ä¸¾ä¸ªæ —å­ï¼šå¤©æ°”å¾ˆå¥½ï¼Œæˆ‘æƒ³åƒ___<br>å¦‚æœè¿™é‡Œç”¨4-Gram æ¨¡å‹ï¼Œé‚£å¡«ç©ºçš„ä½ç½®ï¼Œåªä¸å‰é¢ä¸‰ä¸ªå­—â€æˆ‘æƒ³åƒâ€æœ‰å…³ï¼Œå‡å¦‚ï¼Œä¹‹å‰çš„æ•°æ®é›†é‡Œå‡ºç°äº†1000è¯â€œç«é”…â€ï¼Œ500æ¬¡â€œç³–â€ï¼Œé‚£ä¹ˆè¿™é‡Œè‚¯å®šå¡«â€œç«é”…â€</p>
</blockquote>
<ul>
<li>æƒ³æ³•è¶Šç®€å•ï¼Œé—®é¢˜å°±å¿…ç„¶å­˜åœ¨ï¼š</li>
</ul>
<ol>
<li>åˆ†æ¯ä¸º0æ€ä¹ˆåŠï¼Ÿ â€œæˆ‘æƒ³åƒâ€è¿™ä¸‰ä¸ªå­—æ•°æ®é›†é‡Œæ²¡æœ‰<br>S: <strong>backoff</strong> 4-Gramé€€åŒ–æˆ3-Gramï¼Œåªçœ‹å‰ä¸¤ä¸ªè¯â€œæƒ³åƒâ€ï¼Œå› ä¸ºæ•°æ®é›†é‡Œå¯èƒ½æœ‰â€œä»–æƒ³åƒâ€</li>
<li>åˆ†å­ä¸º0æ€ä¹ˆåŠï¼Ÿå‡å¦‚è¿™é‡Œçš„è¯­å¢ƒæ˜¯â€œæˆ‘è„‘å­æœ‰é—®é¢˜ï¼Œæˆ‘æƒ³åƒç¿”â€ï¼Œä½†æ˜¯æ•°æ®é›†é‡Œæ²¡å‡ºç°è¿‡è¿™ä¸ªçŸ­è¯­<br>S:  <strong>smoothing</strong> å¯¹äºæ²¡å‡ºç°çš„è¯éƒ½åŠ ä¸€ä¸ªå°æ•°é‡ã€‚<blockquote>
<p>(æˆ‘æ„Ÿè§‰æ²¡å•¥ç”¨å•Šï¼Œç¿”è¿˜æ˜¯ä¸ä¼šè¢«é€‰ä¸­)</p>
</blockquote>
</li>
<li>å­˜å‚¨é—®é¢˜ï¼Œn-Gramè¶Šå°ï¼Œæƒ…å†µè¶Šå¤šï¼Œéœ€è¦å­˜å‚¨çš„ç©ºé—´å¤ªå¤§<br>S: å¢åŠ n</li>
<li>ç¨€ç–æ€§é—®é¢˜ï¼Œæ²¡åŠæ³•è§£å†³</li>
</ol>
<h1 id="çª—å£è¯­è¨€æ¨¡å‹"><a href="#çª—å£è¯­è¨€æ¨¡å‹" class="headerlink" title="çª—å£è¯­è¨€æ¨¡å‹"></a>çª—å£è¯­è¨€æ¨¡å‹</h1><p>ä»»åŠ¡ï¼šè¾“å…¥å‰å‡ ä¸ªå•è¯ï¼Œè¾“å‡ºä¹‹åå¯èƒ½çš„å•è¯æ¦‚ç‡</p>
<p>æ¯”å¦‚è¯´ï¼šç”¨ç¬¬ä¸‰è®²çš„çª—å£æ¨¡å‹ï¼Œå°±å¯ä»¥è½¬åŒ–ä¸ºä¸€ä¸ªåˆ†ç±»å™¨ï¼Œå€™é€‰ç§ç±»æ˜¯æ‰€æœ‰å¯èƒ½å‡ºç°çš„å•è¯ã€‚<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200302032724.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>è§£å†³äº†n-Gramçš„ç¨€ç–æ€§é—®é¢˜ï¼Œä¹Ÿä¸éœ€è¦å‚¨å­˜å¤§é‡çš„é¢‘ç‡(åªéœ€è¦å‚¨å­˜è¯å‘é‡)</p>
<ul>
<li>æƒ³æ³•è¶Šç®€å•ï¼Œé—®é¢˜å°±å¿…ç„¶å­˜åœ¨ï¼š</li>
</ul>
<ol>
<li>çª—å£çš„å¤§å°ä¸å¥½ç¡®å®šï¼Œå¤ªå°äº†ä¸å‡†ç¡®ï¼Œå¤ªå¤§äº†æƒé‡Wå¾—å˜é•¿ï¼Œè®­ç»ƒçš„ä¹Ÿä¸å¥½ã€‚Wçš„é•¿åº¦=n*è¯å‘é‡é•¿åº¦ã€‚</li>
<li>çª—å£å†…çš„å•è¯æƒé‡ä¸€æ ·ï¼Œæ²¡æœ‰åˆ©ç”¨ä¸Šä½ç½®ä¿¡æ¯</li>
</ol>
<h1 id="BOOM-RNN"><a href="#BOOM-RNN" class="headerlink" title="BOOM! RNN"></a>BOOM! RNN</h1><p>è¿™ä¸ªæ—¶å€™ï¼Œå†æ¥ä»‹ç»RNNå°±é¡ºç†æˆç« äº†ã€‚<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200302034025.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
<p>RNNä¼˜ç‚¹ï¼š</p>
<ul>
<li>é•¿åº¦æ²¡æœ‰é™åˆ¶</li>
<li><strong>ç†è®ºä¸Š</strong>å¯ä»¥ç”¨ä¸Šä¹‹å‰çš„æ‰€æœ‰ä¿¡æ¯</li>
<li>è¾“å…¥çš„é•¿åº¦å’Œæ¨¡å‹å¤§å°æ— å…³</li>
<li>æƒå€¼å…±äº«ï¼Œå¯¹äºæ¯ä¸ªè¾“å…¥å¤„ç†éƒ½æ˜¯ä¸€æ ·çš„</li>
</ul>
<p>æƒ³æ³•è¶Šç®€å•ï¼Œé—®é¢˜å°±å¿…ç„¶å­˜åœ¨ï¼š</p>
<ul>
<li>è®¡ç®—å¤ªæ…¢</li>
<li>RNNå¯¹äºä¹‹å‰çš„ä¿¡æ¯(æ— è®ºé‡è¦ä¸å¦)éƒ½ä¼šå®¹æ˜“ä¸¢å¤±ï¼ˆæ¢¯åº¦æ¶ˆå¤±ï¼‰<blockquote>
<p>ğŸŸçš„è®°å¿†åªæœ‰3s.</p>
</blockquote>
</li>
</ul>
<h2 id="è®­ç»ƒè¿‡ç¨‹"><a href="#è®­ç»ƒè¿‡ç¨‹" class="headerlink" title="è®­ç»ƒè¿‡ç¨‹"></a>è®­ç»ƒè¿‡ç¨‹</h2><p>è®­ç»ƒä¸€ä¸ªRNNçš„æ•°æ®é›†å°±æ˜¯ä¸€ä¸ªcorpusè¯­æ–™åº“ï¼Œç„¶åå¼€å§‹é¢„æµ‹ï¼Œæ¯ä¸€æ­¥éƒ½è®¡ç®—lossï¼ˆé¢„æµ‹å€¼å’ŒçœŸå®å€¼çš„åå·®ï¼‰ï¼Œç›´åˆ°æ¨¡å‹æ”¶æ•›ã€‚<br>è¿™é‡Œç”¨äº¤å‰ç†µä½œä¸ºæŸå¤±ï¼š<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200302035733.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>å½“æˆ‘ä»¬è·‘å®Œä¸€è½®ä¹‹å(ä¸€èˆ¬è·‘ä¸€æ®µè¯ï¼Œæˆ–è€…ä¸€ä¸ªå¥å­å°±è¡Œ)ï¼Œå°±å¯ä»¥å¾—åˆ°å½“å‰çš„å‚æ•°å¯¹åº”çš„lossï¼Œå¯¹äºæ¯ä¸ªä½ç½®çš„æŸå¤±æ±‚å¹³å‡å°±å¥½ï¼Œç„¶åè®¡ç®—æ¢¯åº¦ï¼Œå¾—åˆ°æ–°çš„å‚æ•°ï¼Œç„¶åç”¨æ–°çš„å‚æ•°å»è®­ç»ƒåé¢çš„è¯­æ–™ã€‚<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200302035921.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200302040022.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
<h2 id="RNNåå‘ä¼ æ’­"><a href="#RNNåå‘ä¼ æ’­" class="headerlink" title="RNNåå‘ä¼ æ’­"></a>RNNåå‘ä¼ æ’­</h2><p>åå‘ä¼ æ’­ä¹Ÿå°±æ˜¯å½“æˆ‘ä»¬è®¡ç®—æ¢¯åº¦çš„æ—¶å€™ï¼Œå‘æŒ¥ä½œç”¨ã€‚<br>è¿™é‡Œç”¨äº†â€œbackpropagation through timeâ€ã€‚å› ä¸ºæˆ‘ä»¬å¾—åˆ°çš„loss Jæ˜¯åŠ èµ·æ¥è¿™ä¸€æ‰¹çš„lossï¼Œæ‰€ä»¥æˆ‘ä»¬æ±‚å¯¼çš„æ—¶å€™ä¹Ÿæ˜¯å¯¹äºæ¯æ¬¡çš„é¢„æµ‹éƒ½è¿›è¡Œæ±‚å¯¼(å®é™…ä¸Šç”¨äº†é“¾å¼æ³•åˆ™)<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200302040907.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
<h2 id="RNNè¯­è¨€æ¨¡å‹çš„è¯„ä»·æŒ‡æ ‡"><a href="#RNNè¯­è¨€æ¨¡å‹çš„è¯„ä»·æŒ‡æ ‡" class="headerlink" title="RNNè¯­è¨€æ¨¡å‹çš„è¯„ä»·æŒ‡æ ‡"></a>RNNè¯­è¨€æ¨¡å‹çš„è¯„ä»·æŒ‡æ ‡</h2><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200302120224.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>å›°æƒ‘åº¦çš„ç†è§£å¯ä»¥å‚è€ƒçŸ¥ä¹<a href="https://www.zhihu.com/question/58482430" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a></p>
<blockquote>
<p><strong>å›°æƒ‘åº¦Perplexity</strong>å°±æ˜¯æ¨¡å‹å¯¹äºæµ‹è¯•æ•°æ®è®¤çŸ¥ï¼Œå¦‚æœè¯´æ¨¡å‹å¾ˆå®¹æ˜“ç”Ÿæˆæµ‹è¯•æ•°æ®é›†ï¼Œé‚£ä¹ˆå›°æƒ‘åº¦å°±å°ã€‚<br>æ¢ä¸€ç§ç†è§£ï¼š<strong>ç»™æµ‹è¯•é›†çš„å¥å­èµ‹äºˆè¾ƒé«˜æ¦‚ç‡å€¼çš„è¯­è¨€æ¨¡å‹è¾ƒå¥½,å½“è¯­è¨€æ¨¡å‹è®­ç»ƒå®Œä¹‹åï¼Œæµ‹è¯•é›†ä¸­çš„å¥å­éƒ½æ˜¯æ­£å¸¸çš„å¥å­ï¼Œé‚£ä¹ˆè®­ç»ƒå¥½çš„æ¨¡å‹å°±æ˜¯åœ¨æµ‹è¯•é›†ä¸Šçš„æ¦‚ç‡è¶Šé«˜è¶Šå¥½ã€‚</strong></p>
</blockquote>
<p>å›°æƒ‘åº¦ä¸éœ€è¦åº”ç”¨ä»€ä¹ˆä»»åŠ¡ï¼Œç›´æ¥è¾“å…¥æ•°æ®ï¼Œå°±èƒ½æ¯”è¾ƒæ¨¡å‹å¥½åã€‚</p>
<ul>
<li>æ¨¡å‹å›°æƒ‘åº¦æ¯”è¾ƒ<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200302120612.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"><br>å¯ä»¥å‘ç°lstm&gt;RNN&gt;5-gram</li>
</ul>
<h1 id="RNNçš„å…¶ä»–ä»»åŠ¡-å½“ç„¶LSTMä¹Ÿå¯ä»¥"><a href="#RNNçš„å…¶ä»–ä»»åŠ¡-å½“ç„¶LSTMä¹Ÿå¯ä»¥" class="headerlink" title="RNNçš„å…¶ä»–ä»»åŠ¡(å½“ç„¶LSTMä¹Ÿå¯ä»¥)"></a>RNNçš„å…¶ä»–ä»»åŠ¡(å½“ç„¶LSTMä¹Ÿå¯ä»¥)</h1><ul>
<li>è¯æ€§æ ‡æ³¨<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200302120841.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></li>
<li><p>å¥å­åˆ†ç±»ï¼ˆegï¼šæƒ…æ„Ÿåˆ†ç±»ï¼‰<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200302120926.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
</li>
<li><p>encoder é—®ç­”ç³»ç»Ÿ</p>
</li>
</ul>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200302121101.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
<ul>
<li>è¯­éŸ³è¯†åˆ«ç­‰</li>
</ul>
<p>â—¾</p>
<blockquote>
<p>ä¸‹èŠ‚è¯¾è®²LSTMï¼ŒGRUï¼Œå¤šå±‚LSTMï¼Œæƒ³æƒ³è¿˜æœ‰ç‚¹å°æ¿€åŠ¨å‘¢</p>
</blockquote>
]]></content>
      <categories>
        <category>CS224n</category>
      </categories>
      <tags>
        <tag>NLP</tag>
        <tag>RNN</tag>
      </tags>
  </entry>
  <entry>
    <title>MSBD5004 Mathematical Methods for Data Analysis Homework 1</title>
    <url>/2020/MSBD5004-Mathematical-Methods-for-Data-Analysis-Homework-1/</url>
    <content><![CDATA[<p>MSBD5004 Mathematical Methods for Data Analysis Homework 1<br>20635526 LiYuan</p><h1 id="Q1"><a href="#Q1" class="headerlink" title="Q1"></a>Q1</h1><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200301103136.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p><h1 id="a"><a href="#a" class="headerlink" title="( a )"></a>( a )</h1><p>By norm definition, we can see:</p><a id="more"></a>


<ul>
<li>Zero vector:<br>$\forall x \in V, |\boldsymbol{x}|_{\infty}=\max _{1 \leq i \leq n}\left|x_{i}\right|\geq0$ .<br>And only when $X=0$ then $|x|_{\infty}=0$.</li>
<li>positive homogeneity:<br>$\forall x \in V$ and $\alpha \in \mathbb{R}$, $|\boldsymbol{\alpha x}|_{\infty}=\max _{1 \leq i \leq n}\left|\alpha x_{i}\right|=\left|\alpha \right||\boldsymbol{ x}|_{\infty}$.</li>
<li>triangle inequality:<br>$\forall x, y \in V$, $|\boldsymbol{x+y}|_{\infty}= \max _{1 \leq i \leq n}\left|x_{i}+y_i\right|<br>\leq \max _{1 \leq i \leq n}\left|x_{i}\right|+\max _{1 \leq j \leq n}\left|y_{j}\right| =|\boldsymbol{x}|_{\infty}+|\boldsymbol{y}|_{\infty}$ </li>
</ul>
<p>So, $|\boldsymbol{x}|_{\infty}=\max _{1 \leq i \leq n}\left|x_{i}\right|$ is indeed a norm on $\mathbb{R}^{n}$.â—¾</p>
<h2 id="b"><a href="#b" class="headerlink" title="( b )"></a>( b )</h2><ul>
<li><p>Proof. </p>
<p>Let $|x|_{p}=\left(\sum_{i}\left|x_{i}\right|^{p}\right)^{\frac{1}{p}} .$ Observe that for all $x$ we have that</p>
<script type="math/tex; mode=display">
\max _{i}\left|x_{i}\right| \leq\|x\|_{p}</script><p>and that</p>
<script type="math/tex; mode=display">
\|x\|_{p} \leq\left(\sum_{i} \max _{i}\left|x_{i}\right|^{p}\right)^{\frac{1}{p}}</script><p>Thus,</p>
<script type="math/tex; mode=display">
\max _{i}\left|x_{i}\right| \leq\|x\|_{p} \leq\left(\sum_{i} \max _{i}\left|x_{i}\right|^{p}\right)^{\frac{1}{p}}</script><p>but then,</p>
<script type="math/tex; mode=display">\left(\sum_{i} \max _{i}\left|x_{i}\right|^{p}\right)^{\frac{1}{p}}=\left(n \cdot \max _{i}\left|x_{i}\right|^{p}\right)^{\frac{1}{p}}=n^{\frac{1}{p}} \cdot \max _{i}\left|x_{i}\right|</script><p>Thus </p>
<script type="math/tex; mode=display">
\max _{i}\left|x_{i}\right| \leq\|x\|_{p} \leq n^{\frac{1}{p}} \cdot \max _{i}\left|x_{i}\right|</script><p>however, $\lim _{p \rightarrow \infty} n^{\frac{1}{p}}=1,$ so</p>
<script type="math/tex; mode=display">
\max _{i}\left|x_{i}\right| \leq \lim _{p \rightarrow \infty}\|x\|_{p} \leq \max _{i}\left|x_{i}\right|</script><p>or rather, that $|x|_{\infty}=\lim _{p \rightarrow \infty}|x|_{p}=\max _{i}\left|x_{i}\right|$.<a href="https://notgnoshi.github.io/l-infinity-norm/" target="_blank" rel="noopener">â—¾</a></p>
</li>
</ul>
<h1 id="c"><a href="#c" class="headerlink" title="( c )"></a>( c )</h1><ul>
<li>Proof.<br>$|\boldsymbol{x}|_{\infty}=\max _{1 \leq i \leq n}\left|x_{i}\right|\leq\sum_{i=1}^n\left|x_{i}\right|=|\boldsymbol{x}|_{1}$<br>$|\boldsymbol{x}|_{1}=\sum_{i=1}^n\left|x_{i}\right|\leq n*\max _{1 \leq i \leq n}\left|x_{i}\right|=n|\boldsymbol{x}|_{\infty}$</li>
</ul>
<p>So that $|\boldsymbol{x}|_{\infty} \leq|\boldsymbol{x}|_{1} \leq n|\boldsymbol{x}|_{\infty}, \quad \forall \boldsymbol{x} \in \mathbb{R}^{n}$.â—¾</p>
<h1 id="Q2"><a href="#Q2" class="headerlink" title="Q2"></a>Q2</h1><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200301104035.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
<h2 id="a-1"><a href="#a-1" class="headerlink" title="( a )"></a>( a )</h2><ul>
<li>Proof:</li>
</ul>
<p>Running through all $x \neq 0$ is equivalent to running through all $y:=\frac{x}{|x|_2}$ with $|y|_2=1$</p>
<script type="math/tex; mode=display">
\|\boldsymbol{A}\|_{2}=\sup _{\boldsymbol{x} \in \mathbb{R}^{n}, \boldsymbol{x} \neq 0} \frac{\|\boldsymbol{A} \boldsymbol{x}\|_{2}}{\|\boldsymbol{x}\|_{2}}=\sup _{\boldsymbol{x} \in \mathbb{R}^{n}, \boldsymbol{x} \neq 0}\left\|A \frac{x}{\|x\|_2}\right\|_2=
\sup _{\boldsymbol{y} \in \mathbb{R}^{n}, \|y\|_2 =1}\left\|A y\right\|_2=\max_{\boldsymbol{y} \in \mathbb{R}^{n}, \|y\|_2 =1}\left\|A y\right\|_2</script><p>â—¾</p>
<h2 id="b-1"><a href="#b-1" class="headerlink" title="( b )"></a>( b )</h2><p>By norm definition, we can see:</p>
<ul>
<li>Zero vector:<br>$\forall A \in V^{m \times n}$,<script type="math/tex; mode=display">\|\boldsymbol{A}\|_{2}=\max _{\boldsymbol{x} \in \mathbb{R}^{n},\|\boldsymbol{x}\|_{2}=1}\|\boldsymbol{A} \boldsymbol{x}\|_{2}\geq\max_{0\leq i \leq m}(\sum_{j = 1}^{n} a_{i,j}x_j)</script>Because $|\boldsymbol{x}|_2=1$, so not all $x_j=0$, So $|\boldsymbol{x}|_2 \geq 0$.<br>And only when all $a_{i,j}=0$,then $|\boldsymbol{A}|_{2}=0$, So $|\boldsymbol{A}|_{2}=0\Leftrightarrow \mathbf{A}=0$</li>
<li>positive homogeneity:<br>$\forall A \in V$ and $\alpha \in R$, <script type="math/tex">\|\alpha\boldsymbol{A}\|_{2}=\sup _{\boldsymbol{x} \in \mathbb{R}^{n}, \boldsymbol{x} \neq \mathbf{0}} \frac{\|\alpha\boldsymbol{A} \boldsymbol{x}\|_{2}}{\|\boldsymbol{x}\|_{2}}=\alpha\sup _{\boldsymbol{x} \in \mathbb{R}^{n}, \boldsymbol{x} \neq \mathbf{0}} \frac{\|\boldsymbol{A} \boldsymbol{x}\|_{2}}{\|\boldsymbol{x}\|_{2}}=\alpha\|\boldsymbol{A}\|_{2}</script></li>
<li>triangle inequality:<br>$\forall A,B \in V$,<script type="math/tex; mode=display">
\|\boldsymbol{A+B}\|_{2}=\sup _{\boldsymbol{x} \in \mathbb{R}^{n}, \boldsymbol{x} \neq 0} \frac{\|\boldsymbol{A} \boldsymbol{x}+\boldsymbol{B} \boldsymbol{x}\|_{2}}{\|\boldsymbol{x}\|_{2}}
\leq\sup _{\boldsymbol{x} \in \mathbb{R}^{n}, \boldsymbol{x} \neq 0} \frac{\|\boldsymbol{A} \boldsymbol{x}\|_{2}}{\|\boldsymbol{x}\|_{2}}+\sup _{\boldsymbol{x} \in \mathbb{R}^{n}, \boldsymbol{x} \neq 0} \frac{\|\boldsymbol{B} \boldsymbol{x}\|_{2}}{\|\boldsymbol{x}\|_{2}}=\|\boldsymbol{A}\|_{2}+\|\boldsymbol{B}\|_{2}</script>So,  $|\cdot|_{2}$is indeed a norm on $\mathbb{R}^{m\times n}$.â—¾</li>
</ul>
<h2 id="c-1"><a href="#c-1" class="headerlink" title="( c )"></a>( c )</h2><p>From the definition we have $\forall \boldsymbol{A} \in \mathbb{R}^{m \times n},\forall\boldsymbol{|x|}\neq \mathbf{0}$,</p>
<script type="math/tex; mode=display">\|\boldsymbol{A} \boldsymbol{x}\|_{2}\leq \sup _{\boldsymbol{x} \in \mathbb{R}^{n}, \boldsymbol{x} \neq \mathbf{0}}\|\boldsymbol{A} \boldsymbol{x}\|_{2} =\|\boldsymbol{A}\|_{2}\|\boldsymbol{x}\|_{2}</script><p>â—¾</p>
<h2 id="d"><a href="#d" class="headerlink" title="( d )"></a>( d )</h2><p>$\forall \boldsymbol{A} \in \mathbb{R}^{m \times n},\forall\boldsymbol{B} \in \mathbb{R}^{m \times n}$,</p>
<script type="math/tex; mode=display">\|\boldsymbol{A}\boldsymbol{B}\|_{2}=\max _{\boldsymbol{x} \in \mathbb{R}^{n},\|\boldsymbol{x}\|_{2}=1}\|\boldsymbol{AB} \boldsymbol{x}\|_{2} = \max _{\boldsymbol{x} \in \mathbb{R}^{n},\|\boldsymbol{x}\|_{2}=1}\|\boldsymbol{A(Bx)}\|_{2} \leq  \|A\|\max _{\boldsymbol{x} \in \mathbb{R}^{n},\|\boldsymbol{x}\|_{2}=1}\|\boldsymbol{(Bx)}\|_{2}</script><p>by ( c ) above. Thus</p>
<script type="math/tex; mode=display">\|\boldsymbol{A}\boldsymbol{B}\|_{2}\leq  \|\boldsymbol{A}\|_2\max _{\boldsymbol{x} \in \mathbb{R}^{n},\|\boldsymbol{x}\|_{2}=1}\|\boldsymbol{(Bx)}\|_{2}= \|\boldsymbol{A}\|_2 \|\boldsymbol{B}\|_2</script><p><a href="https://www.sciencedirect.com/topics/mathematics/matrix-norm" target="_blank" rel="noopener">â—¾</a></p>
<h1 id="Q3"><a href="#Q3" class="headerlink" title="Q3"></a>Q3</h1><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200301223359.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
<ul>
<li>Proof. </li>
</ul>
<p>Weâ€™re basically after:</p>
<script type="math/tex; mode=display">\arg \min_{b} \sum_{i = 1}^{m} \left| {a}_{i} - b \right|</script><p>One should notice that $\frac{\mathrm{d} \left | x \right | }{\mathrm{d} x} = \operatorname{sign} \left( x \right)$ (Being more rigorous would say it is a Sub Gradient of the non smooth $L_1$ Norm function).<br>Hence, deriving the sum above yields $\sum_{i = 1}^{m} \operatorname{sign} \left( {a}_{i} - b \right)$.<br>This equals to zero only when the number of positive items equals the number of negative which happens when $b = \operatorname{median} \left\{ {a}_{1}, {a}_{2}, \cdots, {a}_{m} \right\}$.<a href="https://math.stackexchange.com/questions/113270/the-median-minimizes-the-sum-of-absolute-deviations-the-l-1-norm" target="_blank" rel="noopener">â—¾</a></p>
<h1 id="Q4"><a href="#Q4" class="headerlink" title="Q4"></a>Q4</h1><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200301223421.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
<h2 id="a-2"><a href="#a-2" class="headerlink" title="( a )"></a>( a )</h2><p>Because $z_j$ is average of some $x_i$, so $z_j$ located at center of these $x_i$ , so $z_j$ is in the entries. So $z_j$ also are nonnegative.â—¾</p>
<h2 id="b-2"><a href="#b-2" class="headerlink" title="( b )"></a>( b )</h2><p>If each vector sums to one, $\mathbf{1}^{T} x_{k}=1$ for all $k$ then the same is true for the average:</p>
<p><script type="math/tex">\mathbf{1}^{T} z_{j}=\frac{1}{\left|G_{j}\right|} \sum_{k \in G_{j}} \mathbf{1}^{T} x_{k}=\frac{\left|G_{j}\right|}{\left|G_{j}\right|}=1</script>â—¾</p>
<h2 id="c-2"><a href="#c-2" class="headerlink" title="( c )"></a>( c )</h2><p>The $i$th entry of group represenative $z_j$is the fraction of the vectors in group $j$that have $i$th entry one. If it is equal to one, all vectors in the group have $i$thentry one. If it is close to one, most vectors in the group haveith entry one. If it zero, no vectors in the group haveith entry one.<a href="https://www.coursehero.com/file/p67cqc5/a-Suppose-the-original-vectors-x-i-are-nonnegative-ie-their-entries-are/" target="_blank" rel="noopener">â—¾</a></p>
<h1 id="Q5"><a href="#Q5" class="headerlink" title="Q5"></a>Q5</h1><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200301234639.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
]]></content>
      <categories>
        <category>5004</category>
      </categories>
      <tags>
        <tag>Homework</tag>
        <tag>èŒƒæ•°</tag>
        <tag>Kmeans</tag>
      </tags>
  </entry>
  <entry>
    <title>é€šè¿‡sshå…å¯†éƒ¨ç½²github</title>
    <url>/2020/github-ssh/</url>
    <content><![CDATA[<p>ä¹‹å‰åœ¨éƒ¨ç½²åšå®¢åˆ°github pageçš„æ—¶å€™æ¯å½“é‡åˆ°hexo deployï¼Œé‡åˆ°äº†<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git@github.com: Permission denied (publickey).</span><br><span class="line">fatal: æ— æ³•è¯»å–è¿œç¨‹ä»“åº“ã€‚</span><br><span class="line">è¯·ç¡®è®¤æ‚¨æœ‰æ­£ç¡®çš„è®¿é—®æƒé™å¹¶ä¸”ä»“åº“å­˜åœ¨ã€‚</span><br></pre></td></tr></table></figure><br>æçš„æˆ‘ç™¾æ€ä¸å¾—å…¶è§£ï¼Œsshå’Œgithubçš„è¿æ¥æ˜æ˜æ˜¯æå¥½çš„ã€‚æœ€åå®šä½åˆ°é—®é¢˜æ˜¯ç³»ç»Ÿssh-keyä»£ç†è¢«è¯¯åˆ äº†ã€‚å…·ä½“æ˜¯ä»€ä¹ˆæ“ä½œè¯¯åˆ æˆ‘å°±æ²¡å®šä½åˆ°ï¼Œå¯èƒ½æ˜¯å› ä¸ºç”¨äº†zshçš„shellä¹‹åï¼Œå’Œä¹‹å‰bashçš„è·¯å¾„ä¸å¯¹ï¼Ÿç®—äº†ï¼Œè¿™ç¯‡å°±æ€»ç»“æ­è½½sshçš„è¿‡ç¨‹ã€‚</p><a id="more"></a>
<p>å…·ä½“æ€ä¹ˆæsshå‚è€ƒè¿™ç¯‡<a href="https://blog.csdn.net/u013778905/article/details/83501204" target="_blank" rel="noopener">GitHubå¦‚ä½•é…ç½®SSH Key</a>ã€‚</p>
<h1 id="è®¾ç½®gitçš„user-nameå’Œemail"><a href="#è®¾ç½®gitçš„user-nameå’Œemail" class="headerlink" title="è®¾ç½®gitçš„user nameå’Œemail"></a>è®¾ç½®gitçš„user nameå’Œemail</h1><p>å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Œæˆ–è€…è¿˜æ²¡æœ‰é…ç½®è¿‡çš„è¯éœ€è¦æ“ä½œä¸€ä¸‹å‘½ä»¤ï¼Œè‡ªè¡Œæ›¿æ¢ç›¸åº”å­—æ®µã€‚<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git config --global user.name &quot;xxxxxx&quot;</span><br><span class="line">git config --global user.email  &quot;xxxxx@gmail.com&quot;</span><br></pre></td></tr></table></figure><br>è¯´æ˜ï¼šgit config â€”list æŸ¥çœ‹å½“å‰Gitç¯å¢ƒæ‰€æœ‰é…ç½®ï¼Œè¿˜å¯ä»¥é…ç½®ä¸€äº›å‘½ä»¤åˆ«åä¹‹ç±»çš„</p>
<h1 id="æ£€æŸ¥-ç”Ÿæˆssh-key"><a href="#æ£€æŸ¥-ç”Ÿæˆssh-key" class="headerlink" title="æ£€æŸ¥/ç”Ÿæˆssh key"></a>æ£€æŸ¥/ç”Ÿæˆssh key</h1><p>ssh key ç”±ä¸€ä¸ªå…¬é’¥(id_rsa.pub)å’Œç§é’¥(id_rsa)ç»„æˆï¼Œæ„æˆsshé€šé“çš„å®‰å…¨ã€‚<br>å¯ä»¥é€šè¿‡cd ~/.ssh   ç„¶åls  æŸ¥çœ‹ã€‚<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200226175214.png"><br>ä¸Šå›¾ä¸­ï¼Œæˆ‘æœ‰ä¸¤ç»„ssh keyã€‚<br>å¦‚æœæ²¡æœ‰ï¼Œå°±ç”Ÿæˆä¸€ä¸‹ã€‚</p>
<blockquote>
<p>ssh-keygen -t rsa -C â€œxxxxxxx@qq.comâ€</p>
</blockquote>
<h1 id="è·å–å…¬é’¥æ·»åŠ åˆ°githubé‡Œ"><a href="#è·å–å…¬é’¥æ·»åŠ åˆ°githubé‡Œ" class="headerlink" title="è·å–å…¬é’¥æ·»åŠ åˆ°githubé‡Œ"></a>è·å–å…¬é’¥æ·»åŠ åˆ°githubé‡Œ</h1><blockquote>
<p>cat id_rsa.pub<br>ç„¶åå¤åˆ¶åˆ°github -&gt; settting -&gt; ssh and GPG keys -&gt; new SSHkey</p>
</blockquote>
<p>ç„¶åæ‹·è´è¿›å»ã€‚<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200226175610.png"></p>
<h1 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h1><div class="note primary">
            <blockquote><p>$ ssh -T git@github.com<br>Hi ! Youâ€™ve successfully authenticated, but GitHub does not provide shell access.</p></blockquote>
          </div>
<p>è¯´æ˜è¿è¡ŒæˆåŠŸï¼Œæ­å–œä½ æ‹œæ‰˜äº†httpsæ­¥å…¥SSHæ—¶ä»£ã€‚</p>
<h1 id="è§£å†³å¤šä¸ªç§˜é’¥sshæƒé™é—®é¢˜"><a href="#è§£å†³å¤šä¸ªç§˜é’¥sshæƒé™é—®é¢˜" class="headerlink" title="è§£å†³å¤šä¸ªç§˜é’¥sshæƒé™é—®é¢˜"></a>è§£å†³å¤šä¸ªç§˜é’¥sshæƒé™é—®é¢˜</h1><p>é€šå¸¸ä¸€å°ç”µè„‘ç”Ÿæˆä¸€ä¸ªsshä¸ä¼šæœ‰è¿™ä¸ªé—®é¢˜ï¼Œå½“ä¸€å°ç”µè„‘ç”Ÿæˆå¤šä¸ªsshçš„æ—¶å€™ï¼Œå°±å¯èƒ½é‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œè§£å†³æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<h2 id="æŸ¥çœ‹ç³»ç»Ÿssh-keyä»£ç†-æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤"><a href="#æŸ¥çœ‹ç³»ç»Ÿssh-keyä»£ç†-æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤" class="headerlink" title="æŸ¥çœ‹ç³»ç»Ÿssh-keyä»£ç†,æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤"></a>æŸ¥çœ‹ç³»ç»Ÿssh-keyä»£ç†,æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤</h2><p><code>$ ssh-add -l</code></p>
<p>ã€€ã€€ä»¥ä¸Šå‘½ä»¤å¦‚æœè¾“å‡º The agent has no identities. åˆ™è¡¨ç¤ºæ²¡æœ‰ä»£ç†ã€‚å¦‚æœç³»ç»Ÿæœ‰ä»£ç†ï¼Œå¯ä»¥æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤æ¸…é™¤ä»£ç†:<br><code>$ ssh-add -D</code></p>
<h2 id="ç„¶åä¾æ¬¡å°†ä¸åŒçš„sshæ·»åŠ ä»£ç†ï¼Œæ‰§è¡Œå‘½ä»¤å¦‚ä¸‹ï¼š"><a href="#ç„¶åä¾æ¬¡å°†ä¸åŒçš„sshæ·»åŠ ä»£ç†ï¼Œæ‰§è¡Œå‘½ä»¤å¦‚ä¸‹ï¼š" class="headerlink" title="ç„¶åä¾æ¬¡å°†ä¸åŒçš„sshæ·»åŠ ä»£ç†ï¼Œæ‰§è¡Œå‘½ä»¤å¦‚ä¸‹ï¼š"></a>ç„¶åä¾æ¬¡å°†ä¸åŒçš„sshæ·»åŠ ä»£ç†ï¼Œæ‰§è¡Œå‘½ä»¤å¦‚ä¸‹ï¼š</h2><p><code>$ ssh-add ~/.ssh/id_rsa</code><br><code>$ ssh-add ~/.ssh/aysee</code></p>
<p>ã€€ä½ ä¼šåˆ†åˆ«å¾—åˆ°å¦‚ä¸‹æç¤ºï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">2048 8e:71:ad:88:78:80:b2:d9:e1:2d:1d:e4:be:6b:db:8e /Users/aysee/.ssh/id_rsa (RSA)</span><br><span class="line">2048 8e:71:ad:88:78:80:b2:d9:e1:2d:1d:e4:be:6b:db:8e /Users/aysee/.ssh/id_rsa (RSA)</span><br></pre></td></tr></table></figure><br>ã€€ã€€å¦‚æœä½¿ç”¨ ssh-add ~/.ssh/id_rsaçš„æ—¶å€™æŠ¥å¦‚ä¸‹é”™è¯¯ï¼Œåˆ™éœ€è¦å…ˆè¿è¡Œä¸€ä¸‹ ssh-agent bash å‘½ä»¤åå†æ‰§è¡Œ ssh-add â€¦ç­‰å‘½ä»¤<br><code>Could not open a connection to your authentication agent.</code></p>
<h2 id="é…ç½®-ssh-config-æ–‡ä»¶"><a href="#é…ç½®-ssh-config-æ–‡ä»¶" class="headerlink" title="é…ç½® ~/.ssh/config æ–‡ä»¶"></a>é…ç½® ~/.ssh/config æ–‡ä»¶</h2><p>ã€€ã€€å¦‚æœæ²¡æœ‰å°±åœ¨~/.sshç›®å½•åˆ›å»ºconfigæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶ç”¨äºé…ç½®ç§é’¥å¯¹åº”çš„æœåŠ¡å™¨<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Default github user(first@mail.com)</span><br><span class="line">Host github.com</span><br><span class="line">HostName github.com</span><br><span class="line">User git</span><br><span class="line">IdentityFile C:/Users/username/.ssh/id_rsa</span><br><span class="line"># aysee (company_email@mail.com)</span><br><span class="line">Host github-aysee</span><br><span class="line">`HostName github.com</span><br><span class="line">User git</span><br><span class="line">IdentityFile C:/Users/username/.ssh/aysee</span><br></pre></td></tr></table></figure><br>Hostéšæ„å³å¯ï¼Œæ–¹ä¾¿è‡ªå·±è®°å¿†ï¼Œåç»­åœ¨æ·»åŠ remoteæ˜¯è¿˜éœ€è¦ç”¨åˆ°ã€‚ é…ç½®å®Œæˆåï¼Œåœ¨è¿æ¥éé»˜è®¤å¸å·çš„githubä»“åº“æ—¶ï¼Œè¿œç¨‹åº“çš„åœ°å€è¦å¯¹åº”åœ°åšä¸€äº›ä¿®æ”¹ï¼Œæ¯”å¦‚ç°åœ¨æ·»åŠ secondå¸å·ä¸‹çš„ä¸€ä¸ªä»“åº“testï¼Œåˆ™éœ€è¦è¿™æ ·æ·»åŠ ï¼š</p>
<p><code>git remote add test git@github-aysee:ay-seeing/test.git</code><br><code>#å¹¶éåŸæ¥çš„git@github.com:ay-seeing/test.git</code><br>ay-seeing æ˜¯githubçš„ç”¨æˆ·å</p>
<h2 id="æµ‹è¯•-ssh"><a href="#æµ‹è¯•-ssh" class="headerlink" title="æµ‹è¯• ssh"></a>æµ‹è¯• ssh</h2><p><code>ssh -T git@github.com</code><br>ä½ ä¼šå¾—åˆ°å¦‚ä¸‹æç¤ºï¼Œè¡¨ç¤ºè¿™ä¸ªsshå…¬é’¥å·²ç»è·å¾—äº†æƒé™<br><code>Hi USERNAME! You&#39;ve successfully authenticated, but github does not provide shell access.</code></p>
<p>å‚è€ƒï¼š<a href="https://www.cnblogs.com/ayseeing/p/4445194.html" target="_blank" rel="noopener">https://www.cnblogs.com/ayseeing/p/4445194.html</a></p>
]]></content>
      <categories>
        <category>å·¥ç¨‹</category>
      </categories>
      <tags>
        <tag>ssh</tag>
        <tag>github</tag>
        <tag>hexo</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>MSBD5009 å¹¶è¡Œè®¡ç®—ä»‹ç»</title>
    <url>/2020/MSBD5009-1-%E5%B9%B6%E8%A1%8C%E8%AE%A1%E7%AE%97%E4%BB%8B%E7%BB%8D/</url>
    <content><![CDATA[<h1 id="å¹¶è¡Œè®¡ç®—parallel-programming"><a href="#å¹¶è¡Œè®¡ç®—parallel-programming" class="headerlink" title="å¹¶è¡Œè®¡ç®—parallel programming"></a>å¹¶è¡Œè®¡ç®—parallel programming</h1><blockquote>
<p>æ›´æ–°ï¼šè¿™é—¨è¯¾å¤ªç¡¬æ ¸ï¼Œæ¢è¯¾äº†</p>
</blockquote><p>é€‰è¿™é—¨è¯¾ä¸»è¦æ˜¯æƒ³æé«˜ç¼–ç¨‹èƒ½åŠ›ï¼Œé¡ºä¾¿äº†è§£ä¸€ä¸‹osç›¸å…³çŸ¥è¯†ï¼Œæœ¬ç§‘æ²¡å­¦è¿‡æ“ä½œç³»ç»Ÿå’Œç¼–è¯‘åŸç†ä»€ä¹ˆçš„ï¼Œç»å¸¸é‡åˆ°äº†äº‘é‡Œé›¾é‡Œçš„ã€‚<br>è¿˜æœ‰ä»¥å‰è¿˜å»ç¢°è¿‡CUDAï¼Œè‡ªå·±çç ”ç©¶æ·±åº¦å­¦ä¹ çš„é¡¹ç›®ï¼Œæœ€åè¿CUDAå’ŒTFçš„ç‰ˆæœ¬é€‚é…éƒ½æ²¡è§£å†³ï¼Œå®³ï¼Œä¸€æŠŠè¾›é…¸æ³ªã€‚<br>ç¬¬ä¸€èŠ‚è¯¾é‡åˆ°å„ç§çº¿ç¨‹è¿›ç¨‹cacheï¼Œä¸­æ–‡éƒ½ä¸çŸ¥é“æ˜¯å•¥ï¼Œå¬å¾—äº‘é‡Œé›¾é‡Œçš„ã€‚</p><a id="more"></a>

<hr>
<p>è¿™é—¨è¯¾çš„åˆ†æ•°æ„æˆï¼š<br>50åˆ†çš„ä¸‰æ¬¡ç¼–ç¨‹ä½œä¸šï¼Œæ¯æ¬¡ä½œä¸šæ˜¯å¯¹å·²ç»æœ‰çš„ä»£ç å¡«ç©ºã€‚<br>50åˆ†çš„è€ƒè¯•ï¼Œæœ‰ç¼–ç¨‹å¡«é¢˜ï¼Œä¹Ÿæœ‰ç®€ç­”é¢˜ã€‚</p>
<hr>
<p>ä¸‰æœ¬å‚è€ƒä¹¦ï¼š</p>
<ul>
<li>Introduction to Parallel Computing 2nd edition</li>
<li>An Introduction to Parallel Programming</li>
<li>Programming Massively Parallel Processors:<br>A Hands-on Approach 3rdd Edition</li>
</ul>
<blockquote>
<p>ä¸å‡ºæ„å¤–æ˜¯ä¸ä¼šçœ‹äº†ğŸ¤£ï¼Œä»¥åéœ€è¦å†è¯´å§ã€‚</p>
</blockquote>
<h1 id="å¹¶è¡Œè®¡ç®—çš„åŸºæœ¬èƒŒæ™¯"><a href="#å¹¶è¡Œè®¡ç®—çš„åŸºæœ¬èƒŒæ™¯" class="headerlink" title="å¹¶è¡Œè®¡ç®—çš„åŸºæœ¬èƒŒæ™¯"></a>å¹¶è¡Œè®¡ç®—çš„åŸºæœ¬èƒŒæ™¯</h1><h2 id="ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ä¸€åº¦çš„æé«˜æ€§èƒ½-è¡¨ç°ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ä¸€åº¦çš„æé«˜æ€§èƒ½-è¡¨ç°ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ä¸€åº¦çš„æé«˜æ€§èƒ½/è¡¨ç°ï¼Ÿ"></a>ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ä¸€åº¦çš„æé«˜æ€§èƒ½/è¡¨ç°ï¼Ÿ</h2><p>éšç€æ•°æ®çš„å¢é•¿å’Œè®¡ç®—çš„éœ€æ±‚(åŸºå› è®¡ç®—ï¼Œæ·±åº¦å­¦ä¹ ï¼Œå¤©æ–‡è®¡ç®—ï¼Œå¤©æ°”æ¨¡å‹ï¼Œè›‹ç™½è´¨è®¡ç®—ç­‰ç­‰)å¢åŠ ï¼Œcpuçš„æ€§èƒ½è¶Šæ¥è¶Šä¸å¤Ÿç”¨ï¼Œç®€å•çš„åŠæ³•å°±æ˜¯å¢åŠ æ ¸å¿ƒæ•°ã€‚<br>æ ¸å¿ƒæ•°å¢åŠ äº†å°±éœ€è¦è®©ç¨‹åºèƒ½å……åˆ†åˆ©ç”¨èµ·æ¥å„ä¸ªæ ¸å¿ƒï¼Œå°±åƒè€æ¿è·Ÿå‘˜å·¥æ´¾ä»»åŠ¡ä¸€æ ·ï¼Œéœ€è¦å……åˆ†æ¦¨å¹²åŠ³åŠ¨åŠ›ã€‚</p>
<h2 id="ä¸ºä»€ä¹ˆéœ€è¦æ„å»ºå¹¶è¡Œç³»ç»Ÿ"><a href="#ä¸ºä»€ä¹ˆéœ€è¦æ„å»ºå¹¶è¡Œç³»ç»Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦æ„å»ºå¹¶è¡Œç³»ç»Ÿ"></a>ä¸ºä»€ä¹ˆéœ€è¦æ„å»ºå¹¶è¡Œç³»ç»Ÿ</h2><p>èŠ¯ç‰‡çš„ç“¶é¢ˆéš¾ä»¥çªç ´ï¼Œåªæœ‰ä»ç³»ç»Ÿä¸Šé«˜æ•ˆè°ƒç”¨ã€‚<br>ç“¶é¢ˆï¼šé«˜å¯†åº¦çš„æ™¶çŠ¶ä½“-&gt; æ›´å¿«çš„èŠ¯ç‰‡-&gt;å¢åŠ è€—èƒ½-&gt;å¢åŠ å‘çƒ­-&gt;å¯¼è‡´èŠ¯ç‰‡ä¸ç¨³å®š<br>æ‰€ä»¥éœ€è¦å¤šæ ¸åˆä½œã€‚</p>
<h2 id="ä¸ºä»€ä¹ˆéœ€è¦å†™å¹¶è¡Œçš„ç¨‹åº"><a href="#ä¸ºä»€ä¹ˆéœ€è¦å†™å¹¶è¡Œçš„ç¨‹åº" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦å†™å¹¶è¡Œçš„ç¨‹åº"></a>ä¸ºä»€ä¹ˆéœ€è¦å†™å¹¶è¡Œçš„ç¨‹åº</h2><p>ç›´æ¥æ”¹å†™ä¸²è¡Œçš„ç¨‹åºå¯èƒ½ä¼šé‡åˆ°å„ç§å¤æ‚çš„é—®é¢˜ï¼Œæ•°æ®ç»“æ„ï¼Œç®—æ³•è®¾è®¡æ–¹é¢çš„ã€‚æ”¹å†™å‡ºæ¥çš„å¯èƒ½ä¾ç„¶ä¸é«˜æ•ˆã€‚</p>
<h2 id="æ€ä¹ˆå†™å¹¶è¡Œç¨‹åº"><a href="#æ€ä¹ˆå†™å¹¶è¡Œç¨‹åº" class="headerlink" title="æ€ä¹ˆå†™å¹¶è¡Œç¨‹åº"></a>æ€ä¹ˆå†™å¹¶è¡Œç¨‹åº</h2><ul>
<li>ä»»åŠ¡åˆ’åˆ†<br>ä¾‹å­ï¼šæ”¹å·æ¯äººæ”¹ä¸€é“é¢˜</li>
<li>æ•°æ®åˆ’åˆ†<br>ä¾‹å­ï¼šæ”¹å·æ¯äººæ”¹100å¼ å·</li>
</ul>
<p>éœ€è¦è§£å†³å¤šæ ¸åˆä½œçš„é—®é¢˜ï¼š</p>
<ul>
<li><p>Communication â€“ one or more cores send their current partial sums to another core. ç›¸äº’æ²Ÿé€š</p>
</li>
<li><p>Load balancing â€“ share the work evenly among the cores so that one is not heavily loaded. ä»»åŠ¡é‡å‡è¡¡</p>
</li>
<li><p>Synchronization â€“ because each core works at its own pace, make sure cores do not get too far ahead of the rest. é½å¤´å¹¶è¿›</p>
</li>
</ul>
<h2 id="concurrent-parallel-distributed"><a href="#concurrent-parallel-distributed" class="headerlink" title="concurrent,parallel,distributed"></a>concurrent,parallel,distributed</h2><p>â€¢ Concurrent computing â€“ In a program multiple tasks can be in progress at any instant. ç¨‹åºåŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡    </p>
<p>â€¢ Parallel computing â€“ In a program multiple tasks cooperate closely to solve a problem.<br>å¤šä¸ªä»»åŠ¡åä½œ</p>
<p>â€¢ Distributed computing â€“ A program may need to cooperate with other programs to solve a problem.<br>ç¨‹åºä¹‹é—´åä½œ</p>
<blockquote>
<p>æ²¡ææ‡‚è¿™é‡Œçš„taskså’Œprogramä¹‹é—´çš„åŒºåˆ«</p>
</blockquote>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ul>
<li>å¹¶è¡Œç³»ç»Ÿæ˜¯è®¡ç®—è¶‹åŠ¿</li>
<li>ä¸²è¡Œçš„ç¨‹åºä¸èƒ½ç”¨ä¸Šå¤šæ ¸</li>
<li>è¦å­¦ä¹ å¦‚ä½•è¦è°ƒç”¨å†…æ ¸</li>
<li>ä¹Ÿéœ€è¦å¯é çš„å¼€å‘æŠ€æœ¯</li>
</ul>
<h1 id="ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿ"><a href="#ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿ" class="headerlink" title="ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿ"></a>ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿ</h1><h2 id="å†¯Â·è¯ºä¼Šæ›¼æ¨¡å‹"><a href="#å†¯Â·è¯ºä¼Šæ›¼æ¨¡å‹" class="headerlink" title="å†¯Â·è¯ºä¼Šæ›¼æ¨¡å‹"></a>å†¯Â·è¯ºä¼Šæ›¼æ¨¡å‹</h2><p>[ç™¾åº¦ç™¾ç§‘]<br>å†¯Â·è¯ºä¾æ›¼å‹è®¡ç®—æœºä¸€èˆ¬å…·æœ‰ä»¥ä¸‹äº”ä¸ªåŠŸèƒ½ï¼šå¿…é¡»å…·æœ‰é•¿æœŸè®°å¿†ç¨‹åºã€æ•°æ®ã€ä¸­é—´ç»“æœåŠæœ€ç»ˆè¿ç®—ç»“æœçš„èƒ½åŠ›ï¼›èƒ½å¤Ÿå®Œæˆå„ç§ç®—æœ¯ã€é€»è¾‘è¿ç®—å’Œæ•°æ®ä¼ é€ç­‰æ•°æ®åŠ å·¥å¤„ç†çš„èƒ½åŠ›ï¼›èƒ½å¤Ÿæ ¹æ®éœ€è¦æ§åˆ¶ç¨‹åºèµ°å‘ï¼Œå¹¶èƒ½æ ¹æ®æŒ‡ä»¤æ§åˆ¶æœºå™¨çš„å„éƒ¨ä»¶åè°ƒæ“ä½œï¼›èƒ½å¤ŸæŒ‰ç…§è¦æ±‚å°†å¤„ç†ç»“æœè¾“å‡ºç»™ç”¨æˆ·ã€‚</p>
<p>å†¯Â·è¯ºä¾æ›¼å‹è®¡ç®—æœºä»æœ¬è´¨ä¸Šè®²æ˜¯é‡‡å–ä¸²è¡Œé¡ºåºå¤„ç†çš„å·¥ä½œæœºåˆ¶ï¼Œå³ä½¿æœ‰å…³æ•°æ®å·³ç»å‡†å¤‡å¥½ï¼Œä¹Ÿå¿…é¡»é€æ¡æ‰§è¡ŒæŒ‡ä»¤åºåˆ—ã€‚è€Œæé«˜è®¡ç®—æœºæ€§èƒ½çš„æ ¹æœ¬æ–¹å‘ä¹‹ä¸€æ˜¯å¹¶è¡Œå¤„ç†ã€‚å› æ­¤ï¼Œè¿‘å¹´æ¥äººä»¬è°‹æ±‚çªç ´ä¼ ç»Ÿå†¯Â·è¯ºä¾æ›¼ä½“åˆ¶çš„æŸç¼šï¼Œè¿™ç§åŠªåŠ›è¢«ç§°ä¸ºéè¯ºä¾æ›¼åŒ–ã€‚å¯¹æ‰€è°“éè¯ºä¾æ›¼åŒ–çš„æ¢è®¨ä»åœ¨äº‰è®®ä¸­ï¼Œä¸€èˆ¬è®¤ä¸ºå®ƒè¡¨ç°åœ¨ä»¥ä¸‹ä¸‰ä¸ªæ–¹é¢çš„åŠªåŠ›ã€‚<br>ã€€ã€€ï¼ˆ1ï¼‰åœ¨å†¯Â·è¯ºä¾æ›¼ä½“åˆ¶èŒƒç•´å†…ï¼Œå¯¹ä¼ ç»Ÿå†¯Â·è¯ºä¾æ›¼æœºè¿›è¡Œæ”¹é€ ï¼Œå¦‚é‡‡ç”¨å¤šä¸ªå¤„ç†éƒ¨ä»¶å½¢æˆæµæ°´å¤„ç†ï¼Œä¾é æ—¶é—´ä¸Šçš„é‡å æé«˜å¤„ç†æ•ˆç‡ï¼›åˆå¦‚ç»„æˆé˜µåˆ—æœºç»“æ„ï¼Œå½¢æˆå•æŒ‡ä»¤æµå¤šæ•°æ®æµï¼Œæé«˜å¤„ç†é€Ÿåº¦ã€‚è¿™äº›æ–¹å‘å·²æ¯”è¾ƒæˆç†Ÿï¼Œæˆä¸ºæ ‡å‡†ç»“æ„ï¼›<br>ã€€ã€€ï¼ˆ2ï¼‰ç”¨å¤šä¸ªå†¯Â·è¯ºä¾æ›¼æœºç»„æˆå¤šæœºç³»ç»Ÿï¼Œæ”¯æŒå¹¶è¡Œç®—æ³•ç»“æ„ã€‚è¿™æ–¹é¢çš„ç ”ç©¶ç›®å‰æ¯”è¾ƒæ´»è·ƒï¼›<br>ã€€ã€€ï¼ˆ3ï¼‰ä»æ ¹æœ¬ä¸Šæ”¹å˜å†¯Â·è¯ºä¾æ›¼æœºçš„æ§åˆ¶æµé©±åŠ¨æ–¹å¼ã€‚ä¾‹å¦‚ï¼Œé‡‡ç”¨æ•°æ®æµé©±åŠ¨å·¥ä½œæ–¹å¼çš„æ•°æ®æµè®¡ç®—æœºï¼Œåªè¦æ•°æ®å·²ç»å‡†å¤‡å¥½ï¼Œæœ‰å…³çš„æŒ‡ä»¤å°±å¯å¹¶è¡Œåœ°æ‰§è¡Œã€‚è¿™æ˜¯çœŸæ­£éè¯ºä¾æ›¼åŒ–çš„è®¡ç®—æœºï¼Œå®ƒä¸ºå¹¶è¡Œå¤„ç†å¼€è¾Ÿäº†æ–°çš„å‰æ™¯ï¼Œä½†ç”±äºæ§åˆ¶çš„å¤æ‚æ€§ï¼Œä»å¤„äºå®éªŒæ¢ç´¢ä¹‹ä¸­ã€‚</p>
<h2 id="Central-processing-unit-CPU"><a href="#Central-processing-unit-CPU" class="headerlink" title="Central processing unit (CPU)"></a>Central processing unit (CPU)</h2><p>â€¢ Control unit - responsible for deciding which instruction in a program should be executed. (the boss) æ§åˆ¶å•å…ƒ</p>
<p>â€¢ Arithmetic and logic unit (ALU) - responsible for executing the actual instructions. (the worker) è®¡ç®—å•å…ƒ</p>
<h2 id="å…³é”®terms"><a href="#å…³é”®terms" class="headerlink" title="å…³é”®terms"></a>å…³é”®terms</h2><p>â€¢ Register â€“ very fast storage, part of the CPU.</p>
<p>â€¢ Program counter â€“ stores address of the next instruction to be executed.</p>
<p>â€¢ Bus â€“ wires that connect the CPU and memory.</p>
<p>å†¯Â·è¯ºä¼Šæ›¼æ¨¡å‹çš„ç“¶é¢ˆåœ¨äºCPUå’Œå†…å­˜çš„åˆ†ç¦»ï¼Œcpuçš„å¯„å­˜å™¨å¤ªå°ï¼Œå¿…é¡»å’Œå†…å­˜äº¤æ¢æ•°æ®ï¼Œä½†æ˜¯äº’è”çš„é€Ÿç‡æœ‰é™ã€‚</p>
<h2 id="Locality"><a href="#Locality" class="headerlink" title="Locality"></a>Locality</h2><p>â€¢ The same or nearby locations are accessed frequently.<br>â€¢ Spatial locality â€“ accessing a nearby location.<br>â€¢ Temporal locality â€“ accessing in the near future.</p>
<h2 id="ä»cpuåˆ°cacheçš„é—®é¢˜"><a href="#ä»cpuåˆ°cacheçš„é—®é¢˜" class="headerlink" title="ä»cpuåˆ°cacheçš„é—®é¢˜"></a>ä»cpuåˆ°cacheçš„é—®é¢˜</h2><p>ç”±äºcacheåˆ†ä¸‰çº§ï¼Œå¾ˆæœ‰å¯èƒ½å†™å…¥ä¸è¿ç»­ã€‚<br>â€“ç›´å†™å¼  é€šè¿‡åœ¨å†™å…¥é«˜é€Ÿç¼“å­˜æ—¶æ›´æ–°ä¸»å†…å­˜ä¸­çš„æ•°æ®æ¥å¤„ç†æ­¤é—®é¢˜ã€‚<br>â€“å›å†™å¼ å°†ç¼“å­˜cacheä¸­çš„æ•°æ®æ ‡è®°ä¸ºè„æ•°æ®ã€‚å½“é«˜é€Ÿç¼“å­˜è¡Œç”±å†…å­˜ä¸­çš„æ–°é«˜é€Ÿç¼“å­˜è¡Œæ›¿æ¢æ—¶ï¼Œè„è¡Œå°†å†™å…¥å†…å­˜ã€‚</p>
<h2 id="ç¼“å­˜æ˜ å°„Cache-Mapping"><a href="#ç¼“å­˜æ˜ å°„Cache-Mapping" class="headerlink" title="ç¼“å­˜æ˜ å°„Cache Mapping"></a>ç¼“å­˜æ˜ å°„Cache Mapping</h2><p>â€¢ å®Œå…¨å…³è”â€“å¯ä»¥åœ¨ç¼“å­˜ä¸­çš„ä»»ä½•ä½ç½®æ”¾ç½®æ–°è¡Œã€‚<br>â€¢ ç›´æ¥æ˜ å°„â€“æ¯æ¡ç¼“å­˜è¡Œåœ¨ç¼“å­˜ä¸­éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ä½ç½®ï¼Œå°†ä¸ºå…¶åˆ†é…è¯¥ä½ç½®ã€‚<br>â€¢ nå‘é›†åˆå…³è”â€“æ¯ä¸ªé«˜é€Ÿç¼“å­˜è¡Œå¯ä»¥æ”¾ç½®åœ¨é«˜é€Ÿç¼“å­˜ä¸­nä¸ªä¸åŒä½ç½®ä¹‹ä¸€ä¸­ã€‚</p>
<h2 id="ç¼“å­˜é€å‡ºCache-Eviction"><a href="#ç¼“å­˜é€å‡ºCache-Eviction" class="headerlink" title="ç¼“å­˜é€å‡ºCache Eviction"></a>ç¼“å­˜é€å‡ºCache Eviction</h2><p>â€¢ç¼“å­˜æ¯”ä¸»å†…å­˜å°å¾—å¤šã€‚<br>â€¢å½“ç¼“å­˜å·²æ»¡æ—¶ï¼Œéœ€è¦åœ¨å†…å­˜ä¸­æ·»åŠ æ–°è¡Œä»¥æ›¿æ¢æˆ–é€å‡ºç¼“å­˜ä¸­çš„è¡Œã€‚<br>â€¢å¸¸è§çš„ç¼“å­˜é€å‡ºç­–ç•¥åŒ…æ‹¬LRU / MRUï¼ˆæœ€è¿‘æœ€å°‘ä½¿ç”¨/æœ€è¿‘ä½¿ç”¨ï¼‰å’ŒLFUï¼ˆæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼‰ã€‚</p>
<h2 id="è™šæ‹Ÿå†…å­˜"><a href="#è™šæ‹Ÿå†…å­˜" class="headerlink" title="è™šæ‹Ÿå†…å­˜"></a>è™šæ‹Ÿå†…å­˜</h2><p>â€¢å¦‚æœæˆ‘ä»¬è¿è¡Œéå¸¸å¤§çš„ç¨‹åºæˆ–è®¿é—®<strong>éå¸¸å¤§</strong>çš„æ•°æ®é›†çš„ç¨‹åºï¼Œåˆ™æ‰€æœ‰æŒ‡ä»¤å’Œæ•°æ®å¯èƒ½æ— æ³•æ”¾å…¥ä¸»å­˜å‚¨å™¨ã€‚<br>â€¢è™šæ‹Ÿå†…å­˜ç”¨ä½œ<strong>è¾…åŠ©å­˜å‚¨çš„ç¼“å­˜</strong>ã€‚<br>â€¢å®ƒåˆ©ç”¨<strong>æ—¶ç©ºå±€éƒ¨æ€§</strong>åŸç†ã€‚<br>â€¢å®ƒä»…å°†æ­£åœ¨è¿è¡Œçš„ç¨‹åºçš„æ´»åŠ¨éƒ¨åˆ†ä¿ç•™åœ¨ä¸»å­˜å‚¨å™¨ä¸­ã€‚<br>â€¢<strong>äº¤æ¢ç©ºé—´Swap space</strong>â€“è¾…åŠ©å­˜å‚¨åŒºï¼Œç”¨äºä¿æŒéæ´»åŠ¨ï¼ˆéƒ¨åˆ†ï¼‰æ­£åœ¨è¿è¡Œçš„ç¨‹åºã€‚<br>â€¢<strong>è™šæ‹Ÿçš„é¡µpage</strong>â€“æ•°æ®å’ŒæŒ‡ä»¤å—ã€‚å¤§å¤šæ•°ç³»ç»Ÿå…·æœ‰å›ºå®šçš„é¡µé¢å¤§å°ï¼Œå½“å‰èŒƒå›´ä¸º4åˆ°16 KBã€‚<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200226170253.png"></p>
<h2 id="è™šæ‹Ÿé¡µç "><a href="#è™šæ‹Ÿé¡µç " class="headerlink" title="è™šæ‹Ÿé¡µç "></a>è™šæ‹Ÿé¡µç </h2><p>â€¢ç¼–è¯‘ç¨‹åºæ—¶ï¼Œå…¶é¡µé¢ä¸ºåˆ†é…çš„è™šæ‹Ÿé¡µç ã€‚<br>â€¢è¿è¡Œç¨‹åºæ—¶ï¼Œå°†åˆ›å»ºä¸€ä¸ªè¡¨ï¼Œè¯¥è¡¨å°†è™šæ‹Ÿé¡µç æ˜ å°„åˆ°ç‰©ç†åœ°å€ã€‚<br>â€¢é¡µè¡¨ç”¨äºå°†è™šæ‹Ÿåœ°å€è½¬æ¢ä¸ºç‰©ç†åœ°å€ã€‚</p>
<h2 id="è½¬æ¢åå¤‡ç¼“å†²å™¨ï¼ˆTranslation-lookaside-buffer-TLBï¼‰"><a href="#è½¬æ¢åå¤‡ç¼“å†²å™¨ï¼ˆTranslation-lookaside-buffer-TLBï¼‰" class="headerlink" title="è½¬æ¢åå¤‡ç¼“å†²å™¨ï¼ˆTranslation-lookaside buffer TLBï¼‰"></a>è½¬æ¢åå¤‡ç¼“å†²å™¨ï¼ˆTranslation-lookaside buffer TLBï¼‰</h2><p>â€¢ä½¿ç”¨é¡µè¡¨æœ‰å¯èƒ½æ˜¾ç€å¢åŠ æ¯ä¸ªç¨‹åºçš„æ•´ä½“è¿è¡Œæ—¶é—´ã€‚<br>â€¢TLBæ˜¯å¤„ç†å™¨ä¸­çš„ç‰¹æ®Šåœ°å€è½¬æ¢ç¼“å­˜ã€‚<br>â€¢å®ƒåœ¨éå¸¸<strong>å¿«çš„å†…å­˜ä¸­ä»é¡µè¡¨ä¸­ç¼“å­˜äº†å°‘é‡æ¡ç›®</strong>ï¼ˆé€šå¸¸ä¸º16â€“512ï¼‰ã€‚<br>â€¢é¡µé¢é”™è¯¯â€“å°è¯•è®¿é—®é¡µé¢è¡¨ä¸­é¡µé¢çš„æœ‰æ•ˆç‰©ç†åœ°å€ï¼Œä½†è¯¥é¡µé¢ä»…å­˜å‚¨åœ¨ç£ç›˜ä¸Šã€‚</p>
<h2 id="æŒ‡ä»¤çº§å¹¶è¡Œï¼ˆInstruction-Level-Parallelism-ILPï¼‰"><a href="#æŒ‡ä»¤çº§å¹¶è¡Œï¼ˆInstruction-Level-Parallelism-ILPï¼‰" class="headerlink" title="æŒ‡ä»¤çº§å¹¶è¡Œï¼ˆInstruction Level Parallelism ILPï¼‰"></a>æŒ‡ä»¤çº§å¹¶è¡Œï¼ˆInstruction Level Parallelism ILPï¼‰</h2><p>â€¢è¯•å›¾é€šè¿‡ä½¿å¤šä¸ªå¤„ç†å™¨ç»„ä»¶æˆ–åŠŸèƒ½å•å…ƒåŒæ—¶æ‰§è¡ŒæŒ‡ä»¤æ¥æé«˜å¤„ç†å™¨æ€§èƒ½ã€‚<br>â€¢æµæ°´çº¿Pipelining-åŠŸèƒ½å•å…ƒæ˜¯åˆ†é˜¶æ®µå®‰æ’çš„ã€‚<br>â€¢å¤šä¸ªé—®é¢˜-å¯ä»¥åŒæ—¶å¯åŠ¨å¤šä¸ªæŒ‡ä»¤ã€‚</p>
<h2 id="ç¡¬ä»¶å¤šçº¿ç¨‹Hardware-multithreading"><a href="#ç¡¬ä»¶å¤šçº¿ç¨‹Hardware-multithreading" class="headerlink" title="ç¡¬ä»¶å¤šçº¿ç¨‹Hardware multithreading"></a>ç¡¬ä»¶å¤šçº¿ç¨‹Hardware multithreading</h2><p>â€¢å¹¶éæ€»æ˜¯æœ‰æœºä¼šåŒæ—¶æ‰§è¡Œä¸åŒçš„çº¿ç¨‹ã€‚<br>â€¢ç¡¬ä»¶å¤šçº¿ç¨‹ä¸ºç³»ç»Ÿæä¾›äº†ä¸€ç§åœ¨å½“å‰æ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡åœæ»åç»§ç»­è¿›è¡Œæœ‰ç”¨å·¥ä½œçš„æ–¹æ³•ã€‚<br>â€“ ä¾‹å¦‚ï¼Œå½“å‰ä»»åŠ¡å¿…é¡»ç­‰å¾…ä»å†…å­˜åŠ è½½æ•°æ®ã€‚<br>â€¢ç»†ç²’åº¦-å¤„ç†å™¨åœ¨æ¯æ¡æŒ‡ä»¤ååœ¨çº¿ç¨‹ä¹‹é—´åˆ‡æ¢ï¼Œè·³è¿‡åœæ»çš„çº¿ç¨‹ã€‚<br>â€“ä¼˜ç‚¹ï¼šå¯ä»¥é¿å…å› åœè½¬è€Œæµªè´¹æœºå™¨æ—¶é—´ã€‚<br>â€“ç¼ºç‚¹ï¼šå‡†å¤‡å¥½æ‰§è¡Œé•¿æŒ‡ä»¤åºåˆ—çš„çº¿ç¨‹å¯èƒ½å¿…é¡»ç­‰å¾…æ‰§è¡Œæ¯æ¡æŒ‡ä»¤ã€‚<br>â€¢ç²—ç²’åº¦-ä»…åˆ‡æ¢ç­‰å¾…è€—æ—¶çš„æ“ä½œå®Œæˆè€Œåœæ­¢çš„çº¿ç¨‹ã€‚<br>â€“ä¼˜ç‚¹ï¼šåˆ‡æ¢çº¿ç¨‹å‡ ä¹ä¸éœ€è¦å³æ—¶ã€‚<br>â€“ç¼ºç‚¹ï¼šå¤„ç†å™¨å¯ä»¥åœ¨è¾ƒçŸ­çš„åœé¡¿æ—¶é—´å†…ç©ºé—²ï¼Œå¹¶ä¸”çº¿ç¨‹åˆ‡æ¢ä¹Ÿå°†å¯¼è‡´å»¶è¿Ÿã€‚<br>â€¢åŒæ­¥å¤šçº¿ç¨‹ï¼ˆSMTï¼‰-ç»†ç²’åº¦å¤šçº¿ç¨‹çš„å˜ä½“ã€‚<br>â€¢å…è®¸å¤šä¸ªçº¿ç¨‹ä½¿ç”¨å¤šä¸ªåŠŸèƒ½å•å…ƒã€‚</p>
]]></content>
      <categories>
        <category>MSBD5009</category>
      </categories>
      <tags>
        <tag>å¹¶è¡Œè®¡ç®—</tag>
      </tags>
  </entry>
  <entry>
    <title>CSIT5500-1 ç®—æ³•åŸºç¡€</title>
    <url>/2020/CSIT5500-1-%E6%8E%92%E5%BA%8F/</url>
    <content><![CDATA[<p>è¿™æ˜¯å­¦æ ¡csit5500çš„ä¸€é—¨è¯¾ï¼Œå¬ç€åå­—å°±çŸ¥é“å¾ˆç»å…¸ã€‚ç¬¬ä¸€èŠ‚è¯¾ä¸»è¦æ˜¯ç®—æ³•è¯„ä¼°ï¼Œæ’åºï¼Œæœç´¢æ ‘ï¼Œçº¢é»‘æ ‘</p><h1 id="ç®—æ³•è¯„ä¼°"><a href="#ç®—æ³•è¯„ä¼°" class="headerlink" title="ç®—æ³•è¯„ä¼°"></a>ç®—æ³•è¯„ä¼°</h1><p>è¿™ä¸€èŠ‚å°±è§£é‡Šï¼Œä¸ºä»€ä¹ˆç”¨O(n)æ¥è¡¨ç¤ºç®—æ³•çš„å¤æ‚åº¦ã€‚</p><ul>
<li>ä¸èƒ½ç®€å•ç”¨cpuçš„æ—¶é—´ï¼Œå› ä¸ºä¸å›ºå®š</li>
<li>ä¸åŒçº§æ•°ä¹‹é—´å·®å¼‚å¤§ï¼ŒåŒä¸€ä¸ªçº§æ•°å†…å·®å¼‚ä¸å¤§</li>
</ul><a id="more"></a>


<p>å…¶ä»–çš„ç‚¹ï¼š</p>
<ul>
<li>æ¯”å¤æ‚åº¦çš„æ—¶å€™ï¼Œåªçœ‹æœ€é«˜é˜¶ï¼›</li>
<li>å¯¹æ•°çš„çº§æ•°éƒ½æ˜¯ä¸€æ ·çš„ï¼›loga n = logb n/(logb a)</li>
</ul>
<p>ç®—æ³•éœ€è¦æœ€å·®è¯„ä¼°å¤æ‚åº¦ï¼Œä¸€èˆ¬ä¸ç”¨è¯æ˜ï¼Œä¸¾ä¾‹å°±è¡Œã€‚</p>
<p>egï¼šWorst-Case Analysis of Binary Search<br>äºŒåˆ†æœç´¢æœ€å·®çš„æƒ…å†µå°±æ˜¯ä¸€ç›´æ’é™¤åˆ°æœ€åä¸€åŠåªæœ‰ä¸€ä¸ªå…ƒç´ çš„æ—¶å€™ã€‚<br>å¤æ‚åº¦å¦‚ä¸‹ï¼š</p>
<script type="math/tex; mode=display">
\begin{aligned} T(n) & \leq T(n / 2)+O(1) \\ & \leq T(n / 4)+O(1)+O(1) \\ & \leq T\left(n / 2^{k}\right)+k \cdot O(1) \end{aligned}</script><p>kå¯ä»¥äººä¸ºæŒ‡å®šæˆlog2(n)</p>
<script type="math/tex; mode=display">
\begin{aligned} T(n) & \leq T(1)+\log _{2} n \cdot O(1) \\ &=O(1)+O(\log n) \\ &=O(\log n) \end{aligned}</script><h1 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h1><p>åˆåˆ°äº†ç»å…¸çš„æ’åºç¯èŠ‚ï¼Œç›´æ¥å¼•ç”¨æˆ‘è§‰å¾—å†™å¾—æœ€å®Œæ•´çš„ä¸¤ä¸ªåšæ–‡<a href="https://www.cnblogs.com/onepixel/articles/7674659.html" target="_blank" rel="noopener">åå¤§æ’åºåŠ¨å›¾æ¼”ç¤º</a><br><a href="https://leetcode.com/problems/sort-an-array/discuss/276916/Python-bubble-insertion-selection-quick-merge-heap-objects" target="_blank" rel="noopener">pythonåå¤§æ’åº</a> </p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200225022848.png"></p>
<p>è¯¾ä¸Šè·³è¿‡äº†æœ€ç®€å•çš„ä¸»è¦è®²äº†O(nlogn)çš„ä¸‰ä¸ªï¼Œå¹¶å½’ï¼Œå¿«é€Ÿï¼Œå †ã€‚</p>
<h2 id="å¹¶å½’merge"><a href="#å¹¶å½’merge" class="headerlink" title="å¹¶å½’merge"></a>å¹¶å½’merge</h2><p>ç®€å•çš„dcæ€è·¯ï¼Œå…ˆå¯¹æ•°ç»„åˆ†æˆä¸¤åŠï¼Œå·¦å³å„è‡ªæ’åºï¼Œç„¶åç”¨ä¸¤ä¸ªæŒ‡é’ˆåŒæ—¶æ‰«ä¸€éï¼Œåˆèµ·æ¥ã€‚<br>è¿™ä¸ªè¿‡ç¨‹é€’å½’åˆ°ï¼Œä¸¤åŠåªæœ‰ä¸€ä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œå°±å¯ä»¥äº†ã€‚</p>
<ul>
<li>æœ€åæƒ…å†µå¤æ‚åº¦<br>å¹¶å½’æœ‰ä¸¤ä¸ªè¿‡ç¨‹ï¼Œç¬¬ä¸€ï¼Œéå†æ•°ç»„ï¼Œç»Ÿè®¡é•¿åº¦ï¼Œå¤æ‚åº¦O(N).<br>ç¬¬äºŒï¼Œmerge.<br>æœ€å¥½æƒ…å†µæ˜¯ï¼Œå·¦ï¼š12345 å³ï¼š6789ï¼Œè¿™æ ·å¤æ‚åº¦æ˜¯O(N/2)=O(N).<br>æœ€å·®æƒ…å†µæ˜¯ï¼Œå·¦ï¼š13579 å³ï¼š2468ï¼Œè¿™æ ·å¤æ‚åº¦ä¹Ÿæ˜¯O(N).<br>æ‰€ä»¥ï¼Œä¸¤ä¸ªè¿‡ç¨‹åŠ èµ·æ¥ä¹Ÿæ˜¯O(N)ã€‚</li>
</ul>
<p>ç„¶åè¿›å…¥åˆ°é€’å½’çš„è¿‡ç¨‹ï¼šä¸äºŒåˆ†æœç´¢ç›¸ä¼¼</p>
<script type="math/tex; mode=display">
\begin{aligned} T(n) & \leq 2 T(n / 2)+O(n) \\ & \leq 2(2 T(n / 4)+O(n / 2))+O(n) \\ & \leq 4 T(n / 4)+O(n)+O(n) \\ & \leq 2^{k} T\left(n / 2^{k}\right)+k \cdot O(n) \end{aligned}</script><p>ç›´æ¥å–k=log2n</p>
<script type="math/tex; mode=display">
\begin{aligned} T(n) & \leq 2^{\log _{2} n} T(1)+\log _{2} n \cdot O(n) \\ & \leq O(n)+O(n \log n) \\ & \leq O(n \log n) \end{aligned}</script><p>æ‰€ä»¥æœ€åæƒ…å†µä¹Ÿæ˜¯è¿™ä¸ªï¼Œå¹¶å½’æ’åºå¤æ‚åº¦æ˜¯ç¨³å®šçš„ã€‚<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">MergeSort</span><span class="params">(lists)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> len(lists)&lt;<span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> lists</span><br><span class="line">    mid = int(len(lists)/<span class="number">2</span>)</span><br><span class="line">    print(mid)</span><br><span class="line">    left = MergeSort(lists[:mid])</span><br><span class="line">    print(left)</span><br><span class="line">    right = MergeSort(lists[mid:])</span><br><span class="line">    l = r =<span class="number">0</span></span><br><span class="line">    res = []</span><br><span class="line">    <span class="keyword">while</span> l &lt; len(left) <span class="keyword">and</span> r &lt; len(right):</span><br><span class="line">        <span class="keyword">if</span> left[l] &lt; right[r]:</span><br><span class="line">            res.append(left[l])</span><br><span class="line">            l+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            res.append(right[r])</span><br><span class="line">            r+=<span class="number">1</span></span><br><span class="line">    res +=left[l:]</span><br><span class="line">    res +=right[r:]</span><br><span class="line">    <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure></p>
<h2 id="å¿«é€Ÿ"><a href="#å¿«é€Ÿ" class="headerlink" title="å¿«é€Ÿ"></a>å¿«é€Ÿ</h2><p>å¿«æ’çš„æ€è·¯æ˜¯ä»»é€‰ä¸€ä¸ªå…ƒç´ ï¼Œç„¶åæŠŠæ•°ç»„åˆ†æˆä¸¤åŠï¼Œå†åˆ†åˆ«å¯¹ä¸¤åŠè¿›è¡Œè¿™ä¸ªè¿‡ç¨‹ã€‚ä¹Ÿæ˜¯dcçš„æ€è·¯ã€‚</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">	<span class="comment"># @quickSort</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">quickSort</span><span class="params">(array)</span>:</span></span><br><span class="line">	<span class="keyword">if</span> len(array) &lt; <span class="number">2</span>:  <span class="comment"># åŸºçº¿æ¡ä»¶ï¼ˆåœæ­¢é€’å½’çš„æ¡ä»¶ï¼‰</span></span><br><span class="line">		<span class="keyword">return</span> array</span><br><span class="line">	<span class="keyword">else</span>:  <span class="comment"># é€’å½’æ¡ä»¶</span></span><br><span class="line">		baseValue = array[<span class="number">0</span>]  <span class="comment"># é€‰æ‹©åŸºå‡†# ç”±æ‰€æœ‰å°äºåŸºå‡†å€¼çš„å…ƒç´ ç»„æˆçš„å­æ•°ç»„</span></span><br><span class="line">		less = [m <span class="keyword">for</span> m <span class="keyword">in</span> array[<span class="number">1</span>:] <span class="keyword">if</span> m &lt; baseValue]<span class="comment"># åŒ…æ‹¬åŸºå‡†åœ¨å†…çš„åŒæ—¶å’ŒåŸºå‡†ç›¸ç­‰çš„å…ƒç´ ï¼Œåœ¨ä¸Šä¸€ä¸ªç‰ˆæœ¬çš„ç™¾ç§‘å½“ä¸­ï¼Œå¹¶æ²¡æœ‰è€ƒè™‘ç›¸ç­‰å…ƒç´ </span></span><br><span class="line">		equal = [w <span class="keyword">for</span> w <span class="keyword">in</span> array <span class="keyword">if</span> w ==baseValue]<span class="comment"># ç”±æ‰€æœ‰å¤§äºåŸºå‡†å€¼çš„å…ƒç´ ç»„æˆçš„å­æ•°ç»„</span></span><br><span class="line">		greater = [n <span class="keyword">for</span> n <span class="keyword">in</span> array[<span class="number">1</span>:] <span class="keyword">if</span> n &gt; baseValue]</span><br><span class="line">	<span class="keyword">return</span> quickSort(less) + equal + quickSort(greater)</span><br></pre></td></tr></table></figure>
<h1 id="å¿«é€Ÿæ’åºvså †æ’åº"><a href="#å¿«é€Ÿæ’åºvså †æ’åº" class="headerlink" title="å¿«é€Ÿæ’åºvså †æ’åº"></a>å¿«é€Ÿæ’åºvså †æ’åº</h1><p>æˆ‘ä»¬è®¨è®ºçš„æ’åºéƒ½æ˜¯åŸºäºæ¯”è¾ƒçš„ï¼Œä¸åŸºäºæ¯”è¾ƒçš„æ’åºï¼šè®¡æ•°æ’åº(O(n)ï¼Œå†…å­˜å¤Ÿç”¨çš„æƒ…å†µä¸‹)ï¼ŒåŸºæ•°æ’åºï¼ˆO(m*n)ï¼‰ï¼Œæ¡¶æ’åº(O(n)ï¼Œè¾“å…¥æ•°æ®åˆ†å¸ƒå‡åŒ€çš„æƒ…å†µä¸‹)</p>
<p>å¤§æ•°æ’åºä¸­ï¼Œå¿«æ’æ¯”å †æ’åºå¥½ã€‚</p>
<ol>
<li>å †æ’åºéœ€è¦ç”¨æ•°ç»„ä¸‹æ ‡æ¥å›è®¿é—®å…ƒç´ ï¼Œå¯¹ç¼“å­˜ä¸å‹å¥½ï¼Œä½†æ˜¯å¿«é€Ÿæ’åºæ˜¯é¡ºåºè®¿é—®ï¼Œå°±å¯ä»¥é¡ºç€cpuçš„ç¼“å­˜è¿›è¡Œéå†(å†…å­˜è®¿é—®ï¼ˆè·³è·ƒå¼è¿˜æ˜¯è¿ç»­æ–¹å¼ï¼‰)</li>
<li>å †æ’åºåšæ•°æ®çš„äº¤æ¢è¦æ¯”å¿«é€Ÿæ’åºäº¤æ¢çš„æ¬¡æ•°å¤šï¼Œå› ä¸ºåœ¨å»ºå †çš„è¿‡ç¨‹ï¼Œæ•°æ®è¢«æ‰“ä¹±. æ‰€ä»¥ï¼Œè™½ç„¶éƒ½æ˜¯o(nlogn)ä½†æ˜¯å †æ’åºå‰é¢çš„å¸¸æ•°é¡¹æ˜¯ä¸€èˆ¬å¤§äºå¿«é€Ÿæ’åºçš„</li>
</ol>
<p>æ’åºçš„ä¸Šé™ä¸ºä»€ä¹ˆæ˜¯o(nlogn)ï¼Ÿ<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200311232711.png?x-oss-process=image/auto-orient,1/quality,q_90/format,jpg"></p>
<h1 id="å †"><a href="#å †" class="headerlink" title="å †"></a>å †</h1><p>å †æ’åºå°±é«˜ç«¯ä¸€ç‚¹ï¼Œç”¨äº†æ ¹å †(heap)çš„ç»“æ„ã€‚<br>å·§å¦™çš„æ˜¯ï¼Œé€šè¿‡åˆ©ç”¨å®Œå…¨äºŒå‰æ ‘çš„ç»“æ„ï¼Œé€šè¿‡æ•°ç»„çš„ä½ç½®ï¼Œå°±å®ç°äº†è¿™ä¸ªæ ¹å †çš„è¿‡ç¨‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def heapSort(nums):</span><br><span class="line">    def heapify(nums,n,i):</span><br><span class="line">        large = i</span><br><span class="line">        left = 2*i+1</span><br><span class="line">        right = 2*i+2</span><br><span class="line">        if left&lt;n and nums[left]&gt;nums[large]: large = left</span><br><span class="line">        if right&lt;n and nums[right]&gt;nums[large]: large = right</span><br><span class="line">        if large!=i:</span><br><span class="line">            nums[i],nums[large]=nums[large],nums[i]</span><br><span class="line">            heapify(nums,n,large)</span><br><span class="line">            </span><br><span class="line">    n = len(nums)</span><br><span class="line">    for i in range(n/2,-1,-1):</span><br><span class="line">        print(i)</span><br><span class="line">        heapify(nums,n,i)</span><br><span class="line">    for i in range(n-1,-1,-1):</span><br><span class="line">        print(i)</span><br><span class="line">        nums[i], nums[0] = nums[0], nums[i]</span><br><span class="line">        heapify(nums, i, 0)</span><br><span class="line">    return nums</span><br></pre></td></tr></table></figure>
<h2 id="å¤ä¹ æ ‘ğŸŒ²çš„çŸ¥è¯†ï¼š"><a href="#å¤ä¹ æ ‘ğŸŒ²çš„çŸ¥è¯†ï¼š" class="headerlink" title="å¤ä¹ æ ‘ğŸŒ²çš„çŸ¥è¯†ï¼š"></a>å¤ä¹ æ ‘ğŸŒ²çš„çŸ¥è¯†ï¼š</h2><ul>
<li>äºŒå‰æ ‘ï¼šæ¯ä¸€ä¸ªèŠ‚ç‚¹æœ€å¤šä¸¤ä¸ªå­©å­</li>
<li>æ»¡äºŒå‰æ ‘Full binary treeï¼šæ¯ä¸ªå­èŠ‚ç‚¹éƒ½æœ‰ä¸¤ä¸ªå…ƒç´ </li>
<li>å®Œç¾äºŒå‰æ ‘Perfect binary treeï¼šæ¯ä¸€å±‚éƒ½å¡«æ»¡äº†</li>
<li>å®Œå…¨äºŒå‰æ ‘Complete binary treeï¼šé™¤äº†æœ€åä¸€å±‚å…¶ä»–æ¯ä¸€å±‚éƒ½æ˜¯å®Œå…¨å¡«æ»¡çš„ï¼Œè€Œæœ€åä¸€å±‚ä»å·¦å¾€å³ä¾æ¬¡æ’åˆ—</li>
</ul>
<h2 id="å †æ’åºçš„è¿‡ç¨‹"><a href="#å †æ’åºçš„è¿‡ç¨‹" class="headerlink" title="å †æ’åºçš„è¿‡ç¨‹"></a>å †æ’åºçš„è¿‡ç¨‹</h2><ul>
<li>def: å°(å¤§)æ ¹å †ï¼šå®Œå…¨äºŒå‰æ ‘ + æ¯ä¸ªèŠ‚ç‚¹å°äº(å¤§äº)ä»–çš„å­èŠ‚ç‚¹ã€‚<blockquote>
<p>å…ˆæŠŠæ•°ç»„æ„é€ æˆæœ€å°æ ¹å †(æœ€å¤§æˆ–è€…æœ€å°éƒ½è¡Œ)<br>while æ ¹å †è¿˜æœ‰å…ƒç´ :<br>â€”â€”-å¼¹å‡ºé¡¶éƒ¨æœ€å¤§å€¼<br>â€”â€”-é‡æ–°æ„é€ æœ€å°æ ¹å †</p>
</blockquote>
</li>
</ul>
<p>æ‰€ä»¥å †æ’åºçš„è¿‡ç¨‹ä¸»è¦æ˜¯æ„é€ (åˆå§‹åŒ–)æ ¹å †ï¼Œå’Œå¼¹å‡ºæœ€å°å€¼ä¹‹åå†æ„å»ºæ ¹å †(é‡æ–°ç»´æŒç¨³å®š)æ ¹å †ã€‚åˆå§‹åŒ–ç­‰äºä¸€ä¸ªä¸€ä¸ªå…ƒç´ æ’å…¥ï¼Œé‡æ–°ç»´æŒç›¸å½“äºä»å †ä¸­åˆ é™¤å…ƒç´ ã€‚<br>æ‰€ä»¥ï¼Œä¸»è¦æ˜¯ä¸¤ä¸ªæ­¥éª¤ï¼šæ’å…¥å’Œåˆ é™¤ã€‚</p>
<h3 id="æ’å…¥èŠ‚ç‚¹ï¼š"><a href="#æ’å…¥èŠ‚ç‚¹ï¼š" class="headerlink" title="æ’å…¥èŠ‚ç‚¹ï¼š"></a>æ’å…¥èŠ‚ç‚¹ï¼š</h3><blockquote>
<p>æ’å…¥åˆ°å®Œå…¨äºŒå‰æ ‘çš„æœ€å<br>å¦‚æœæœ‰çˆ¶èŠ‚ç‚¹&amp;&amp;çˆ¶èŠ‚ç‚¹æ¯”è‡ªå·±å°ï¼š<br>â€”â€”-ä¸¤ä¸ªèŠ‚ç‚¹äº¤æ¢ä½ç½®</p>
</blockquote>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200226151338.png"><br>ç§»åŠ¨æ¬¡æ•°=å±‚æ•° æ‰€ä»¥æ’å…¥çš„æ—¶é—´å¤æ‚åº¦O(log n)</p>
<h3 id="åˆ é™¤èŠ‚ç‚¹ï¼š"><a href="#åˆ é™¤èŠ‚ç‚¹ï¼š" class="headerlink" title="åˆ é™¤èŠ‚ç‚¹ï¼š"></a>åˆ é™¤èŠ‚ç‚¹ï¼š</h3><blockquote>
<p>åˆ é™¤æ ¹èŠ‚ç‚¹ï¼Œè®©æœ«å°¾æœ€å¤§çš„å€¼æˆä¸ºæ–°çš„æ ¹èŠ‚ç‚¹<br>å¦‚æœæœ‰å­èŠ‚ç‚¹&amp;&amp;å­èŠ‚ç‚¹æ¯”è‡ªå·±å°ï¼š<br>â€”â€”-é€‰æ‹©å­èŠ‚ç‚¹ä¸­å°çš„é‚£ä¸ªï¼Œä¸¤ä¸ªèŠ‚ç‚¹äº¤æ¢ä½ç½®</p>
</blockquote>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200226151835.png"></p>
<p>ç§»åŠ¨æ¬¡æ•°=å±‚æ•° æ‰€ä»¥åˆ é™¤çš„æ—¶é—´å¤æ‚åº¦O(log n)</p>
<h3 id="å®Œå…¨äºŒå‰æ ‘å’Œæ•°å€¼çš„ç´¢å¼•å¯¹åº”å…³ç³»"><a href="#å®Œå…¨äºŒå‰æ ‘å’Œæ•°å€¼çš„ç´¢å¼•å¯¹åº”å…³ç³»" class="headerlink" title="å®Œå…¨äºŒå‰æ ‘å’Œæ•°å€¼çš„ç´¢å¼•å¯¹åº”å…³ç³»"></a>å®Œå…¨äºŒå‰æ ‘å’Œæ•°å€¼çš„ç´¢å¼•å¯¹åº”å…³ç³»</h3><p>çˆ¶èŠ‚ç‚¹ i æ‰¾å­èŠ‚ç‚¹ï¼š2i+1 , 2i+2<br>å­èŠ‚ç‚¹æ‰¾çˆ¶èŠ‚ç‚¹ï¼š [(i-1)/2]   å‘ä¸‹å–æ•´</p>
<h1 id="äºŒå‰æœç´¢æ ‘-BSTåšå®¢"><a href="#äºŒå‰æœç´¢æ ‘-BSTåšå®¢" class="headerlink" title="äºŒå‰æœç´¢æ ‘ BSTåšå®¢"></a>äºŒå‰æœç´¢æ ‘ <a href="https://blog.csdn.net/csdn0123zl/article/details/81253648" target="_blank" rel="noopener">BSTåšå®¢</a></h1><ul>
<li>Def: ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°äºå³å­èŠ‚ç‚¹ï¼Œå¤§äºå·¦å­èŠ‚ç‚¹<br>æ¡ä»¶ä¸å¤Ÿè‹›åˆ»ï¼ŒäºŒå‰æœç´¢æ ‘ä¸å”¯ä¸€ã€‚</li>
</ul>
<h2 id="èŠ‚ç‚¹çš„åç»§ï¼š"><a href="#èŠ‚ç‚¹çš„åç»§ï¼š" class="headerlink" title="èŠ‚ç‚¹çš„åç»§ï¼š"></a>èŠ‚ç‚¹çš„åç»§ï¼š</h2><p>å¤§äºè¿™ä¸ªèŠ‚ç‚¹çš„æœ€å°çš„å€¼ã€‚<br>åˆ†ä¸¤ç§æƒ…å†µï¼Œå¦‚æœè¿™ä¸ªèŠ‚ç‚¹xæœ‰å³å­æ ‘ï¼Œé‚£ä¹ˆè¿™ä¸ªç»§æ‰¿è€…å°±æ˜¯å³å­æ ‘çš„æœ€å°å€¼ã€‚<br>å¦‚æœæ²¡æœ‰å³å­æ ‘ï¼Œé‚£ä¹ˆå°±æ˜¯è¿™ä¸ªèŠ‚ç‚¹ä¸€ç›´å¾€ä¸Šï¼Œç¬¬ä¸€ä¸ªå‘å³èµ°çš„çˆ¶èŠ‚ç‚¹ã€‚<br>å¦‚å›¾ã€‚<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200226160114.png"><br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200226160138.png"></p>
<h2 id="æ’å…¥"><a href="#æ’å…¥" class="headerlink" title="æ’å…¥"></a>æ’å…¥</h2><p>æ’å…¥å¾ˆç®€å•ï¼Œå°±å’ŒæŸ¥æ‰¾ä¸€æ ·ï¼Œæ‰¾åˆ°ä¸€ä¸ªä½ç½®å¡è¿›å»å°±å¥½äº†ã€‚<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200226160354.png"></p>
<h2 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h2><p>åˆ é™¤åˆ†æƒ…å†µ</p>
<ol>
<li>å¦‚æœ0ä¸ªå­©å­ï¼Œç›´æ¥åˆ </li>
<li>å¦‚æœ1ä¸ªå­©å­ï¼Œç”¨å­©å­ä»£æ›¿è¿™ä¸ªä½ç½®</li>
<li>å¦‚æœ2ä¸ªå­©å­ï¼Œåˆ é™¤å­©å­çš„åç»§ï¼Œç”¨åç»§è¡¥å……è¿™ä¸ªä½ç½®</li>
</ol>
]]></content>
      <categories>
        <category>CSIT5500</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>QéŸ³ç®—æ³•å®ä¹ å¤ç›˜</title>
    <url>/2020/Q%E9%9F%B3%E7%AE%97%E6%B3%95%E5%AE%9E%E4%B9%A0%E5%A4%8D%E7%9B%98/</url>
    <content><![CDATA[<p>åœ¨11æœˆåº•é¢è¯•é€šè¿‡ï¼ˆé¢è¯•å‚è€ƒä¹‹å‰çš„<a href="https://leeee.top/2019/%E5%87%86%E5%A4%87Q%E9%9F%B3%E6%8E%A8%E8%8D%90%E7%9A%84%E7%AC%94%E8%AE%B0/">å‡†å¤‡QéŸ³æ¨èå®ä¹ é¢è¯•çš„ç¬”è®°</a>ï¼‰ï¼Œå¼€å§‹åˆ°è…¾è®¯éŸ³ä¹æ¨èç»„å®ä¹ ï¼Œåˆ°ä¸Šå‘¨ç¦»èŒï¼Œæ€»å…±å†æ—¶2ä¸ªæœˆ3å‘¨ï¼Œæ’é™¤è¿‡å¹´æ”¾å‡çš„ä¸¤å‘¨ï¼Œå·¥ä½œ9å‘¨ï¼Œ50å¤©å·¦å³ã€‚å¯¹äºæˆ‘æ¥è¯´ï¼Œè¿™æ˜¯ç¬¬ä¸€æ¬¡æŠ€æœ¯å²—çš„å®ä¹ ï¼Œè™½ç„¶å¤§äºŒçš„æ—¶å€™å»YYä¹Ÿåšè¿‡æŠ€æœ¯å²—ï¼Œä¸è¿‡é‚£ä¸ªæ—¶å€™å°±æ˜¯å†™SQLï¼Œè€Œä¸”ä¹Ÿå†™å¾—ä¸å¥½ğŸ˜‚ï¼Œç®—ä¸ä¸ŠæŠ€æœ¯å²—ã€‚</p><a id="more"></a>
<p>å®ä¹ ç»“æŸæ•´ä½“æ„Ÿå—è‰¯å¥½ï¼Œæ„Ÿå—åˆ°äº†è‡ªå·±çš„æŠ€æœ¯è–„å¼±ï¼Œç†Ÿæ‚‰äº†æ¨èçš„ç›¸å…³é€»è¾‘ï¼Œæœ‰å¯¼å¸ˆæ¯æ—¥äº¤æµæŒ‡ç‚¹ï¼Œæ”¶è·è¿˜æ˜¯å¾ˆå¤§çš„ã€‚â€œè¯´è¯´æŠ€æœ¯ä¸Šçš„å›°éš¾å§ï¼Œå…¶å®è¿˜æ˜¯æ²¡ç»éªŒã€ç†Ÿç»ƒåº¦ä½ï¼Œä¸€ä¸ªå¾ˆç®€å•çš„äº‹æƒ…è‡ªå·±å¯èƒ½è¦æƒ³å¾ˆä¹…åšå¾ˆä¹…ï¼Œæœ‰æ—¶å¯èƒ½è¿˜ä¼šæœ‰ç–æ¼ï¼Œå¯èƒ½å‰è¾ˆä¸€ä¸ªå°æ—¶å¹²çš„äº‹æƒ…ï¼Œæˆ‘è¦å‡ ä¸ªå°æ—¶ç”šè‡³å¥½å‡ å¤©ï¼Œè™½ç„¶å‰è¾ˆåœ¨ç»™æˆ‘åˆ†é…ä»»åŠ¡çš„æ—¶å€™å¯èƒ½è€ƒè™‘åˆ°è¿™ä¸ªé—®é¢˜ï¼Œä½†å…¶å®åœ¨æˆ‘çœ‹æ¥æ„Ÿè§‰è¿˜æ˜¯å·®çš„å¤ªè¿œï¼Œéå¸¸æ„§ç–šï¼Œç¦»èŒè¿”æ ¡åç°åœ¨è¿˜åœ¨è¡¥å……åŸºç¡€çŸ¥è¯†ï¼Œc++ï¼Œè¿˜æœ‰ä¸€äº›å»ºæ¨¡ç†Ÿç»ƒåº¦çš„ç»ƒä¹ ï¼Œéƒ½æœ‰åšæŒåœ¨å¼„ã€‚â€</p>
<h1 id="æ°›å›´-amp-åŠå…¬ç¯å¢ƒ"><a href="#æ°›å›´-amp-åŠå…¬ç¯å¢ƒ" class="headerlink" title="æ°›å›´&amp;åŠå…¬ç¯å¢ƒ"></a>æ°›å›´&amp;åŠå…¬ç¯å¢ƒ</h1><p>åˆšå»å®ä¹ çš„æ—¶å€™ï¼Œå‘ç°æ¯å¤©éœ€è¦å¼€æ™¨ä¼šï¼Œæ¯å‘¨éœ€è¦å¼€å‘¨ä¼šï¼Œå‘¨ä¼šæ˜¯æŠ•å±å±•ç¤ºï¼Œæ„Ÿè§‰å‹åŠ›è´¼å¤§ï¼ŒåŠ ä¸Šåˆšå…¥èŒçš„å‡ å¤©å•¥æƒé™éƒ½æ²¡æœ‰ï¼Œæ™¨ä¼šçš„æ—¶å€™å¬ç€æ­£å¼å‘˜å·¥åšäº†balabalaï¼Œè‡ªå·±æ²¡åšå‡ºæ¥ä»€ä¹ˆï¼Œå°±å¾ˆå°´å°¬ã€‚ä¸è¿‡åˆ°åæ¥å°±å¥½äº†ï¼Œå¯èƒ½æ˜¯å› ä¸ºè„¸åšäº†ğŸ¤«ã€‚<br>æ•´ä½“çš„èŠ‚å¥æ¯”è¾ƒå¿«ï¼Œå›¢é˜Ÿç›®æ ‡æ˜ç¡®ï¼Œä¸€ä¸ªå­£åº¦ä¼šæœ‰ä¸€æ¬¡OKRçš„ä¼šè®®(ç±»ä¼¼ä¸KPI)ï¼Œæ¯å‘¨éƒ½ä¼šreview OKRçš„å®Œæˆåº¦ï¼Œå¥½å¤„æ˜¯æˆ‘è§‰å¾—å‹åŠ›å¤§æˆé•¿å¿«ï¼Œä¸å¥½çš„åœ°æ–¹åœ¨äºï¼Œå¤§å®¶éƒ½å¤ªå¿™äº†ï¼Œä¸“æ³¨äºè‡ªå·±çš„okrï¼Œå›¢é˜Ÿä¹‹é—´çš„é—²èŠè¾ƒå°‘ï¼Œé‡åˆ°å„ç§å°é—®é¢˜å°±ä¸å¥½é—®ï¼Œè¿˜å¥½æœ‰å‡ ä¸ªå®ä¹ ç”ŸåŒå­¦ï¼Œå¤§å®¶å¯ä»¥ä¸€èµ·è®¨è®ºç»†èŠ‚é—®é¢˜ã€‚</p>
<p>åŠå…¬ç¯å¢ƒä¸å’‹åœ°ï¼Œå°¤å…¶æ˜¯å¯¹æ¯”WXGã€‚ç¬¬ä¸€æ¬¡å»çš„æ—¶å€™æ²¡æœ‰å·¥ä½ï¼Œæ˜¯ä¸€å¼ ä¸´æ—¶çš„æ¡Œå­ã€‚åˆ°åæ¥ï¼Œæ¬äº†å·¥ä½ï¼Œæœ‰äº†ç¨å¾®å¤§ä¸€ç‚¹çš„ç©ºé—´ï¼Œè¿˜å¥½ç‚¹ã€‚ä½†æ˜¯åœ°ç†ä½ç½®å¤„äºè…¾å¤§æ—è¾¹ï¼Œå‘¨å›´éƒ½æ˜¯å†™å­—æ¥¼ï¼Œæ²¡æœ‰ç”Ÿæ´»æ°”æ¯ï¼›å†åŠ ä¸Šæ·±åœ³ï¼Œå°¤å…¶æ˜¯å—å±±åŒºç»™æˆ‘çš„å°è±¡å°±æ˜¯åˆ°å¤„ä¿®ä¿®å»ºå»ºï¼Œæ„Ÿè§‰å™ªéŸ³æ¯”è¾ƒå¤§ï¼Œå¯¹äºç¯å¢ƒä¸å¤ªæ»¡æ„ã€‚ä¸è¿‡ä¹‹åå»äº†ä¸€è¶Ÿé™„è¿‘çš„å…¬å›­ï¼Œå°±æ„Ÿè§‰å¿ƒçµæœ‰äº†ä¸€ç‰‡æ –æ¯åœ°ï¼Œæœ‰æ‰€æ”¹è§‚ã€‚å¯¹æ¯”åœ¨å¹¿å·çš„æ—¶å€™ï¼Œæˆ‘æ„Ÿè§‰ç æ±Ÿä¸€ç›´æ˜¯æˆ‘çš„æ –æ¯åœ°ï¼Œå¤œè·‘ä¸Šç­éƒ½æ˜¯èµ°ç æ±Ÿè¾¹ï¼Œä¼šå¿ƒæ—·ç¥æ€¡ã€‚</p>
<h1 id="å®ä¹ å†…å®¹"><a href="#å®ä¹ å†…å®¹" class="headerlink" title="å®ä¹ å†…å®¹"></a>å®ä¹ å†…å®¹</h1><p>å®ä¹ çš„ä»»åŠ¡æ˜¯å®ç°æŸæ¨èç‚¹ä½(è„±æ•)çš„ç•™å­˜å¢é•¿ï¼Œå‰æœŸä¸»è¦ç†Ÿæ‚‰ç°æœ‰é€»è¾‘ï¼ŒåæœŸä¸Šçº¿ä¸‰ä¸ªå®ç°ï¼Œç”±äºé€»è¾‘ç®€å•ï¼Œå®éªŒä¹Ÿéƒ½è·å¾—äº†æ­£å‘çš„åé¦ˆã€‚ğŸ¥°<br>ï¼ˆå…¶å®â€œç•™å­˜å¢é•¿â€å¯¹äºç®—æ³•æ¥è¯´ï¼Œä¸å¥½ç›´æ¥ä¼˜åŒ–ï¼Œä¸æ˜¯æ¨¡å‹è¾“å‡ºçš„ç›´æ¥æŒ‡æ ‡ï¼Œæ›´æ²¡åŠæ³•å†™å‡ºæ¥loss functionï¼Œè¦åšçš„å°±æ˜¯å®Œå–„æ¨èç­–ç•¥æˆ–è€…æ¨¡å‹å°±å¥½ï¼‰</p>
<ul>
<li>å®éªŒä¸€ï¼šå¯¹äºå¬å›é™çº§æ± çš„å¹´é¾„åˆ’åˆ†<br>é™çº§æ± ä¹Ÿå«å…œåº•æ± ï¼Œå…¶å®ç”¨æˆ·é‡ä¸å¤§ï¼Œä½†æ˜¯è¿™ä¸€å—ä¹‹å‰æ²¡æœ‰åšç»†ï¼Œå°±ç•™ä¸‹äº†ç©ºé—´ï¼Œæˆ‘ç®€å•çš„é€šè¿‡å¹´é¾„çš„åˆ†å±‚å°±å®ç°äº†20%çš„æ—¶é•¿å¢é•¿ã€‚å¹´é¾„åˆ†å±‚å°±å¯ä»¥ç†è§£ä¸ºä¸€å±‚å†³ç­–æ ‘ï¼Œæ‰€ä»¥å®Œå…¨å¯ä»¥ç”¨æ ‘æ¨¡å‹è®­ç»ƒä¸€ç‰ˆå¬å›ï¼Œå¯èƒ½æ˜¯è¿™é‡Œç”¨æˆ·é‡ä¸å¤§ï¼Œå‰è¾ˆä¹Ÿä¸æƒ³åšäº†ã€‚<br>æ¶‰åŠå·¥å…·ï¼šä¸»è¦æ˜¯SQLå®šæ—¶ä»»åŠ¡ï¼Œè®¡ç®—ä¸€ä¸ªæ–°çš„æ¦œå•ï¼Œçº¿ä¸Šçš„rpcæœåŠ¡ç”¨ä¹‹å‰å†™å¥½çš„ã€‚</li>
<li>å®éªŒäºŒï¼šå¢åŠ æŸä¸ªå¬å›ç­–ç•¥Açš„æ¯”ä¾‹<br>å‰æœŸå‘ç°æŸä¸ªå¬å›ç­–ç•¥çš„æœ€ç»ˆè¡¨ç°è¾ƒå¥½ï¼Œä½†æ˜¯æŠ•æ”¾é‡ä¸å¤§ã€‚(ğŸ¤£æˆ‘ç¬¬ä¸€ååº”æ˜¯åªé‡‡ç”¨è¿™ä¸€ä¸ªå¬å›ç­–ç•¥ï¼Œå®é™…ä¸Šå¿½ç•¥äº†å¤ªå¤šå®¢è§‚å› ç´ ) ä½†æ˜¯å‰è¾ˆè§£é‡Šç­–ç•¥ä¹‹åï¼Œå…¶å®å°±è¿˜æœ‰å¢åŠ å¬å›æ•°é‡çš„ç©ºé—´ã€‚å°±ç®€å•è°ƒæ•´äº†ä¸€ä¸‹ç­–ç•¥ï¼Œå¼€å§‹åšC++æœåŠ¡çš„æ”¹è¿›ã€‚<br>æ¶‰åŠå·¥å…·ï¼šC++ï¼Œgitï¼ˆåšæ–‡<a href="https://leeee.top/2020/Git%E5%86%8D%E5%85%A5%E9%97%A8/">Gitå†å…¥é—¨</a>ï¼‰ï¼Œlinuxï¼ˆåšæ–‡<a href="https://leeee.top/2020/linux%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%86%8D%E5%85%A5%E9%97%A8/">linuxä»å…¥é—¨åˆ°å†å…¥é—¨</a>ï¼‰ã€‚å¤§ä¸€å­¦è¿‡Cï¼Œä½†æ˜¯å­¦çš„ä¹Ÿä¸æ·±ï¼›è™½ç„¶å¼€å‘é€»è¾‘å¾ˆç®€å•ï¼Œè¿˜æ˜¯èŠ±äº†ä¸å°‘æ—¶é—´ã€‚</li>
<li>å®éªŒä¸‰ï¼šå¢åŠ æ’åºçš„å›¾åƒç‰¹å¾<br>æˆ‘åªåšäº†ç¦»çº¿çš„éªŒè¯å›¾åƒç‰¹å¾æœ‰æ•ˆæ€§ã€‚å›¾åƒç‰¹å¾å½“ç„¶ä¸æ˜¯æˆ‘è‡ªå·±è·‘çš„å•¦ï¼Œå‡†å¤‡å¥½æ•°æ®é›†ï¼Œå‘é€ç»™å¯¹åº”åšCVçš„åŒå­¦ï¼Œç„¶åç”¨è®­ç»ƒå¥½çš„æ¨¡å‹è¿”å›æ•°æ®ã€‚æ‹¼æ¥åˆ°ç°æœ‰çš„æ•°æ®é›†ä¸Šï¼Œè·‘äº†xgboostå’ŒRankNetä¸¤ä¸ªæ¨¡å‹ï¼Œæœ€åè¿˜çœŸçš„æœ‰æ•ˆæœï¼Œaucæœ‰å®¢è§‚çš„æå‡ã€‚ä¸é”™ä¸é”™ã€‚ğŸ¤¤<br>æ¶‰åŠå·¥å…·ï¼špythonï¼Œæ‹¼æ¥ç‰¹å¾ï¼Œç„¶åå¤§æ¦‚çœ‹äº†çœ‹æ¨¡å‹çš„ç»“æ„ã€‚</li>
</ul>
<p>æ•´ä½“æ¥è¯´ç†Ÿæ‚‰å¼€å‘ç¯å¢ƒï¼Œç”³è¯·å„ç§æƒé™ï¼Œäº†è§£ç°æœ‰é€»è¾‘ï¼Œç†Ÿæ‚‰åˆ«äººä»£ç ï¼Œå æ®äº†ä¸»è¦çš„æ—¶é—´ã€‚ğŸ˜¢</p>
<h1 id="æ‚ä¹±çš„æ„Ÿæ‚Ÿ"><a href="#æ‚ä¹±çš„æ„Ÿæ‚Ÿ" class="headerlink" title="æ‚ä¹±çš„æ„Ÿæ‚Ÿ"></a>æ‚ä¹±çš„æ„Ÿæ‚Ÿ</h1><p>ç”±äºæ€è€ƒçš„è¿‡ç¨‹éƒ½å¾ˆçç¢ï¼Œå°±ä¸åˆ»æ„ä¸²èµ·æ¥äº†ï¼Œç®€å•ç½—åˆ—ã€‚</p>
<p>ç®—æ³•æ–¹é¢ï¼š</p>
<ul>
<li>æ¨¡å‹ã€ç‰¹å¾çš„å¯è§£é‡Šæ€§å†³å®šäº†ç®—æ³•çš„å¤©èŠ±æ¿ã€‚å¦‚æœæ¨¡å‹å¯¹äºæˆ‘ä»¬æ¥è¯´æ˜¯ä¸€ä¸ªé»‘åŒ£å­ï¼Œé‚£å°±åªèƒ½å½“â€ç‚¼ä¸¹å¸ˆâ€œï¼Œç›²ç›®å°è¯•ã€‚è¿™ä¹Ÿéœ€è¦å¯¹æ¨¡å‹æœ‰æ›´æ·±åˆ»çš„ç†è§£ã€‚</li>
<li>å¬å›ä¸­ï¼Œç­–ç•¥ç›¸å¯¹äºæ¨¡å‹æ¥è¯´ï¼Œæœ‰æ›´å¥½çš„è§£é‡Šæ€§ï¼Œä¹Ÿæœ‰æ›´å¥½çš„æŠ•æ”¾ç©ºé—´ï¼Œä½†æ˜¯ä¸ªæ€§åŒ–æ¨èä¸ä¸Šæ¨¡å‹æ•ˆæœå¾€å¾€ä¸ä½³ï¼›å»ºè®®å¤–å±‚æ¡†æ¶ç”¨ç­–ç•¥ï¼Œå…·ä½“å¬å›å¿…é¡»ä¸Šæ¨¡å‹ï¼›</li>
<li>æ’åºä¸­ï¼Œä¸€èˆ¬æ¥è¯´ï¼ŒåŠ å…¥çš„ç‰¹å¾è¶Šå¤šï¼Œæ•ˆæœè¶Šå¥½ï¼›æ¯”å¦‚ä¸“è¾‘å°é¢å›¾éƒ½ä¼šå½±å“ç”¨æˆ·å¯¹äºæ­Œæ›²çš„å–œå¥½ï¼›</li>
<li>å¯¹äºæ’åºå¬å›çš„ç»„åˆæ¨èç®—æ³•æ¥è¯´ï¼šæ’åºä¿è¯äº†ä¸‹é™ï¼Œå¬å›å†³å®šä¸Šé™ï¼›</li>
</ul>
<p>åˆ†ææ–¹é¢ï¼š</p>
<ul>
<li>åˆ†ææ•°æ®çš„æ—¶å€™ï¼Œæ¯è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œä¹‹å‰ï¼Œå°½é‡å…ˆç»™å‡ºå‡è®¾ï¼Œâ€œå¦‚æœå‡ºç°è¿™ç§æƒ…å½¢ï¼Œæˆ‘æœ‰ä»€ä¹ˆå¯¹ç­–â€ï¼Œä¸ç„¶ä¼šé™·å…¥æ— æ„ä¹‰çš„æ•°æ®ä¸­ï¼Œæ•°æ®ä¸ä¼šå¼€å£è¯´è¯å‘Šè¯‰ä½ ç­”æ¡ˆã€‚</li>
<li>badcaseï¼Œè¦åˆ†æ¸…æ¥šæ˜¯ä¸ªäººéœ€æ±‚è¿˜æ˜¯ç¾¤ä½“éœ€æ±‚ï¼Œä»è€Œå†³å®šä¼˜å…ˆçº§ï¼›</li>
<li>å¤§éƒ¨åˆ†çš„ç®—æ³•å²—éƒ½æ˜¯ç»“åˆä¸šåŠ¡çš„ç®—æ³•åº”ç”¨ï¼ŒçœŸæ­£ç¡¬æ ¸çš„å‘è®ºæ–‡çš„ä¸å¤šï¼Œä¸è¦å¤ªç•æƒ§ã€‚æ‰€ä»¥æ‡‚ä¸šåŠ¡é€»è¾‘å°±å¾ˆé‡è¦ï¼Œä¸ç†è§£ä¸šåŠ¡å°±å¾ˆéš¾æ´å¯Ÿåˆ°èƒ½ç»§ç»­ä¼˜åŒ–çš„ç‚¹ï¼›egï¼šè½¬å‘è¡Œä¸ºå¦‚ä½•åŒºåˆ†æ­£è´Ÿæ€åº¦ï¼›å¦‚ä½•è¡¡é‡ä¸åŒæŒ‡æ ‡çš„å…³ç³»ï¼Œå¦‚å®Œæ’­ç‡å’Œæ”¶è—ç‡ä¹‹é—´ï¼›æŠ–éŸ³ç¥æ›²é€‚ä¸é€‚åˆé€‚ä¸é€‚åˆåšæ¨èï¼Ÿä¸åŒç‚¹ä½ä¹‹é—´çš„å·®å¼‚ï¼ˆæ¿€è¿›è¿˜æ˜¯ä¿å®ˆï¼Ÿå¤šæ ·è¿˜æ˜¯èµ„äº§ï¼Ÿï¼‰</li>
<li>ä¸€æ—¦æ´å¯Ÿåˆ°ä¼˜åŒ–çš„ç‚¹ä¹‹åï¼Œå¾€å¾€ç®€å•çš„é€»è¾‘å°±èƒ½é€ æˆå¾ˆå¥½çš„æ”¹å–„ï¼Œä¸ä¸€å®šæ˜¯å¾ˆfancyçš„æ¨¡å‹ï¼›egï¼šå¦‚æœå‘ç°ç”¨æˆ·å¯¹äºèµ„äº§çš„æ–°æ—§æ•æ„Ÿï¼Œç¼©çŸ­å¬å›çš„æ—¶é—´çª—å£å°±å¯ä»¥å¸¦æ¥å¾ˆå¥½çš„æ•ˆæœï¼›</li>
</ul>
<p>å…¶ä»–ï¼š</p>
<ul>
<li>æ¯ä¸ªäººæœ‰ä¸åŒçš„ä»£ç é£æ ¼ï¼Œä½†æ˜¯ä¸€å®šè¦ç¡®ä¿è§„èŒƒï¼šç¼©è¿›ä¸€è‡´ã€å˜é‡å‘½åæœ‰æ„ä¹‰ã€å¤‡æ³¨å¥½è§£é‡Šï¼ˆé˜²æ­¢æ—¥åè‡ªå·±éƒ½çœ‹ä¸æ‡‚ï¼‰ï¼›</li>
<li>è€æ¿ä¸éœ€è¦çŸ¥é“æ€ä¹ˆä½¿ç”¨å·¥å…·ï¼Œä½†æ˜¯éœ€è¦æ‡‚ä»€ä¹ˆå·¥å…·èƒ½è§£å†³ä»€ä¹ˆé—®é¢˜(æˆ‘é‡åˆ°çš„è€æ¿çŸ¥è¯†é¢å¾ˆå¹¿)ï¼›</li>
<li>å¯¼å¸ˆå¯¹ä½ ä¸¥å‰å¾ˆæœ‰å¯èƒ½æ˜¯æ•…æ„ï¼Œå¤§æ¦‚æ˜¯é˜²æ­¢ä½ ä»€ä¹ˆç»†èŠ‚éƒ½ç›´æ¥è¿‡é—®å§ğŸ˜‚ï¼Œä¸€èˆ¬å¤§å®¶ä¸ºäººéƒ½å¾ˆå¥½ï¼›</li>
</ul>
<p>æœ€åæ„Ÿè°¢å®ä¹ æœŸé—´çš„å¯¼å¸ˆï¼Œè®©æˆ‘å—ç›ŠåŒªæµ…ã€‚</p>
<p>å¦‚æœä½ è§‰å¾—è¯»å®Œæœ‰ä¸€ä¸¢ä¸¢ç”¨å¤„ï¼Œå°±åœ¨ä¸‹é¢ç•™ä¸ªè¨€å§ğŸ‘€</p>
]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>å®ä¹ </tag>
        <tag>æœºå™¨å­¦ä¹ </tag>
        <tag>æ¨èç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>CS224n-3 å›é¡¾ç¥ç»ç½‘ç»œï¼Œæ–‡æœ¬åˆ†ç±»ä»‹ç»</title>
    <url>/2020/CS224n-3/</url>
    <content><![CDATA[<p>æœ¬èŠ‚è¯¾ä¸»è¦æ˜¯ï¼š<br>åˆ†ç±»å™¨å›é¡¾ï¼Œç¥ç»ç½‘ç»œå›é¡¾ï¼ŒNER  Named Entity Recognitionï¼Œçª—å£è¯åˆ†ç±»ï¼ŒçŸ©é˜µè®¡ç®—å›é¡¾ã€‚æ€»ä½“æ˜¯å›é¡¾æ—§çŸ¥è¯†ï¼Œä»¥åŠnlpä»»åŠ¡çš„ä¸¾ä¾‹ï¼Œå¿«é€Ÿè¿‡ä¸€ä¸‹ã€‚</p><h1 id="åˆ†ç±»"><a href="#åˆ†ç±»" class="headerlink" title="åˆ†ç±»"></a>åˆ†ç±»</h1><p>åˆ†ç±»é—®é¢˜å¾ˆå¸¸è§äº†ï¼Œå¯¹äºNLPæ¥è¯´ï¼š</p><a id="more"></a>

<ul>
<li>x ï¼š å•è¯ï¼Œå¥å­ï¼Œæ–‡ç« </li>
<li>y ï¼šæƒ…æ„Ÿï¼Œæ˜¯å¦NERï¼Œå†³ç­–åˆ¤åˆ«ï¼Œæ˜¯å¦äººè¯</li>
</ul>
<h2 id="å›é¡¾softmaxï¼š"><a href="#å›é¡¾softmaxï¼š" class="headerlink" title="å›é¡¾softmaxï¼š"></a>å›é¡¾softmaxï¼š</h2><script type="math/tex; mode=display">
p(y | x)=\frac{\exp \left(W_{y} \cdot x\right)}{\sum_{c=1}^{C} \exp \left(W_{c} \cdot x\right)}</script><p>åˆ†å­ï¼šè¾“å…¥å‘é‡å’ŒçŸ©é˜µçš„ä¸€è¡Œç›¸ä¹˜<br>åˆ†æ¯ï¼šæ‰€æœ‰ç›¸ä¹˜ï¼Œå½’ä¸€åŒ–</p>
<p>è®­ç»ƒå¯ä»¥ç›´æ¥æœ€å¤§åŒ–æ¦‚ç‡ï¼Œæˆ–è€…æœ€å°åŒ–è´Ÿlogæ¦‚ç‡ã€‚</p>
<script type="math/tex; mode=display">p(y_j = 1|x) = \frac{\exp(W_{j\cdot}x)}{\sum_{c=1}^C\exp(W_{c\cdot}x)}</script><p>ä½†æ˜¯ï¼Œå·§åˆçš„æ˜¯ï¼Œæœ€å°åŒ–è´Ÿlogæ¦‚ç‡å¯¹äºsoftmaxç­‰åŒäºcross entropyã€‚</p>
<blockquote>
<p> å›é¡¾cross entropyï¼š<br>äº¤å‰ç†µæ¥æºäºä¿¡æ¯è®ºï¼Œå¯¹äºå¯¹äºcæƒ…å†µçœŸå®æ¦‚ç‡pï¼Œæ¨¡å‹è®¡ç®—çš„æ¦‚ç‡qï¼Œé‚£ä¹ˆäº¤å‰ç†µè®¡ç®—ä¸ºï¼š$H(p, q)=-\sum_{c=1}^{C} p(c) \log q(c)$</p>
</blockquote>
<p>å¯¹äºsoftmaxçš„äº¤å‰ç†µæ¥è¯´ï¼š</p>
<script type="math/tex; mode=display">
\begin{aligned} H(\hat{y}, y) &=-\sum_{j=1}^{|V|} y_{j} \log \left(\hat{y}_{j}\right) \\ &=-\sum_{j=1}^{C} y_{j} \log \left(p\left(y_{j}=1 | x\right)\right) \\ &=-\sum_{j=1}^{C} y_{j} \log \left(\frac{\exp \left(W_{j}, x\right)}{\sum_{c=1}^{C} \exp \left(W_{c} \cdot x\right)}\right) \\ &=-y_{i} \log \left(\hat{y}_{i}\right) \end{aligned}</script><p>æœ€åä¸€ä¸ªç­‰å·çš„æ±‚å’Œå»æ‰æ˜¯å› ä¸ºï¼Œåªæœ‰å½“$y_i$é¢„æµ‹å¯¹äº†ï¼Œæ‰ä¼šç´¯åŠ ï¼Œå¦åˆ™éƒ½æ˜¯0.</p>
<p>æ‰€ä»¥ï¼Œäº¤å‰ç†µå’Œè´Ÿå¯¹æ•°æ¦‚ç‡æ˜¯ç­‰ä»·çš„ã€‚</p>
<p>å¯¹äºæœ‰Nä¸ªæ ·æœ¬çš„æ•°æ®é›†ï¼Œæ•´ä½“çš„æŸå¤±å°±æ˜¯ï¼š</p>
<script type="math/tex; mode=display">
-\sum_{i=1}^{N} \log \left(\frac{\exp \left(W_{k(i)} \cdot x^{(i)}\right)}{\sum_{c=1}^{C} \exp \left(W_{c} \cdot x^{(i)}\right)}\right)</script><blockquote>
<p>æ‹¬å·é‡Œå°±æ˜¯å¯¹äºæ¯ä¸€ä¸ªæ ·æœ¬xçš„é¢„æµ‹å€¼æ¦‚ç‡å¤§å°ï¼Œæ‰€æœ‰éƒ½çŒœå¯¹çš„è¯ï¼Œæ¦‚ç‡æ˜¯1ï¼Œæ•´ä½“æŸå¤±å°±æ˜¯0ï¼›å½“æ²¡çŒœå¯¹ï¼Œæ¦‚ç‡åœ¨0-1ï¼Œ-log(0. xxx)å°±æ˜¯å¾ˆå°ï¼ŒæŸå¤±å°±å¤šã€‚</p>
</blockquote>
<p>ä¸€èˆ¬çš„MLé—®é¢˜ä¸­ï¼Œå‚æ•°ç”±æƒå€¼çŸ©é˜µçš„åˆ—ç»„æˆç»´åº¦ä¸ä¼šå¤ªå¤§ã€‚è€Œåœ¨è¯å‘é‡æˆ–å…¶ä»–æ·±åº¦å­¦ä¹ ä¸­ï¼Œéœ€è¦åŒæ—¶å­¦ä¹ æƒå€¼çŸ©é˜µå’Œè¯å‘é‡ã€‚å‚æ•°ä¸€å¤šï¼Œå°±å®¹æ˜“è¿‡æ‹Ÿåˆï¼š<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200222013518.png"></p>
<h1 id="ç¥ç»å…ƒçš„æœ¬è´¨"><a href="#ç¥ç»å…ƒçš„æœ¬è´¨" class="headerlink" title="ç¥ç»å…ƒçš„æœ¬è´¨"></a>ç¥ç»å…ƒçš„æœ¬è´¨</h1><p>å¦‚æœæŸå¤±å‡½æ•°ç”¨sigmoidï¼Œå•ä¸ªç¥ç»å…ƒå°±æ˜¯é€»è¾‘å›å½’ï¼š<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200222014539.png"></p>
<p>è€Œç¥ç»ç½‘ç»œï¼Œå°±æ˜¯å¤šä¸ªé€»è¾‘å›å½’åŒæ—¶è®¡ç®—ï¼Œå¦‚å›¾ï¼š<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200222014651.png"><br>ä¸Šå›¾å°±æ˜¯å››ä¸ªé€»è¾‘å›å½’(ç»è¿‡4æ¬¡æ¿€æ´»å‡½æ•°)</p>
<h1 id="Named-Entity-Recognition-NER"><a href="#Named-Entity-Recognition-NER" class="headerlink" title="Named Entity Recognition (NER)"></a>Named Entity Recognition (NER)</h1><p>å®ä½“è¯†åˆ«å°±æ˜¯æŠŠå¥å­é‡Œçš„å®ç‰©åå­—æ‰¾å‡ºæ¥ï¼Œå¹¶ä¸”è¿›è¡Œåˆ†ç±»ï¼Œæ¯”å¦‚è¯´ç»„ç»‡å•ä½ï¼Œä¸ªäººåå­—ï¼Œç”µå™¨åå­—ï¼Œè½¯ä»¶åå­—ï¼Œåœ°ç‚¹ä¹‹ç±»çš„ã€‚<br>ç”¨é€”ï¼š</p>
<ul>
<li>å®šä½å‰æ–‡çš„ä¸»è¯­</li>
<li>é—®ç­”ç³»ç»Ÿéœ€è¦å®ä½“</li>
<li>ä¿¡æ¯ä¸€èˆ¬éƒ½ä¸å®ä½“ç›¸å…³</li>
<li>slot-filling å¡«ç©ºé—®é¢˜</li>
</ul>
<p>ç”±äºè‡ªç„¶è¯­è¨€ä¸­ï¼Œå¤§éƒ¨åˆ†å®ä½“æ¨¡ç³Šä¸æ¸…ï¼Œä»£è¯ä¹Ÿä¼šå¹²æ‰°ï¼Œæ‰€ä»¥ä¸ç®€å•ã€‚</p>
<blockquote>
<p>å®ä½“è¯†åˆ«å°±æ˜¯æŠŠå¥å­é‡Œæ˜¯å®ç‰©æ‰¾å‡ºæ¥</p>
</blockquote>
<h1 id="çª—å£å•è¯åˆ†ç±»Binary-word-window-classification"><a href="#çª—å£å•è¯åˆ†ç±»Binary-word-window-classification" class="headerlink" title="çª—å£å•è¯åˆ†ç±»Binary word window classification"></a>çª—å£å•è¯åˆ†ç±»Binary word window classification</h1><p>å•ç‹¬å¯¹äºä¸€ä¸ªå•è¯åˆ†ç±»å¾ˆéš¾ï¼Œæ‰€ä»¥ç®€å•æ€è·¯å°±æ˜¯å–å‰åçš„å››äº”ä¸ªå•è¯çª—å£ï¼Œå–å¹³å‡ï¼ˆæˆ–è€…æŠŠå‘é‡ä¸²èµ·æ¥ï¼‰ï¼Œç„¶åå†è¿›è¡Œåˆ†ç±»ã€‚</p>
<p>ä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¹³å‡ä¼šä¸¢å¤±å•è¯åœ¨çª—å£é‡Œçš„ä½ç½®ã€‚</p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200222214054.png"></p>
<p>å¯¹äºä½ç½®é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡æ‰“åˆ†æ¥è§£å†³ï¼ˆå›å½’ï¼‰ã€‚è®©ä½ç½®åœ¨ä¸­é—´çš„æ ·æœ¬yé«˜ï¼Œä¸åœ¨ä¸­é—´çš„æ ·æœ¬ï¼ˆæ‰“ä¹±é¡ºåºï¼‰å¯¹åº”çš„yscoreä½ã€‚å¦‚å›¾ã€‚</p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200222214634.png"></p>
<h1 id="é—´éš”æœ€å¤§åŒ–ç›®æ ‡å‡½æ•°"><a href="#é—´éš”æœ€å¤§åŒ–ç›®æ ‡å‡½æ•°" class="headerlink" title="é—´éš”æœ€å¤§åŒ–ç›®æ ‡å‡½æ•°"></a>é—´éš”æœ€å¤§åŒ–ç›®æ ‡å‡½æ•°</h1><p>è¿™é‡Œä¸Šè¯¾è€å¸ˆè·³è¿‡äº†ï¼Œæ²¡çœ‹æ‡‚å…ˆæŒ–ä¸ªå‘<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200222215915.png"></p>
<h1 id="åå‘ä¼ æ’­"><a href="#åå‘ä¼ æ’­" class="headerlink" title="åå‘ä¼ æ’­"></a>åå‘ä¼ æ’­</h1><p>æ±‚å¯¼ï¼Œé“¾å¼æ³•åˆ™ï¼Œè€ç”Ÿå¸¸è°ˆäº†ã€‚</p>
<p>å…³æ³¨ä¸€ä¸‹çŸ©é˜µçš„æ±‚å¯¼ï¼š</p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200222220647.png"></p>
<p>å¯¹äºä¸€ä¸ªmè¾“å‡ºï¼Œnè¾“å…¥çš„å‡½æ•°ï¼Œæ±‚å¯¼å°±æ˜¯å¯¹äºmè¡Œï¼Œæ¯è¡Œæ±‚å¯¹åº”ä½ç½®è¾“å…¥x_jçš„å¯¼æ•°ã€‚</p>
<p>nä¸ªè¾“å…¥nä¸ªè¾“å‡ºï¼š<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200222221411.png"><br>æ‰€ä»¥ï¼Œå¯ä»¥å¾—åˆ°ä¸€ä¸ªåªæœ‰å¯¹è§’çº¿å…ƒç´ ä¸Šæœ‰å¯¼æ•°ï¼Œå…¶ä»–ä½ç½®ä¸º0çš„çŸ©é˜µã€‚</p>
<p>æ‰€ä»¥ï¼Œæœ€åå¯ä»¥å¾—åˆ°sï¼ˆæœ€åçš„åˆ†æ•°ï¼‰å¯¹b(çº¿æ€§è®¡ç®—åŠ çš„é‚£ä¸ªåç½®)çš„å¯¼æ•°ï¼š<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200222222311.png"></p>
<p>ä¸Šå›¾ä¸­ï¼Œå¦‚æœåŒæ—¶å¯¹wå’Œbæ±‚å¯¼å¯ä»¥å‘ç°ï¼š<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200222222558.png"></p>
<p>è§‚å¯Ÿå‡ºï¼Œbçš„å¯¼æ•°å°±æ˜¯ä¿¡å·çš„æŸå¤±</p>
<p>ä¸Šå›¾ç¬¬ä¸€è¡Œï¼Œzå¯¹wçš„æ±‚å¯¼å°±æ˜¯xã€‚æ‰€ä»¥å¯ä»¥å¾—åˆ°så¯¹äºwçš„å¯¼æ•°ï¼Œå…¶å®å°±æ˜¯deltæŸå¤±å’Œxç›¸ä¹˜ã€‚</p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200222223106.png"></p>
<p>æ‰€ä»¥å¯¼æ•°ä¹Ÿæ˜¯n*mçš„ã€‚</p>
<blockquote>
<p>è¿™é‡Œæ²¡è®²å®Œå°±ä¸‹è¯¾äº†â€¦ï¼Œä¸»è¦æ˜¯æƒ³å±•ç¤ºè®¡ç®—è¿‡ç¨‹å§ã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>CS224n</category>
      </categories>
      <tags>
        <tag>NLP</tag>
      </tags>
  </entry>
  <entry>
    <title>CS224n-2 word2vec, word Senses</title>
    <url>/2020/CS224n-2-word2vec-word-Senses/</url>
    <content><![CDATA[<h1 id="CS224n-2-word2vec-word-Senses"><a href="#CS224n-2-word2vec-word-Senses" class="headerlink" title="CS224n-2 word2vec, word Senses"></a>CS224n-2 word2vec, word Senses</h1><p>è¿™èŠ‚è¯¾æˆ‘ä¸æŒ‰è¯¾å ‚è®²çš„ï¼Œå¼•ç”¨ä¸€ç¯‡<a href="https://www.jianshu.com/p/a6bc14323d77" target="_blank" rel="noopener">åšå®¢</a></p><h1 id="word-vectors-and-word2vec"><a href="#word-vectors-and-word2vec" class="headerlink" title="word vectors and word2vec"></a>word vectors and word2vec</h1><h2 id="ä»£è¡¨æŠ€æœ¯ä¹‹ä¸€-word2vec"><a href="#ä»£è¡¨æŠ€æœ¯ä¹‹ä¸€-word2vec" class="headerlink" title="ä»£è¡¨æŠ€æœ¯ä¹‹ä¸€ word2vec"></a>ä»£è¡¨æŠ€æœ¯ä¹‹ä¸€ word2vec</h2><p>2013å¹´ï¼ŒGoogleå›¢é˜Ÿå‘è¡¨äº†word2vecå·¥å…· [1]ã€‚word2vecå·¥å…·ä¸»è¦åŒ…å«ä¸¤ä¸ªæ¨¡å‹ï¼šè·³å­—æ¨¡å‹ï¼ˆskip-gramï¼‰å’Œè¿ç»­è¯è¢‹æ¨¡å‹ï¼ˆcontinuous bag of wordsï¼Œç®€ç§°CBOWï¼‰ï¼Œä»¥åŠä¸¤ç§è¿‘ä¼¼è®­ç»ƒæ³•ï¼šè´Ÿé‡‡æ ·ï¼ˆnegative samplingï¼‰å’Œå±‚åºsoftmaxï¼ˆhierarchical softmaxï¼‰ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼Œword2vecçš„è¯å‘é‡å¯ä»¥è¾ƒå¥½åœ°è¡¨è¾¾ä¸åŒè¯ä¹‹é—´çš„ç›¸ä¼¼å’Œç±»æ¯”å…³ç³»ã€‚</p><a id="more"></a>

<p>word2vecè‡ªæå‡ºåè¢«å¹¿æ³›åº”ç”¨åœ¨è‡ªç„¶è¯­è¨€å¤„ç†ä»»åŠ¡ä¸­ã€‚å®ƒçš„æ¨¡å‹å’Œè®­ç»ƒæ–¹æ³•ä¹Ÿå¯å‘äº†å¾ˆå¤šåç»­çš„è¯åµŒå…¥æ¨¡å‹ã€‚æœ¬èŠ‚å°†é‡ç‚¹ä»‹ç»word2vecçš„æ¨¡å‹å’Œè®­ç»ƒæ–¹æ³•ã€‚</p>
<h2 id="Skip-gramæ¨¡å‹ï¼ˆè·³å­—æ¨¡å‹ï¼‰ï¼š"><a href="#Skip-gramæ¨¡å‹ï¼ˆè·³å­—æ¨¡å‹ï¼‰ï¼š" class="headerlink" title="Skip-gramæ¨¡å‹ï¼ˆè·³å­—æ¨¡å‹ï¼‰ï¼š"></a>Skip-gramæ¨¡å‹ï¼ˆè·³å­—æ¨¡å‹ï¼‰ï¼š</h2><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208213903.png"><br>Skip-gram</p>
<p>åœ¨è·³å­—æ¨¡å‹ä¸­ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªè¯æ¥é¢„æµ‹å®ƒåœ¨æ–‡æœ¬åºåˆ—å‘¨å›´çš„è¯ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æ–‡æœ¬åºåˆ—æ˜¯ï¼š</p>
<blockquote>
<p>â€œI love you very muchâ€</p>
</blockquote>
<p>è·³å­—æ¨¡å‹æ‰€å…³å¿ƒçš„æ˜¯ï¼Œç»™å®šâ€œ<strong>you</strong>â€ç”Ÿæˆé‚»è¿‘è¯â€œIâ€ã€â€œloveâ€ã€â€œveryâ€å’Œâ€œmuchâ€çš„æ¡ä»¶æ¦‚ç‡ã€‚</p>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œâ€œyouâ€å«ä¸­å¿ƒè¯ï¼Œâ€œIâ€ã€â€œloveâ€ã€â€œveryâ€å’Œâ€œmuchâ€å«èƒŒæ™¯è¯ã€‚</p>
<p>ç”±äºâ€œyouâ€åªç”Ÿæˆä¸å®ƒè·ç¦»ä¸è¶…è¿‡2çš„èƒŒæ™¯è¯ï¼Œè¯¥<strong>æ—¶é—´çª—å£çš„å¤§å°ä¸º2</strong>[ä¸N-gramç±»ä¼¼]ã€‚</p>
<p>æˆ‘ä»¬æ¥æè¿°ä¸€ä¸‹è·³å­—æ¨¡å‹[ç”¨æœ€å¤§ä¼¼ç„¶ä¼°è®¡çš„æ€æƒ³]ï¼š</p>
<p>å‡è®¾è¯å…¸ç´¢å¼•é›†Vçš„å¤§å°ä¸º|V|ï¼Œä¸”{0,1,â€¦,|V|âˆ’1}ã€‚ç»™å®šä¸€ä¸ªé•¿åº¦ä¸ºTçš„æ–‡æœ¬åºåˆ—ä¸­ï¼Œæ–‡æœ¬åºåˆ—ä¸­ç¬¬tçš„è¯ä¸ºw(t)ã€‚å½“æ—¶é—´çª—å£å¤§å°ä¸ºmæ—¶ï¼Œè·³å­—æ¨¡å‹éœ€è¦<strong>æœ€å¤§åŒ–ç»™å®šä»»ä¸€ä¸­å¿ƒè¯ç”Ÿæˆæ‰€æœ‰èƒŒæ™¯è¯çš„æ¦‚ç‡ï¼š</strong></p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208213949.png"></p>
<p>ä¸Šå¼çš„<strong>æœ€å¤§ä¼¼ç„¶ä¼°è®¡</strong>ä¸<strong>æœ€å°åŒ–ä»¥ä¸‹æŸå¤±å‡½æ•°</strong>ç­‰ä»·ï¼š</p>
<p><img alt data-src="https://upload-images.jianshu.io/upload_images/1803066-6089ead7ce1ea503.png?imageMogr2/auto-orient/strip|imageView2/2/w/720/format/webp"></p>
<p>æˆ‘ä»¬å¯ä»¥ç”¨<strong>v</strong>å’Œ<strong>u</strong>åˆ†åˆ«è¡¨ç¤º <strong>ä¸­å¿ƒè¯</strong> å’Œ <strong>èƒŒæ™¯è¯</strong> çš„å‘é‡ã€‚</p>
<p>æ¢è¨€ä¹‹ï¼Œå¯¹äºè¯å…¸ä¸­ç´¢å¼•ä¸ºiçš„è¯ï¼Œå®ƒåœ¨ä½œä¸ºä¸­å¿ƒè¯å’ŒèƒŒæ™¯è¯æ—¶çš„å‘é‡è¡¨ç¤ºåˆ†åˆ«æ˜¯viå’Œuiã€‚è€Œè¯å…¸ä¸­æ‰€æœ‰è¯çš„è¿™ä¸¤ç§å‘é‡æ­£æ˜¯è·³å­—æ¨¡å‹æ‰€è¦å­¦ä¹ çš„æ¨¡å‹å‚æ•°ã€‚ä¸ºäº†å°†æ¨¡å‹å‚æ•°æ¤å…¥æŸå¤±å‡½æ•°ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨æ¨¡å‹å‚æ•°è¡¨è¾¾æŸå¤±å‡½æ•°ä¸­çš„ç»™å®šä¸­å¿ƒè¯ç”ŸæˆèƒŒæ™¯è¯çš„æ¡ä»¶æ¦‚ç‡ã€‚ç»™å®šä¸­å¿ƒè¯ï¼Œå‡è®¾ç”Ÿæˆå„ä¸ªèƒŒæ™¯è¯æ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚è®¾ä¸­å¿ƒè¯wcåœ¨è¯å…¸ä¸­ç´¢å¼•ä¸ºcï¼ŒèƒŒæ™¯è¯woåœ¨è¯å…¸ä¸­ç´¢å¼•ä¸ºoï¼ŒæŸå¤±å‡½æ•°ä¸­çš„ç»™å®šä¸­å¿ƒè¯ç”ŸæˆèƒŒæ™¯è¯çš„<strong>æ¡ä»¶æ¦‚ç‡</strong>å¯ä»¥é€šè¿‡softmaxå‡½æ•°å®šä¹‰ä¸ºï¼š</p>
<p><img alt data-src="https://upload-images.jianshu.io/upload_images/1803066-69d819ac1e385080.png?imageMogr2/auto-orient/strip|imageView2/2/w/662/format/webp"></p>
<blockquote>
<p>ä¸Šå¼ï¼šç»™å®šä»»ä½•ä¸€ä¸ªä¸­å¿ƒè¯Wcï¼Œäº§ç”ŸèƒŒæ™¯è¯Woçš„æ¦‚ç‡</p>
<p>æ¯ä¸€ä¸ªè¯ï¼Œåœ¨æ¨¡å‹ä¸­æœ‰ä¸¤ä¸ªè¯å‘é‡ï¼Œä¸€ä¸ªæ˜¯ä½œä¸ºä¸­å¿ƒè¯æ—¶çš„è¯å‘é‡ï¼Œä¸€ä¸ªæ˜¯ä½œä¸ºèƒŒæ™¯è¯æ—¶çš„è¯å‘é‡</p>
</blockquote>
<p><strong>åˆ©ç”¨éšæœºæ¢¯åº¦ä¸‹é™æ±‚è§£ï¼š</strong></p>
<p>å½“åºåˆ—é•¿åº¦Tè¾ƒå¤§æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸åœ¨æ¯æ¬¡è¿­ä»£æ—¶éšæœºé‡‡æ ·ä¸€ä¸ªè¾ƒçŸ­çš„å­åºåˆ—æ¥è®¡ç®—æœ‰å…³è¯¥å­åºåˆ—çš„æŸå¤±ã€‚ç„¶åï¼Œæ ¹æ®è¯¥æŸå¤±è®¡ç®—è¯å‘é‡çš„æ¢¯åº¦å¹¶è¿­ä»£è¯å‘é‡ã€‚å…·ä½“ç®—æ³•å¯ä»¥å‚è€ƒ<a href="https://links.jianshu.com/go?to=http%3A%2F%2Fzh.gluon.ai%2Fchapter_optimization%2Fgd-sgd-scratch.html" target="_blank" rel="noopener">â€œæ¢¯åº¦ä¸‹é™å’Œéšæœºæ¢¯åº¦ä¸‹é™â€”â€”ä»é›¶å¼€å§‹â€</a>ä¸€èŠ‚ã€‚ ä½œä¸ºä¸€ä¸ªå…·ä½“çš„ä¾‹å­ï¼Œä¸‹é¢æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•è®¡ç®—éšæœºé‡‡æ ·çš„å­åºåˆ—çš„æŸå¤±æœ‰å…³ä¸­å¿ƒè¯å‘é‡çš„æ¢¯åº¦ã€‚å’Œä¸Šé¢æåˆ°çš„é•¿åº¦ä¸ºTçš„æ–‡æœ¬åºåˆ—çš„æŸå¤±å‡½æ•°ç±»ä¼¼ï¼Œéšæœºé‡‡æ ·çš„å­åºåˆ—çš„æŸå¤±å®é™…ä¸Šæ˜¯å¯¹å­åºåˆ—ä¸­ç»™å®šä¸­å¿ƒè¯ç”ŸæˆèƒŒæ™¯è¯çš„æ¡ä»¶æ¦‚ç‡çš„å¯¹æ•°æ±‚å¹³å‡ã€‚é€šè¿‡å¾®åˆ†ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸Šå¼ä¸­æ¡ä»¶æ¦‚ç‡çš„å¯¹æ•°æœ‰å…³ä¸­å¿ƒè¯å‘é‡vcçš„<strong>æ¢¯åº¦ï¼š</strong>  </p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208215618.png"></p>
<p><strong>è¯¥å¼ä¹Ÿå¯æ”¹å†™ä½œï¼š</strong></p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208215642.png"></p>
<blockquote>
<p>ä¸Šé¢çš„è¿­ä»£æ›´æ–°è®¡ç®—å¼€é”€å¤ªå¤§ï¼ï¼æ¯æ¬¡éƒ½éœ€è¦éå†æ•´ä¸ªå­—å…¸ï¼Œå¯¹åº”çš„è§£å†³æ–¹æ¡ˆåœ¨åé¢ï¼ˆè¿™ä¹Ÿæ˜¯word2vecä¸ºå•¥è¿™ä¹ˆç‰›é€¼çš„åŸå› â€¦å‰å®³çš„ä¸æ˜¯è¿™ä¸ªå·¥å…·æœ¬èº«ï¼Œè€Œæ˜¯ä¸€ç§æ€æƒ³çš„åº”ç”¨ï¼‰</p>
</blockquote>
<p>éšæœºé‡‡æ ·çš„å­åºåˆ—æœ‰å…³å…¶ä»–è¯å‘é‡çš„æ¢¯åº¦åŒç†å¯å¾—ã€‚è®­ç»ƒæ¨¡å‹æ—¶ï¼Œæ¯ä¸€æ¬¡è¿­ä»£å®é™…ä¸Šæ˜¯ç”¨è¿™äº›æ¢¯åº¦æ¥è¿­ä»£å­åºåˆ—ä¸­å‡ºç°è¿‡çš„ä¸­å¿ƒè¯å’ŒèƒŒæ™¯è¯çš„å‘é‡ã€‚è®­ç»ƒç»“æŸåï¼Œå¯¹äºè¯å…¸ä¸­çš„ä»»ä¸€ç´¢å¼•ä¸ºiçš„è¯ï¼Œæˆ‘ä»¬å‡å¾—åˆ°è¯¥è¯ä½œä¸ºä¸­å¿ƒè¯å’ŒèƒŒæ™¯è¯çš„ä¸¤ç»„è¯å‘é‡viå’Œuiã€‚åœ¨è‡ªç„¶è¯­è¨€å¤„ç†åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨è·³å­—æ¨¡å‹çš„ä¸­å¿ƒè¯å‘é‡ã€‚</p>
<h4 id="æ±‚æ¢¯åº¦è¿‡ç¨‹"><a href="#æ±‚æ¢¯åº¦è¿‡ç¨‹" class="headerlink" title="æ±‚æ¢¯åº¦è¿‡ç¨‹"></a>æ±‚æ¢¯åº¦è¿‡ç¨‹</h4><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208220835.png"></p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208220909.png"><br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208220919.png"><br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208220926.png"></p>
<hr>
<h3 id="CBOW-è¿ç»­è¯è¢‹æ¨¡å‹"><a href="#CBOW-è¿ç»­è¯è¢‹æ¨¡å‹" class="headerlink" title="CBOW(è¿ç»­è¯è¢‹æ¨¡å‹)"></a>CBOW(è¿ç»­è¯è¢‹æ¨¡å‹)</h3><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208215727.png"></p>
<p>CBOW</p>
<p>è¿ç»­è¯è¢‹æ¨¡å‹ä¸è·³å­—æ¨¡å‹ç±»ä¼¼,ä¸è·³å­—æ¨¡å‹æœ€å¤§çš„ä¸åŒæ˜¯ï¼š</p>
<p>è¿ç»­è¯è¢‹æ¨¡å‹ç”¨ä¸€ä¸ªä¸­å¿ƒè¯åœ¨æ–‡æœ¬åºåˆ—å‘¨å›´çš„è¯æ¥é¢„æµ‹è¯¥ä¸­å¿ƒè¯ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æ–‡æœ¬åºåˆ—ä¸ºï¼š</p>
<blockquote>
<p>â€œI love you very muchâ€</p>
</blockquote>
<p>è¿ç»­è¯è¢‹æ¨¡å‹æ‰€å…³å¿ƒçš„æ˜¯ï¼Œé‚»è¿‘è¯â€œIâ€ã€â€œloveâ€ã€â€œveryâ€å’Œâ€œmuchâ€ä¸€èµ·ç”Ÿæˆä¸­å¿ƒè¯â€œyouâ€çš„æ¦‚ç‡ã€‚</p>
<p>å‡è®¾è¯å…¸ç´¢å¼•é›†çš„å¤§å°ä¸ºVï¼Œä¸”V={0,1,â€¦,|V|âˆ’1}&lt;/nobr&gt;ã€‚ç»™å®šä¸€ä¸ªé•¿åº¦ä¸ºTçš„æ–‡æœ¬åºåˆ—ä¸­ï¼Œæ–‡æœ¬åºåˆ—ä¸­ç¬¬tä¸ªè¯ä¸ºwu(t)ã€‚å½“æ—¶é—´çª—å£å¤§å°ä¸ºmæ—¶ï¼Œè¿ç»­è¯è¢‹æ¨¡å‹éœ€è¦æœ€å¤§åŒ–ç”±èƒŒæ™¯è¯ç”Ÿæˆä»»ä¸€ä¸­å¿ƒè¯çš„æ¦‚ç‡</p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208215738.png"></p>
<p>ä¸Šå¼çš„æœ€å¤§ä¼¼ç„¶ä¼°è®¡ä¸æœ€å°åŒ–ä»¥ä¸‹æŸå¤±å‡½æ•°ç­‰ä»·ï¼š</p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208215749.png"></p>
<p>æˆ‘ä»¬å¯ä»¥ç”¨<strong>v</strong>å’Œ<strong>u</strong>åˆ†åˆ«è¡¨ç¤ºèƒŒæ™¯è¯å’Œä¸­å¿ƒè¯çš„å‘é‡ï¼ˆæ³¨æ„ç¬¦å·å’Œè·³å­—æ¨¡å‹ä¸­çš„ä¸åŒï¼‰ã€‚æ¢è¨€ä¹‹ï¼Œå¯¹äºè¯å…¸ä¸­ç´¢å¼•ä¸ºiçš„è¯ï¼Œå®ƒåœ¨ä½œä¸ºèƒŒæ™¯è¯å’Œä¸­å¿ƒè¯æ—¶çš„å‘é‡è¡¨ç¤ºåˆ†åˆ«æ˜¯viå’Œuiã€‚è€Œè¯å…¸ä¸­æ‰€æœ‰è¯çš„è¿™ä¸¤ç§å‘é‡æ­£æ˜¯è¿ç»­è¯è¢‹æ¨¡å‹æ‰€è¦å­¦ä¹ çš„æ¨¡å‹å‚æ•°ã€‚ä¸ºäº†å°†æ¨¡å‹å‚æ•°æ¤å…¥æŸå¤±å‡½æ•°ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨æ¨¡å‹å‚æ•°è¡¨è¾¾æŸå¤±å‡½æ•°ä¸­çš„ç»™å®šèƒŒæ™¯è¯ç”Ÿæˆä¸­å¿ƒè¯çš„æ¦‚ç‡ã€‚è®¾ä¸­å¿ƒè¯wcåœ¨è¯å…¸ä¸­ç´¢å¼•ä¸ºcï¼ŒèƒŒæ™¯è¯wo1ã€wo2ã€â€¦wo2måœ¨è¯å…¸ä¸­ç´¢å¼•ä¸ºo1ã€o2ã€â€¦.o2m-1ã€o2mï¼ŒæŸå¤±å‡½æ•°ä¸­çš„ç»™å®šèƒŒæ™¯è¯ç”Ÿæˆä¸­å¿ƒè¯çš„æ¦‚ç‡å¯ä»¥é€šè¿‡softmaxå‡½æ•°å®šä¹‰ä¸º</p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208215805.png"></p>
<p>å’Œè·³å­—æ¨¡å‹ä¸€æ ·ï¼Œå½“åºåˆ—é•¿åº¦Tè¾ƒå¤§æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸åœ¨æ¯æ¬¡è¿­ä»£æ—¶éšæœºé‡‡æ ·ä¸€ä¸ªè¾ƒçŸ­çš„å­åºåˆ—æ¥è®¡ç®—æœ‰å…³è¯¥å­åºåˆ—çš„æŸå¤±ã€‚ç„¶åï¼Œæ ¹æ®è¯¥æŸå¤±è®¡ç®—è¯å‘é‡çš„æ¢¯åº¦å¹¶è¿­ä»£è¯å‘é‡ã€‚ é€šè¿‡å¾®åˆ†ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—å‡ºä¸Šå¼ä¸­æ¡ä»¶æ¦‚ç‡çš„å¯¹æ•°æœ‰å…³ä»»ä¸€èƒŒæ™¯è¯å‘é‡voi(i=1,2,â€¦.2m)çš„æ¢¯åº¦ä¸ºï¼š<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208221019.png"></p>
<p>è¯¥å¼ä¹Ÿå¯å†™ä½œ</p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208221029.png"></p>
<p>éšæœºé‡‡æ ·çš„å­åºåˆ—æœ‰å…³å…¶ä»–è¯å‘é‡çš„æ¢¯åº¦åŒç†å¯å¾—ã€‚å’Œè·³å­—æ¨¡å‹ä¸€æ ·ï¼Œè®­ç»ƒç»“æŸåï¼Œå¯¹äºè¯å…¸ä¸­çš„ä»»ä¸€ç´¢å¼•ä¸ºiçš„è¯ï¼Œæˆ‘ä»¬å‡å¾—åˆ°è¯¥è¯ä½œä¸ºèƒŒæ™¯è¯å’Œä¸­å¿ƒè¯çš„ä¸¤ç»„è¯å‘é‡viå’Œuiã€‚<br>åœ¨è‡ªç„¶è¯­è¨€å¤„ç†åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨è¿ç»­è¯è¢‹æ¨¡å‹çš„èƒŒæ™¯è¯å‘é‡ã€‚</p>
<hr>
<h1 id="è¿‘ä¼¼è®­ç»ƒæ³•"><a href="#è¿‘ä¼¼è®­ç»ƒæ³•" class="headerlink" title="è¿‘ä¼¼è®­ç»ƒæ³•"></a>è¿‘ä¼¼è®­ç»ƒæ³•</h1><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæ— è®ºæ˜¯skip-gram(è·³å­—æ¨¡å‹)è¿˜æ˜¯CBOW(è¿ç»­è¯è¢‹æ¨¡å‹)ï¼Œæ¯ä¸€æ­¥æ¢¯åº¦è®¡ç®—çš„å¼€é”€ä¸è¯å…¸Vçš„å¤§å°ç›¸å…³ã€‚</p>
<blockquote>
<p>å› ä¸ºè®¡ç®—softmaxçš„æ—¶è€ƒè™‘äº†å­—å…¸ä¸Šçš„æ‰€æœ‰å¯èƒ½æ€§</p>
</blockquote>
<p>å½“è¯å…¸è¾ƒå¤§æ—¶ï¼Œä¾‹å¦‚å‡ åä¸‡åˆ°ä¸Šç™¾ä¸‡ï¼Œè¿™ç§è®­ç»ƒæ–¹æ³•çš„è®¡ç®—å¼€é”€ä¼šè¾ƒå¤§ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è¿‘ä¼¼çš„æ–¹æ³•æ¥è®¡ç®—è¿™äº›æ¢¯åº¦ï¼Œä»è€Œå‡å°è®¡ç®—å¼€é”€ã€‚å¸¸ç”¨çš„è¿‘ä¼¼è®­ç»ƒæ³•åŒ…æ‹¬è´Ÿé‡‡æ ·å’Œå±‚åºsoftmaxã€‚</p>
<h2 id="1-è´Ÿé‡‡æ ·ï¼ˆNegative-Sampleï¼‰"><a href="#1-è´Ÿé‡‡æ ·ï¼ˆNegative-Sampleï¼‰" class="headerlink" title="(1)è´Ÿé‡‡æ ·ï¼ˆNegative Sampleï¼‰"></a>(1)è´Ÿé‡‡æ ·ï¼ˆNegative Sampleï¼‰</h2><p>æˆ‘ä»¬ä»¥è·³å­—æ¨¡å‹ä¸ºä¾‹è®¨è®ºè´Ÿé‡‡æ ·ã€‚</p>
<p>å®é™…ä¸Šï¼Œè¯å…¸Vçš„å¤§å°ä¹‹æ‰€ä»¥ä¼šåœ¨æŸå¤±ä¸­å‡ºç°ï¼Œæ˜¯å› ä¸ºç»™å®šä¸­å¿ƒè¯$w_c$ç”ŸæˆèƒŒæ™¯è¯woçš„æ¡ä»¶æ¦‚ç‡$P(w_0âˆ£w_c)$</p>
<blockquote>
<p>ä½¿ç”¨äº†softmaxè¿ç®—ï¼Œè€Œsoftmaxè¿ç®—æ­£æ˜¯<strong>è€ƒè™‘äº†èƒŒæ™¯è¯å¯èƒ½æ˜¯è¯å…¸ä¸­çš„ä»»ä¸€è¯ï¼ˆä½¿ç”¨äº†å…¨éƒ¨è¯ï¼‰</strong>ï¼Œå¹¶ä½“ç°åœ¨åˆ†æ¯ä¸Šã€‚<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208224459.png"></p>
</blockquote>
<p>ä¸‹é¢ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Ïƒ(x)=1/(1+exp(âˆ’x))å‡½æ•°æ¥è¡¨è¾¾ä¸­å¿ƒè¯wcå’ŒèƒŒæ™¯è¯woåŒæ—¶å‡ºç°åœ¨è¯¥è®­ç»ƒæ•°æ®çª—å£çš„æ¦‚ç‡ã€‚</p>
<blockquote>
<p>Ïƒ(x)å±äº[0,1]<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208224516.png"></p>
</blockquote>
<p>é‚£ä¹ˆï¼Œç»™å®šä¸­å¿ƒè¯wcç”ŸæˆèƒŒæ™¯è¯woçš„æ¡ä»¶æ¦‚ç‡çš„å¯¹æ•°å¯ä»¥è¿‘ä¼¼ä¸º:<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208224525.png"></p>
<p>[ä¸Šå¼çš„å«ä¹‰ï¼šä¸­å¿ƒè¯wcä¸èƒŒæ™¯è¯woåŒæ—¶å‡º(D=1)ç°æ¦‚ç‡ï¼Œä¸”ä¸­å¿ƒè¯wcä¸å™ªéŸ³è¯wkä¸åŒæ—¶å‡ºç°(D=0)çš„æ¦‚ç‡ã€‚]</p>
<p>å‡è®¾å™ªå£°è¯wkåœ¨è¯å…¸ä¸­çš„ç´¢å¼•ä¸ºikï¼Œä¸Šå¼å¯æ”¹å†™ä¸º:</p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208224609.png"></p>
<p>å› æ­¤ï¼Œæœ‰å…³ç»™å®šä¸­å¿ƒè¯wcç”ŸæˆèƒŒæ™¯è¯woçš„æŸå¤±æ˜¯:</p>
<p>å‡è®¾è¯å…¸Vå¾ˆå¤§ï¼Œæ¯æ¬¡è¿­ä»£çš„è®¡ç®—å¼€é”€ç”±O(|V|)å˜ä¸ºO(|K|)ã€‚å½“æˆ‘ä»¬æŠŠKå–è¾ƒå°å€¼æ—¶ï¼Œè´Ÿé‡‡æ ·æ¯æ¬¡è¿­ä»£çš„è®¡ç®—å¼€é”€å°†è¾ƒå°ã€‚</p>
<p>å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¯¹è¿ç»­è¯è¢‹æ¨¡å‹è¿›è¡Œè´Ÿé‡‡æ ·ã€‚æœ‰å…³ç»™å®šèƒŒæ™¯è¯<br>wt-mã€wt-m+1ã€â€¦ã€wt+mç”Ÿæˆä¸­å¿ƒè¯wcçš„æŸå¤±:<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208224615.png"></p>
<p>åœ¨è´Ÿé‡‡æ ·ä¸­å¯ä»¥è¿‘ä¼¼ä¸º:</p>
<p>  <img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208224627.png"></p>
<p>åŒæ ·ï¼Œå½“æˆ‘ä»¬æŠŠKå–è¾ƒå°å€¼æ—¶ï¼Œè´Ÿé‡‡æ ·æ¯æ¬¡è¿­ä»£çš„è®¡ç®—å¼€é”€å°†è¾ƒå°ã€‚</p>
<h2 id="2-å±‚åºsoftmax"><a href="#2-å±‚åºsoftmax" class="headerlink" title="(2)å±‚åºsoftmax[]"></a>(2)å±‚åºsoftmax[]</h2><p>å±‚åºsoftmaxæ˜¯å¦ä¸€ç§å¸¸ç”¨çš„è¿‘ä¼¼è®­ç»ƒæ³•ã€‚å®ƒåˆ©ç”¨äº†äºŒå‰æ ‘è¿™ä¸€æ•°æ®ç»“æ„ã€‚æ ‘çš„æ¯ä¸ªå¶å­èŠ‚ç‚¹ä»£è¡¨ç€è¯å…¸Vä¸­çš„æ¯ä¸ªè¯ã€‚  </p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208224641.png"></p>
<p>å‡è®¾L(w)ä¸ºä»äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹åˆ°è¯w&lt;çš„å¶å­èŠ‚ç‚¹çš„è·¯å¾„ï¼ˆåŒ…æ‹¬æ ¹å’Œå¶å­èŠ‚ç‚¹ï¼‰ä¸Šçš„èŠ‚ç‚¹æ•°ã€‚è®¾n(w,j)ä¸ºè¯¥è·¯å¾„ä¸Šç¬¬jä¸ªèŠ‚ç‚¹ï¼Œå¹¶è®¾è¯¥èŠ‚ç‚¹çš„å‘é‡ä¸ºun(w,j)ã€‚ä»¥ä¸Šå›¾ä¸ºä¾‹ï¼šL(w3)=4ã€‚è®¾è¯å…¸ä¸­çš„è¯wiçš„è¯å‘é‡ä¸ºviã€‚é‚£ä¹ˆï¼Œè·³å­—æ¨¡å‹å’Œè¿ç»­è¯è¢‹æ¨¡å‹æ‰€éœ€è¦è®¡ç®—çš„ç»™å®šè¯wiç”Ÿæˆè¯wçš„æ¡ä»¶æ¦‚ç‡ä¸ºï¼š<img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208224651.png"><br>å…¶ä¸­Ïƒ(x)=1/(1+exp(âˆ’x))ï¼ŒleftChild(n)æ˜¯èŠ‚ç‚¹nçš„å·¦å­©å­èŠ‚ç‚¹ï¼Œå¦‚æœåˆ¤æ–­xä¸ºçœŸï¼Œ[x]=1ï¼›åä¹‹[x]=âˆ’1ã€‚ç”±äºÏƒ(x)+Ïƒ(âˆ’x)=1ï¼Œç»™å®šè¯wiç”Ÿæˆè¯å…¸Vä¸­ä»»ä¸€è¯çš„æ¡ä»¶æ¦‚ç‡ä¹‹å’Œä¸º1è¿™ä¸€æ¡ä»¶ä¹Ÿå°†æ»¡è¶³ï¼š<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208224729.png"></p>
<p>è®©æˆ‘ä»¬è®¡ç®—ç»™å®šè¯wiç”Ÿæˆè¯w3çš„æ¡ä»¶æ¦‚ç‡ã€‚æˆ‘ä»¬éœ€è¦å°†wiçš„è¯å‘é‡viå’Œæ ¹èŠ‚ç‚¹åˆ°w3è·¯å¾„ä¸Šçš„éå¶å­èŠ‚ç‚¹å‘é‡ä¸€ä¸€æ±‚å†…ç§¯ã€‚ç”±äºåœ¨äºŒå‰æ ‘ä¸­ç”±æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹w3çš„è·¯å¾„ä¸Šéœ€è¦å‘å·¦ã€å‘å³ã€å†å‘å·¦åœ°éå†ï¼Œæˆ‘ä»¬å¾—åˆ°:<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208224736.png"></p>
<blockquote>
<p><strong>æ•´ä¸ªéå†çš„è·¯å¾„å·²ç»é€šè¿‡Huffmanç¼–ç å”¯ä¸€çš„ç¡®å®šäº†</strong></p>
</blockquote>
<p>åœ¨ä½¿ç”¨softmaxçš„è·³å­—æ¨¡å‹å’Œè¿ç»­è¯è¢‹æ¨¡å‹ä¸­ï¼Œè¯å‘é‡å’ŒäºŒå‰æ ‘ä¸­éå¶å­èŠ‚ç‚¹å‘é‡æ˜¯éœ€è¦å­¦ä¹ çš„æ¨¡å‹å‚æ•°ã€‚</p>
<p>å‡è®¾è¯å…¸Vå¾ˆå¤§ï¼Œæ¯æ¬¡è¿­ä»£çš„è®¡ç®—å¼€é”€ç”±O(|V|)ä¸‹é™è‡³O(log2|V|)ã€‚</p>
<p>æ¨èèµ„æ–™ï¼š<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fx-hacker%2FWordEmbedding" target="_blank" rel="noopener">å­¦ä¹ word2vecçš„ç»å…¸èµ„æ–™</a></p>
<h1 id="SVD"><a href="#SVD" class="headerlink" title="SVD"></a>SVD</h1><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208225228.png"></p>
<p>åˆ†è§£çŸ©é˜µï¼Œå°±å¯ä»¥å¾—åˆ°embeddingï¼Œå’Œæ¨èç³»ç»Ÿçš„æ€è·¯ä¸€æ ·ã€‚SVDä¹Ÿå­˜åœ¨ç»´æ•°é—®é¢˜ï¼Œä»¥åŠçŸ©é˜µåˆ†è§£çš„å›°éš¾ã€‚</p>
<h1 id="GloVeç®—æ³•-åŸºäºå±€éƒ¨å’Œå…¨å±€"><a href="#GloVeç®—æ³•-åŸºäºå±€éƒ¨å’Œå…¨å±€" class="headerlink" title="GloVeç®—æ³•-åŸºäºå±€éƒ¨å’Œå…¨å±€"></a>GloVeç®—æ³•-åŸºäºå±€éƒ¨å’Œå…¨å±€</h1><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208225801.png"><br>æ¯”è¾ƒSVDè¿™ç§count basedæ¨¡å‹ä¸Word2Vecè¿™ç§direct predictionæ¨¡å‹ï¼Œå®ƒä»¬å„æœ‰ä¼˜ç¼ºç‚¹ï¼šCount basedæ¨¡å‹ä¼˜ç‚¹æ˜¯è®­ç»ƒå¿«é€Ÿï¼Œå¹¶ä¸”æœ‰æ•ˆçš„åˆ©ç”¨äº†ç»Ÿè®¡ä¿¡æ¯ï¼Œç¼ºç‚¹æ˜¯å¯¹äºé«˜é¢‘è¯æ±‡è¾ƒä¸ºåå‘ï¼Œå¹¶ä¸”ä»…èƒ½æ¦‚æ‹¬è¯ç»„çš„ç›¸å…³æ€§ï¼Œè€Œä¸”æœ‰çš„æ—¶å€™äº§ç”Ÿçš„word vectorå¯¹äºè§£é‡Šè¯çš„å«ä¹‰å¦‚word analogyç­‰ä»»åŠ¡æ•ˆæœä¸å¥½ï¼›Direct Predictionä¼˜ç‚¹æ˜¯å¯ä»¥æ¦‚æ‹¬æ¯”ç›¸å…³æ€§æ›´ä¸ºå¤æ‚çš„ä¿¡æ¯ï¼Œè¿›è¡Œword analogyç­‰ä»»åŠ¡æ—¶æ•ˆæœè¾ƒå¥½ï¼Œç¼ºç‚¹æ˜¯å¯¹ç»Ÿè®¡ä¿¡æ¯åˆ©ç”¨çš„ä¸å¤Ÿå……åˆ†ã€‚æ‰€ä»¥Manningæ•™æˆä»–ä»¬æƒ³é‡‡å–ä¸€ç§æ–¹æ³•å¯ä»¥ç»“åˆä¸¤è€…çš„ä¼˜åŠ¿ï¼Œå¹¶å°†è¿™ç§ç®—æ³•å‘½åä¸ºGloVeï¼ˆGlobal Vectorsçš„ç¼©å†™ï¼‰ï¼Œè¡¨ç¤ºä»–ä»¬å¯ä»¥æœ‰æ•ˆçš„åˆ©ç”¨å…¨å±€çš„ç»Ÿè®¡ä¿¡æ¯ã€‚</p>
<p>é‚£ä¹ˆå¦‚ä½•æœ‰æ•ˆçš„åˆ©ç”¨word-word co-occurrence countå¹¶èƒ½å­¦ä¹ åˆ°è¯è¯­èƒŒåçš„å«ä¹‰å‘¢ï¼Ÿé¦–å…ˆä¸ºè¡¨è¿°é—®é¢˜ç®€æ´éœ€è¦ï¼Œå…ˆå®šä¹‰ä¸€äº›ç¬¦å·ï¼šå¯¹äºçŸ©é˜µXï¼Œ$X_{ij}$ä»£è¡¨äº†å•è¯ i å‡ºç°åœ¨å•è¯ j ä¸Šä¸‹æ–‡ä¸­çš„æ¬¡æ•°ï¼Œåˆ™$X_i=\sum_k X_{ij}$<br> å³ä»£è¡¨æ‰€æœ‰å‡ºç°åœ¨å•è¯ i çš„ä¸Šä¸‹æ–‡ä¸­çš„å•è¯æ¬¡æ•°ã€‚æˆ‘ä»¬ç”¨$P_{i j}=P(j | i)=\frac{X_{i j}}{X_{i}}$æ¥ä»£è¡¨å•è¯ j å‡ºç°åœ¨å•è¯ i ä¸Šä¸‹æ–‡ä¸­çš„æ¦‚ç‡ã€‚</p>
<p>æˆ‘ä»¬ç”¨ä¸€ä¸ªå°ä¾‹å­æ¥è§£é‡Šå¦‚ä½•åˆ©ç”¨co-occurrence probabilityæ¥è¡¨ç¤ºè¯æ±‡å«ä¹‰ï¼š<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208225816.png"><br>ä¾‹å¦‚æˆ‘ä»¬æƒ³åŒºåˆ†çƒ­åŠ›å­¦ä¸Šä¸¤ç§ä¸åŒçŠ¶æ€iceå†°ä¸è’¸æ±½steamï¼Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»å¯é€šè¿‡ä¸ä¸åŒçš„å•è¯ [å…¬å¼] çš„co-occurrence probability çš„æ¯”å€¼æ¥æè¿°ï¼Œä¾‹å¦‚å¯¹äºsolidå›ºæ€ï¼Œè™½ç„¶ $P(solidice)$ ä¸ $P(solidâˆ£steam)$æœ¬èº«å¾ˆå°ï¼Œä¸èƒ½é€éœ²æœ‰æ•ˆçš„ä¿¡æ¯ï¼Œä½†æ˜¯å®ƒä»¬çš„æ¯”å€¼$\frac{P(solid|ice)} {P(solid|steam)}$ å´è¾ƒå¤§ï¼Œå› ä¸ºsolidæ›´å¸¸ç”¨æ¥æè¿°iceçš„çŠ¶æ€è€Œä¸æ˜¯steamçš„çŠ¶æ€ï¼Œæ‰€ä»¥åœ¨iceçš„ä¸Šä¸‹æ–‡ä¸­å‡ºç°å‡ ç‡è¾ƒå¤§ï¼Œå¯¹äºgasåˆ™æ°æ°ç›¸åï¼Œè€Œå¯¹äºwaterè¿™ç§æè¿°iceä¸steamå‡å¯æˆ–è€…fashionè¿™ç§ä¸ä¸¤è€…éƒ½æ²¡ä»€ä¹ˆè”ç³»çš„å•è¯ï¼Œåˆ™æ¯”å€¼æ¥è¿‘äº1ã€‚æ‰€ä»¥ç›¸è¾ƒäºå•çº¯çš„co-occurrence probabilityï¼Œå®é™…ä¸Šco-occurrence probabilityçš„ç›¸å¯¹æ¯”å€¼æ›´æœ‰æ„ä¹‰ã€‚</p>
<p>é€šè¿‡å®šä¹‰å¦‚ä¸‹çš„æŸå¤±å‡½æ•°ï¼š<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208230330.png"></p>
<p>ä¼˜ç‚¹æ˜¯è®­ç»ƒå¿«ï¼Œå°æ•°æ®é›†è¡¨ç°å¥½ã€‚<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208233632.png"></p>
]]></content>
      <categories>
        <category>CS224n</category>
      </categories>
      <tags>
        <tag>NLP</tag>
      </tags>
  </entry>
  <entry>
    <title>CS224n-1 åˆæ­¥æ¢ç´¢ï¼ŒèƒŒæ™¯ä»‹ç»  </title>
    <url>/2020/CS224n-1-%E5%88%9D%E6%AD%A5%E6%8E%A2%E7%B4%A2%EF%BC%8C%E8%83%8C%E6%99%AF%E4%BB%8B%E7%BB%8D/</url>
    <content><![CDATA[<p>NLPæŒç»­å‡æ¸©ï¼Œä½œä¸ºå…¥é—¨è¯¾ç¨‹ï¼Œ224nå£°åè¿œæ‰¬ã€‚<br>å¬äº†10èŠ‚è¯¾ä¹‹åï¼Œæœç„¶æ„Ÿè§‰ä¸æ„§æ˜¯æ–¯å¦ç¦ã€‚<br>è¿™é—¨è¯¾é€»è¾‘å¾ˆæ¸…æ™°ï¼ˆé‡åˆ°ä»€ä¹ˆé—®é¢˜ï¼Œäº§ç”Ÿä»€ä¹ˆæ€è·¯ï¼Œåšäº†ä»€ä¹ˆæ¢ç´¢æ¨¡å‹ï¼Œæ€ä¹ˆè§£å†³é—®é¢˜ï¼‰ï¼Œè€Œä¸æ˜¯ç›´æ¥çš„æ‰”å‡ºæ¥ä¸€ä¸ªæ¨¡å‹ï¼Œä¹‹å‰é‡åˆ°å¾ˆå¤šè€å¸ˆè¿™æ ·ï¼Œè®©äººæ‘¸ä¸åˆ°å¤´è„‘ï¼›è¿™é—¨è¯¾ä¼šè®²å¦‚ä½•åšä¸€ä¸ªç ”ç©¶ä»¥åŠå¦‚ä½•å†™ä¸€ç¯‡paperã€‚è¿™äº›è™½ç„¶ä¸æ˜¯NLPå¿…å¤‡ï¼Œæ˜¯ä¸€äº›æ™®ä¸–çš„çŸ¥è¯†ï¼Œä½†æ˜¯è¯¾å ‚ä¸Šä¸è®²ï¼Œå­¦ç”Ÿä¹Ÿå¾ˆéš¾å®Œå…¨äº†è§£åˆ°ï¼ŒåŸºæœ¬ä¸Šéƒ½ã€æ˜¯è‡ªå·±æ‘¸ç´¢ã€‚</p><a id="more"></a>
<p>æ€»çš„æ¥è¯´ï¼Œè§‰å¾—ç›¸è§æ¨æ™šï¼Œè™½ç„¶æœ‰ç‚¹éš¾ï¼Œä½†æ˜¯å­¦çš„å¾ˆèˆ’æœï¼ç°åœ¨å¼€å§‹æ•´ç†æ¯èŠ‚è¯¾çš„ç¬”è®°ã€‚</p>
<hr>
<p>Lecture 1: Introduction and Word Vectors ç¬¬ä¸€èŠ‚è¯¾ä¸»è¦æ˜¯ä»‹ç»èƒŒæ™¯</p>
<h1 id="The-course-10-mins"><a href="#The-course-10-mins" class="headerlink" title="The course (10 mins)"></a>The course (10 mins)</h1><h2 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h2><p><strong>è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰</strong>æ˜¯è®¡ç®—ç§‘å­¦ã€AIã€è¯­è¨€å­¦çš„äº¤å‰å­¦ç§‘ï¼Œå…¶ç›®çš„æ˜¯ä¸ºäº†è®©æœºå™¨èƒ½å¤Ÿå¤„ç†æˆ–è€…æ˜¯â€œç†è§£â€è‡ªç„¶è¯­è¨€ï¼Œæ¯”å¦‚å¯ä»¥é€šè¿‡è¯´è¯è®©æœºå™¨ä¸ºæˆ‘ä»¬å®šä¼šè®®ã€ä¹°ä¸œè¥¿ã€‚æœºå™¨å®Œå…¨ç†è§£æ˜¯ä¸å¤§å¯èƒ½çš„ï¼Œå®Œå…¨ç†è§£åŸºæœ¬ç­‰åŒäºAIå®Œå…¨å®ç°äº†ã€‚</p>
<h2 id="å¦‚ä½•è¡¨ç¤ºè¯ä¹‰ï¼Ÿ"><a href="#å¦‚ä½•è¡¨ç¤ºè¯ä¹‰ï¼Ÿ" class="headerlink" title="å¦‚ä½•è¡¨ç¤ºè¯ä¹‰ï¼Ÿ"></a>å¦‚ä½•è¡¨ç¤ºè¯ä¹‰ï¼Ÿ</h2><ul>
<li><p>Defï¼šmeaningï¼šå°±æ˜¯äººå†™çš„ï¼Œè¯´çš„ï¼ŒçŸ­è¯­å¥å­ç¬¦å·æ¥è¡¨è¾¾çš„æƒ³æ³•</p>
<h2 id="å¦‚ä½•ç”¨è®¡ç®—æœºè¡¨è¾¾è¯ä¹‰ï¼Ÿ"><a href="#å¦‚ä½•ç”¨è®¡ç®—æœºè¡¨è¾¾è¯ä¹‰ï¼Ÿ" class="headerlink" title="å¦‚ä½•ç”¨è®¡ç®—æœºè¡¨è¾¾è¯ä¹‰ï¼Ÿ"></a>å¦‚ä½•ç”¨è®¡ç®—æœºè¡¨è¾¾è¯ä¹‰ï¼Ÿ</h2><h3 id="WordNetï¼š"><a href="#WordNetï¼š" class="headerlink" title="WordNetï¼š"></a>WordNetï¼š</h3><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208165156.png"></p>
<p>WordNetæ˜¯äººä¸ºçš„æ”¶å½•äº†è¿‘ä¹‰è¯å’Œç›¸ä¼¼è¯ã€‚<br>å­˜åœ¨çš„é—®é¢˜æ˜¯ï¼šæ²¡åŠæ³•ç»Ÿè®¡åˆ°ç»†å¾®å·®åˆ«ï¼›æ²¡æœ‰æ–°è¯ï¼›éœ€è¦äººä¸ºçš„ç»Ÿè®¡è¾“å…¥ï¼›ä¸èƒ½è®¡ç®—ç›¸ä¼¼åº¦ï¼›ä¾èµ–ç”Ÿæˆè¯åº“çš„ä¸»è§‚ã€‚</p>
</li>
</ul>
<h3 id="æŠŠè¯å½“åšç¦»æ•£å˜é‡one-hot"><a href="#æŠŠè¯å½“åšç¦»æ•£å˜é‡one-hot" class="headerlink" title="æŠŠè¯å½“åšç¦»æ•£å˜é‡one-hot"></a>æŠŠè¯å½“åšç¦»æ•£å˜é‡one-hot</h3><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208165732.png"></p>
<p> å­˜åœ¨çš„é—®é¢˜æ˜¯ï¼šè¯åº“é•¿åº¦å¤ªå¤§ï¼›ä¸èƒ½è®¡ç®—ç›¸ä¼¼åº¦ï¼›</p>
<h3 id="é€šè¿‡ä¸Šä¸‹æ–‡è¡¨ç¤º"><a href="#é€šè¿‡ä¸Šä¸‹æ–‡è¡¨ç¤º" class="headerlink" title="é€šè¿‡ä¸Šä¸‹æ–‡è¡¨ç¤º"></a>é€šè¿‡ä¸Šä¸‹æ–‡è¡¨ç¤º</h3><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208170015.png"><br>é€šè¿‡ä¸Šä¸‹æ–‡çš„æ€è·¯ï¼Œå¯ä»¥å¼•å‡ºä¸»æµæ–¹æ³•Word vectorsï¼ˆword embeddings or word representationsï¼‰ã€‚<br>æ¯ä¸€ä¸ªè¯å¯¹åº”ä¸€ä¸ªNç»´åº¦çš„å‘é‡ï¼ŒNä¸€èˆ¬å‡ ç™¾ç»´ã€‚</p>
<h1 id="Word2vec"><a href="#Word2vec" class="headerlink" title="Word2vec"></a>Word2vec</h1><p>ä»2013å¹´å¼€å§‹æœ‰äº†Word2vecï¼Œå¦‚ä½•ç”Ÿæˆå‘é‡çš„æ–¹æ³•é€æ¸å‡ºç°ã€‚</p>
<p>æ€è·¯ï¼š</p>
<ul>
<li>æœ‰ä¸€ä¸ªå¤§çš„è¯­æ–™åº“</li>
<li>æ¯ä¸ªè¯éƒ½è¡¨ç¤ºæˆå‘é‡</li>
<li>éå†æ¯ä¸ªè¯ï¼Œä¸­é—´çš„è¯å½“åšcï¼Œå‘¨å›´çš„å‡ ä¸ªå½“åšo</li>
<li>é€šè¿‡è®¡ç®—æ¯ä¸ªè¯å‘é‡å’Œå‘¨å›´è¯å‘é‡å‡ºç°çš„æ¦‚ç‡</li>
<li>è°ƒæ•´è¯å‘é‡ï¼Œè®©æ¦‚ç‡æœ€å¤§</li>
</ul>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208171649.png"></p>
<p>ç›®æ ‡å‡½æ•°ï¼š</p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208171826.png"></p>
<p>ç†è§£ï¼šè¿™é‡Œå°±æ˜¯å¯¹äºè¯­æ–™(Data)çš„æ¯ä¸ªè¯tï¼Œå¯¹åº”å‰åjä½ç½®çš„è¯ï¼Œæ˜¯è¯aå’Œè¯bçš„æ¦‚ç‡Pï¼Œéƒ½ä¹˜èµ·æ¥ã€‚ï¼ˆè¿™é‡Œè¿˜æ˜¯å¾ˆæœ‰ç»Ÿè®¡è‰²å½©çš„)</p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200208172914.png"><br>æ³¨æ„ï¼šè¿™é‡Œéœ€è¦ç»´æŠ¤ä¸¤å¥—å‘é‡ï¼Œä¸€å¥—æ˜¯ä¸­é—´çš„ï¼Œä¸€å¥—æ˜¯å‘¨å›´çš„ã€‚</p>
<p>å…¶ä»–çš„éƒ½æ˜¯ä¸€äº›å¾®ç§¯åˆ†å’Œä¼˜åŒ–çš„çŸ¥è¯†ï¼Œä¸åšè®°å½•äº†ã€‚</p>
]]></content>
      <categories>
        <category>CS224n</category>
      </categories>
      <tags>
        <tag>NLP</tag>
      </tags>
  </entry>
  <entry>
    <title>FM,FFM,DeepFM </title>
    <url>/2020/FM-FFM%E4%B8%8E%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F/</url>
    <content><![CDATA[<p>æœ€è¿‘è¿‡å¹´åœ¨å®¶å› ä¸ºç–«æƒ…ä¸èƒ½å¤–å‡ºï¼Œéšæ‰‹æŠ“äº†æœ¬æ¨èç³»ç»Ÿå¼€å§‹çœ‹ã€‚æ¨¡å‹éƒ¨åˆ†ä»ä¼ ç»Ÿçš„é‚»åŸŸï¼ˆååŒè¿‡æ»¤ï¼‰åˆ°éšè¯­ä¹‰æ¨¡å‹ï¼ˆLFMï¼‰åˆ°çŸ©é˜µåˆ†è§£æ¨¡å‹ï¼ˆSVDï¼ŒSVD++ï¼‰ï¼ŒFMå’ŒFFMç­‰é‡åˆ°é¢‡å¤šé—®é¢˜ï¼Œåœ¨æ­¤æ¢³ç†ä¸€ä¸‹ã€‚</p><h1 id="FM"><a href="#FM" class="headerlink" title="FM"></a>FM</h1><p>FMçš„paperåœ°å€å¦‚ä¸‹ï¼š<a href="https://www.csie.ntu.edu.tw/~b97053/paper/Rendle2010FM.pdf" target="_blank" rel="noopener">https://www.csie.ntu.edu.tw/~b97053/paper/Rendle2010FM.pdf</a><br>FMä¸»è¦ç›®æ ‡æ˜¯ï¼šè§£å†³æ•°æ®ç¨€ç–çš„æƒ…å†µä¸‹ï¼Œç‰¹å¾æ€æ ·ç»„åˆçš„é—®é¢˜<br>æ ¹æ®paperçš„æè¿°ï¼ŒFMæœ‰ä¸€ä¸‹ä¸‰ä¸ªä¼˜ç‚¹ï¼š</p><a id="more"></a>

<ol>
<li>å¤„ç†ç¨€ç–æ•°æ®</li>
<li>FMæ¨¡å‹çš„æ—¶é—´å¤æ‚åº¦æ˜¯çº¿æ€§çš„</li>
<li>FMæ˜¯ä¸€ä¸ªé€šç”¨æ¨¡å‹ï¼Œå®ƒå¯ä»¥ç”¨äºä»»ä½•ç‰¹å¾ä¸ºå®å€¼çš„æƒ…å†µ</li>
</ol>
<ul>
<li>ä¸€èˆ¬çš„çº¿æ€§æ¨¡å‹ï¼š<br>$y=w_{0}+\sum_{i=1}^{n} w_{i} x_{i}$</li>
</ul>
<p>ä»ä¸Šé¢çš„å¼å­ä¸­çœ‹å‡ºï¼Œä¸€èˆ¬çš„çº¿æ€§æ¨¡å‹æ²¡æœ‰è€ƒè™‘ç‰¹å¾ä¹‹é—´çš„å…³è”ã€‚</p>
<ul>
<li>ä¸ºäº†ç®€åŒ–ï¼Œé‡‡ç”¨æœ€ç®€å•çš„<strong>äºŒé˜¶ç»„åˆ+å¤šé¡¹å¼ç›¸ä¹˜</strong>ä½œä¸ºå…³è”ç‰¹å¾çš„ä¾‹å­ã€‚<br>$y=w_{0}+\sum_{i=1}^{n} w_{i} x_{i}+\sum_{i=1}^{n} \sum_{j=i+1}^{n} w_{i j} x_{i} x_{j}$</li>
</ul>
<p>è¯¥å¤šé¡¹æ˜¯æ¨¡å‹ä¸çº¿æ€§æ¨¡å‹ç›¸æ¯”ï¼Œå¤šäº†ç‰¹å¾ç»„åˆçš„éƒ¨åˆ†ï¼Œç‰¹å¾ç»„åˆéƒ¨åˆ†çš„å‚æ•°æœ‰$\frac{n(n-1)}{2}$ä¸ª($w_{i j}$æ˜¯å¯¹ç§°çš„)ã€‚å¦‚æœç‰¹å¾éå¸¸ç¨€ç–ä¸”ç»´åº¦å¾ˆé«˜çš„è¯ï¼Œæ—¶é—´å¤æ‚åº¦O(N^2)ã€‚<br>æ‰€ä»¥ï¼Œé€šè¿‡å¼•å…¥è¾…åŠ©å‘é‡lantent vector $V_{i}=\left[v_{i 1}, v_{i 2}, \dots, v_{i k}\right]^{T}$æ¥è¡¨ç¤º$\frac{n(n-1)}{2}$ä¸ªå‚æ•°ã€‚ï¼ˆè¿™é‡Œå€Ÿç”¨äº†FunkSVD(LFMï¼ŒLatent Factor Model)çš„æ€æƒ³ï¼‰    </p>
<ul>
<li>FM<script type="math/tex; mode=display">y=w_{0}+\sum_{i=1}^{n} w_{i} x_{i}+\sum_{i=1}^{n} \sum_{j=i+1}^{n}<V_{i}, V_{j}>x_{i} x_{j}</script></li>
</ul>
<p>è¿™é‡Œï¼Œè¾…åŠ©å‘é‡Vçš„é•¿åº¦Kä¸€èˆ¬æ˜¯è¿œè¿œå°äºnçš„ï¼Œæ‰€ä»¥å‚æ•°é‡ä»$\frac{n(n-1)}{2}$ä¸ªå˜æˆäº†$nk$ï¼Œå‚æ•°é‡é™ä½ï¼Œè€Œä¸”æ¯ä¸€ä¸ªå‘é‡Vä¹Ÿè¡¨ç¤ºäº†xçš„ä¸€ä¸ªç»´åº¦ï¼Œæœ‰æ›´å¥½çš„è§£é‡Šæ€§ï¼Œ<strong>æœ¬è´¨ä¸Šæ˜¯åœ¨å¯¹ç‰¹å¾è¿›è¡Œembedding</strong>ã€‚ä¸”æ—¶é—´å¤æ‚åº¦é™ä¸ºO(kN).</p>
<p>æ—¶é—´å¤æ‚åº¦åŒ–ç®€åæ–¹å¯çœ‹å‡ºï¼š<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200129213611.png"></p>
<h1 id="FFM-Field-aware-Factorization-Machines"><a href="#FFM-Field-aware-Factorization-Machines" class="headerlink" title="FFM(Field-aware Factorization Machines)"></a>FFM(Field-aware Factorization Machines)</h1><p>FFMæ˜¯FMçš„å‡çº§ç‰ˆæ¨¡å‹ï¼Œå¼•å…¥äº†fieldçš„æ¦‚å¿µã€‚FFMæŠŠç›¸åŒæ€§è´¨çš„ç‰¹å¾å½’äºåŒä¸€ä¸ªfieldã€‚åœ¨FFMä¸­ï¼Œæ¯ä¸€ç»´ç‰¹å¾$x_i$ï¼Œé’ˆå¯¹æ¯ä¸€ç§field $f_j$ï¼Œéƒ½ä¼šå­¦ä¹ åˆ°ä¸€ä¸ªéšå‘é‡$V_{i,f_j}$ï¼Œå› æ­¤ï¼Œéšå‘é‡ä¸ä»…ä¸ç‰¹å¾ç›¸å…³ï¼Œä¹Ÿä¸fieldç›¸å…³ã€‚</p>
<p>è®¾æ ·æœ¬ä¸€å…±æœ‰nä¸ªç‰¹å¾, f ä¸ªfieldï¼Œé‚£ä¹ˆFFMçš„äºŒæ¬¡é¡¹æœ‰nfä¸ªéšå‘é‡ã€‚è€Œåœ¨FMæ¨¡å‹ä¸­ï¼Œæ¯ä¸€ç»´ç‰¹å¾çš„éšå‘é‡åªæœ‰ä¸€ä¸ªã€‚FMå¯ä»¥çœ‹åšFFMçš„ç‰¹ä¾‹ï¼Œå³æŠŠæ‰€æœ‰ç‰¹å¾éƒ½å½’å±åˆ°åŒä¸€ä¸ªfieldä¸­ã€‚</p>
<script type="math/tex; mode=display">y = w_0 + \Sigma_{i=1}^{n}w_{i} x_{i} + \Sigma_{i=1}^{n}\Sigma_{j=i+1}^{n}<V_{i,f_{j}}, V_{j,f_{i}}>x_{i}x_{j}</script><p>å¦‚æœéšå‘é‡çš„é•¿åº¦ä¸ºkï¼Œé‚£ä¹ˆFFMçš„äºŒæ¬¡é¡¹å‚æ•°æ•°é‡ä¸ºnfkï¼Œè¿œå¤šäºFMæ¨¡å‹ã€‚æ­¤å¤–ç”±äºéšå‘é‡ä¸fieldç›¸å…³ï¼ŒFFMäºŒæ¬¡é¡¹å¹¶ä¸èƒ½å¤ŸåŒ–ç®€ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º$O(kn^2)$ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ç”±äºFFMä¸­çš„latent vectoråªéœ€è¦å­¦ä¹ ç‰¹å®šçš„fieldï¼Œæ‰€ä»¥é€šå¸¸$K_{FFM} &lt;&lt; K_{FM}$ã€‚<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200130123459.png"></p>
<h1 id="DeepFM"><a href="#DeepFM" class="headerlink" title="DeepFM"></a>DeepFM</h1><p>å½“ç†è§£äº†FMï¼Œdeepfmçš„æ€è·¯ä¹Ÿå°±å¾ˆå¥½æ‡‚äº†ã€‚</p>
<p>fmæ˜¯ä½é˜¶ç‰¹å¾ï¼Œdnnæ˜¯é«˜é˜¶ç‰¹å¾ï¼ŒæŠŠä½é˜¶å’Œé«˜é˜¶ç‰¹å¾å¹¶è¡Œå°±æ˜¯deepFM<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200130132900.png"><br>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹DeepFMçš„æ¨¡å‹ç»“æ„ï¼š</p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200130135729.png"><br>FMéƒ¨åˆ†æ˜¯ä¸€ä¸ªå› å­åˆ†è§£æœºã€‚å…³äºå› å­åˆ†è§£æœºå¯ä»¥å‚é˜…æ–‡ç« [Rendle, 2010] Steffen Rendle. Factorization machines. In ICDM, 2010.ã€‚å› ä¸ºå¼•å…¥äº†éšå˜é‡çš„åŸå› ï¼Œå¯¹äºå‡ ä¹ä¸å‡ºç°æˆ–è€…å¾ˆå°‘å‡ºç°çš„éšå˜é‡ï¼ŒFMä¹Ÿå¯ä»¥å¾ˆå¥½çš„å­¦ä¹ ã€‚<br><strong>æ·±åº¦éƒ¨åˆ†</strong><br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200130135817.png"></p>
<p>æ·±åº¦éƒ¨åˆ†æ˜¯ä¸€ä¸ªå‰é¦ˆç¥ç»ç½‘ç»œã€‚ä¸å›¾åƒæˆ–è€…è¯­éŸ³è¿™ç±»è¾“å…¥ä¸åŒï¼Œå›¾åƒè¯­éŸ³çš„è¾“å…¥ä¸€èˆ¬æ˜¯è¿ç»­è€Œä¸”å¯†é›†çš„ï¼Œç„¶è€Œç”¨äºCTRçš„è¾“å…¥ä¸€èˆ¬æ˜¯åŠå…¶ç¨€ç–çš„ã€‚å› æ­¤éœ€è¦é‡æ–°è®¾è®¡ç½‘ç»œç»“æ„ã€‚å…·ä½“å®ç°ä¸­ä¸ºï¼Œåœ¨ç¬¬ä¸€å±‚éšå«å±‚ä¹‹å‰ï¼Œå¼•å…¥ä¸€ä¸ªåµŒå…¥å±‚æ¥å®Œæˆå°†è¾“å…¥å‘é‡å‹ç¼©åˆ°ä½ç»´ç¨ å¯†å‘é‡ã€‚</p>
<p>  <img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200130135833.png"><br>  åµŒå…¥å±‚(embedding layer)çš„ç»“æ„å¦‚ä¸Šå›¾æ‰€ç¤ºã€‚å½“å‰ç½‘ç»œç»“æ„æœ‰ä¸¤ä¸ªæœ‰è¶£çš„ç‰¹æ€§ï¼Œ1ï¼‰å°½ç®¡ä¸åŒfieldçš„è¾“å…¥é•¿åº¦ä¸åŒï¼Œä½†æ˜¯embeddingä¹‹åå‘é‡çš„é•¿åº¦å‡ä¸ºKã€‚2)åœ¨FMé‡Œå¾—åˆ°çš„éšå˜é‡Vikç°åœ¨ä½œä¸ºäº†åµŒå…¥å±‚ç½‘ç»œçš„æƒé‡ã€‚</p>
<p>è¿™é‡Œçš„ç¬¬äºŒç‚¹å¦‚ä½•ç†è§£å‘¢ï¼Œå‡è®¾æˆ‘ä»¬çš„k=5ï¼Œé¦–å…ˆï¼Œå¯¹äºè¾“å…¥çš„ä¸€æ¡è®°å½•ï¼ŒåŒä¸€ä¸ªfield åªæœ‰ä¸€ä¸ªä½ç½®æ˜¯1ï¼Œé‚£ä¹ˆåœ¨ç”±è¾“å…¥å¾—åˆ°dense vectorçš„è¿‡ç¨‹ä¸­ï¼Œè¾“å…¥å±‚åªæœ‰ä¸€ä¸ªç¥ç»å…ƒèµ·ä½œç”¨ï¼Œå¾—åˆ°çš„dense vectorå…¶å®å°±æ˜¯è¾“å…¥å±‚åˆ°embeddingå±‚è¯¥ç¥ç»å…ƒç›¸è¿çš„äº”æ¡çº¿çš„æƒé‡ï¼Œå³vi1ï¼Œvi2ï¼Œvi3ï¼Œvi4ï¼Œvi5ã€‚è¿™äº”ä¸ªå€¼ç»„åˆèµ·æ¥å°±æ˜¯æˆ‘ä»¬åœ¨FMä¸­æ‰€æåˆ°çš„Viã€‚åœ¨FMéƒ¨åˆ†å’ŒDNNéƒ¨åˆ†ï¼Œè¿™ä¸€å—æ˜¯å…±äº«æƒé‡çš„ï¼Œå¯¹åŒä¸€ä¸ªç‰¹å¾æ¥è¯´ï¼Œå¾—åˆ°çš„Viæ˜¯ç›¸åŒçš„ã€‚</p>
<p>ä»£ç åœ°å€ï¼š<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2FChenglongChen%2Ftensorflow-DeepFM" target="_blank" rel="noopener">https://github.com/ChenglongChen/tensorflow-DeepFM</a></p>
<p>æ¢³ç†FMå‘å±•å†å²ï¼š<a href="https://zhuanlan.zhihu.com/p/52877868" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/52877868</a><br>å‚è€ƒFMï¼š<a href="https://blog.csdn.net/John_xyz/article/details/78933253" target="_blank" rel="noopener">https://blog.csdn.net/John_xyz/article/details/78933253</a><br>å¸¦ä¸¾ä¾‹çš„è§£é‡Šï¼š<a href="https://blog.csdn.net/baymax_007/article/details/83931698" target="_blank" rel="noopener">https://blog.csdn.net/baymax_007/article/details/83931698</a><br>æ¨èç³»ç»Ÿé‡ä¸Šæ·±åº¦å­¦ä¹ ç³»åˆ—1-3ï¼š<a href="https://www.jianshu.com/p/6f1c2643d31b" target="_blank" rel="noopener">https://www.jianshu.com/p/6f1c2643d31b</a></p>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>æ¨èç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title>2020é¦™æ¸¯é©¬æ‹‰æ¾å¤‡èµ›</title>
    <url>/2020/2020%E9%A6%99%E6%B8%AF%E9%A9%AC%E6%8B%89%E6%9D%BE%E5%A4%87%E8%B5%9B/</url>
    <content><![CDATA[<p>2020é¦™æ¸¯é©¬æ‹‰æ¾å€’è®¡æ—¶ï¼š</p><hr><p>å¤‡èµ›æ—¥è®°</p><h1 id="1æœˆ26æ—¥"><a href="#1æœˆ26æ—¥" class="headerlink" title="1æœˆ26æ—¥"></a>1æœˆ26æ—¥</h1><p>å› ä¸ºè‚ºç‚ï¼Œå¤§èµ›å–æ¶ˆã€‚ æ¸£é©¬æœ‰ç¼˜å†è§ã€‚<br><img width="50%" data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200126115659.png"></p><h1 id="1æœˆ14æ—¥"><a href="#1æœˆ14æ—¥" class="headerlink" title="1æœˆ14æ—¥"></a>1æœˆ14æ—¥</h1><p>æ—©ä¸Šè·‘äº†5å…¬é‡Œï¼Œå…¬å›­é«˜ä½èµ·ä¼ï¼Œä¸Šå¡ä¸‹å¡å¾ˆä¸èˆ’æœã€‚é€Ÿåº¦ä¹Ÿæä¸ä¸Šæ¥ï¼Œå°±å½“æ˜¯ç¬¬ä¸€æ¬¡çƒ­èº«äº†ã€‚</p><h1 id="1æœˆ13æ—¥"><a href="#1æœˆ13æ—¥" class="headerlink" title="1æœˆ13æ—¥"></a>1æœˆ13æ—¥</h1><p>å‘¨ä¸€å¼€å®Œç»„ä¼šå·²ç»11ç‚¹äº†ï¼Œæ”¾å¼ƒäº†ã€‚</p><a id="more"></a>





<h1 id="1æœˆ12æ—¥-å‘ç°åœºåœ°ï¼Œåˆæ­¥çƒ­èº«ï¼Œå¼€å§‹å¤‡èµ›"><a href="#1æœˆ12æ—¥-å‘ç°åœºåœ°ï¼Œåˆæ­¥çƒ­èº«ï¼Œå¼€å§‹å¤‡èµ›" class="headerlink" title="1æœˆ12æ—¥ å‘ç°åœºåœ°ï¼Œåˆæ­¥çƒ­èº«ï¼Œå¼€å§‹å¤‡èµ›"></a>1æœˆ12æ—¥ å‘ç°åœºåœ°ï¼Œåˆæ­¥çƒ­èº«ï¼Œå¼€å§‹å¤‡èµ›</h1><p>æˆ‘æ˜¯å¤§äºŒçš„æ—¶å€™å¼€å§‹çƒ­çˆ±è¿åŠ¨çš„ï¼Œå½“æ—¶ä¹Ÿå¥‡æ€ªï¼Œæ€»æƒ³çƒ­çˆ±ç‚¹ä»€ä¹ˆã€‚æ²¡æƒ³åˆ°è·‘æ­¥åšæŒäº†ä¸€å¹´å¤šï¼Œæ‰æ”¾å¼ƒã€‚å½“æ—¶ä¸çŸ¥é“å“ªæ¥çš„çƒ­æƒ…ï¼Œå…­ä¸ƒç‚¹èµ·åºŠå»è·‘ç æ±Ÿè¾¹ï¼Œä¸€è·‘å°±æ˜¯åæ¥å…¬é‡Œï¼Œä¸Šå¤´çš„æ—¶å€™æ—©ä¸Š8ç‚¹çš„è¯¾ï¼Œæˆ‘ä¹Ÿè¦6ç‚¹å»è·‘æ­¥ã€‚ç°åœ¨çœŸçš„æ²¡æœ‰é‚£ä¹ˆå…´å¥‹äº†233333ã€‚å½“æ—¶çš„æƒ³æ³•å°±æ˜¯å‚åŠ ä¸€æ¬¡é©¬æ‹‰æ¾è¯æ˜ä¸€ä¸‹è‡ªå·±ã€‚æœ¬ç§‘å››å¹´ï¼ŒæŠ¥åäº†ä¸‰æ¬¡å¹¿å·é©¬æ‹‰æ¾çš„åŠé©¬ï¼Œç»“æœä¸‰æ¬¡éƒ½æ²¡æœ‰ä¸­ç­¾ã€‚å®³ï¼Œç°åœ¨è·‘ä¸ªæ­¥éƒ½è¦æ’é˜Ÿçš„å—ï¼Ÿåˆ°ä¹‹åå…´è¶£ä¹Ÿå°±æ…¢æ…¢å‡å¼±äº†ã€‚</p>
<p>è€Œæ‰“è´¥è·‘æ­¥çš„æ˜¯å¦ä¸€ä¸ªçƒ­çˆ±ï¼Œå¥èº«ã€‚è¿ç»­å»äº†å¥èº«æˆ¿ä¸¤å¹´ï¼Œä¸€å‘¨ä¸‰æ¬¡ä»¥ä¸Šï¼Œè®©æˆ‘å­¦ä¹ äº†å‡ ä¹æ‰€æœ‰bç«™å»ºè®¾upä¸»çš„æ•™ç¨‹ï¼Œåœ¨å­¦æ ¡çš„è‹±ä¸œå¥èº«æˆ¿ä¹Ÿç®—æ˜¯â€œæœ‰å¤´æœ‰è„¸â€çš„äººã€‚è®¤è¯†äº†è®¸å¤šå°è€å¼Ÿã€‚</p>
<p>å®³ï¼Œæ‰¯è¿œäº†ã€‚ä¸Šå­¦æœŸåœ¨é¦™æ¸¯ï¼Œçœ‹åˆ°é¦™æ¸¯é©¬æ‹‰æ¾çš„æŠ¥åï¼Œæ¯«ä¸çŠ¹è±«çš„ç›´æ¥æŠ¥åäº†ã€‚æ—¶é—´æ˜¯2æœˆ8å·ï¼Œä¹Ÿå°±æ˜¯å¼€å­¦åä¸€å¤©ã€‚ç¦»ç°åœ¨ä¹Ÿåªæœ‰ä¸åˆ°ä¸€ä¸ªæœˆçš„æ—¶é—´ï¼Œè¿‘å‡ ä¸ªæœˆæˆ‘å¥½åƒæ‡’åšï¼ŒåŠ ç­ä¸¥é‡ï¼Œå…¬å¸é™„è¿‘ä¹Ÿæ²¡æœ‰å¾ˆå¥½çš„å¥èº«æˆ¿(å…¶å®æ˜¯æ²¡æœ‰å»æ‰¾)ã€‚åæ­£å°±æ˜¯å¿ƒè‚ºéƒ½ä¸‹é™äº†å¾ˆå¤šï¼ŒåŠ›é‡ä¹Ÿå¼±ï¼Œå…­ä¸ƒä¸ªå¼•ä½“éƒ½åšä¸äº†(å»å¹´è¿˜èƒ½ä¸€æ¬¡30ä¸ªå‘¢ï¼Œå“¼)ã€‚</p>
<p>æ‰€ä»¥ï¼Œæ¥ä¸‹æ¥ä¸‰å‘¨ï¼Œæˆ‘è¦è¿›å…¥ç–¯ç‹‚å¤‡èµ›é˜¶æ®µï¼Œä»Šæ™šå»å…¬å¸å¯¹é¢çš„å…¬å›­ï¼Œå‘ç°ç¯å¢ƒè¿˜ä¸é”™ï¼Œé¢ç§¯æŒºå¤§ï¼Œä¸€åœˆåˆä¸¤å…¬é‡Œå·¦å³ã€‚æœ‰å¾ˆå¤šè·‘æ­¥çš„äººå’Œå¥èº«è€å¤´ã€‚æ‰€ä»¥æˆ‘å¯ä»¥æ¥ä¸‹æ¥ä¸€å‘¨(11-19å·)å°±åœ¨å…¬å›­é”»ç‚¼ï¼Œç„¶åè¿‡å¹´å›å®¶åæ¥å¤©ï¼Œåœ¨å®¶çš„ä½“è‚²åœºï¼Œå¹´å(2æœˆ1å·-7å·)å†æ¥ä¸€å‘¨å…¬å›­é”»ç‚¼ï¼Œå°±è¦å»è·‘é©¬æ‹‰æ¾å•¦ã€‚</p>
<pre><code>&lt;div style=&quot;width:100%; height:50px;border:none;text-align:center&quot;&gt;
&lt;center&gt;&lt;iframe allowtransparency=&quot;yes&quot; frameborder=&quot;0&quot; src=&quot;/time.html&quot;/&gt;&lt;/center&gt;
&lt;/div&gt;
</code></pre>]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>è¿åŠ¨</tag>
      </tags>
  </entry>
  <entry>
    <title>Gitå†å…¥é—¨</title>
    <url>/2020/Git%E5%86%8D%E5%85%A5%E9%97%A8/</url>
    <content><![CDATA[<h1 id="è®¤è¯†å¤šå¹´ï¼Œä½†æˆ‘è¿˜æ˜¯ä¸æ‡‚ä½ â€”GIT"><a href="#è®¤è¯†å¤šå¹´ï¼Œä½†æˆ‘è¿˜æ˜¯ä¸æ‡‚ä½ â€”GIT" class="headerlink" title="è®¤è¯†å¤šå¹´ï¼Œä½†æˆ‘è¿˜æ˜¯ä¸æ‡‚ä½ â€”GIT"></a>è®¤è¯†å¤šå¹´ï¼Œä½†æˆ‘è¿˜æ˜¯ä¸æ‡‚ä½ â€”GIT</h1><p>è™½ç„¶ç”¨githubå·²ç»å¾ˆå¤šå¹´äº†ï¼Œä½†æ˜¯gitçš„å„ç§å‘½ä»¤æ²¡æ€ä¹ˆæ¥è§¦è¿‡ï¼Œèƒ½ç”¨çš„ä¹Ÿåªæ˜¯ç®€å•çš„cloneå’Œpullï¼Œä¹Ÿæ²¡ç”¨çœŸæ­£çš„ç†è§£gitçš„å†…æ¶µã€‚ä½œä¸ºå¤šäººåˆä½œå’Œç‰ˆæœ¬æ§åˆ¶çš„å·¥å…·ï¼Œgitå¼ºå¤§çš„ä¸€é¢æˆ‘è¿˜æ²¡æœ‰æ¥è§¦åˆ°ã€‚</p><a id="more"></a>
<p>æœ€è¿‘å®ä¹ çš„æ—¶å€™éœ€è¦ç¼–å†™cppæœåŠ¡ï¼Œå†™å¥½äº†å°±éœ€è¦git push åˆ°æ–°çš„åˆ†æ”¯å»ï¼Œç­‰å¾…å¯¼å¸ˆcode reviewï¼Œç„¶åmergeåˆ°masterï¼Œä¸­é—´é‡åˆ°å¾ˆå¤šå‘ï¼Œåœ¨æ­¤å°±ä¸€ç¯‡æ–‡ç« æ•´ç†å®Œæ‰€æœ‰gitæ–¹é¢çš„çŸ¥è¯†ã€‚</p>
<p>åˆšå¼€å§‹æ¥è§¦gitä¼šé‡åˆ°å¾ˆå¤šå‘½ä»¤ï¼Œè®°ä¸ä½æ²¡å…³ç³»ï¼Œå…ˆèŠ±ä¸¤ä¸ªå°æ—¶ç†è§£gitçš„æ¦‚å¿µï¼Œä¹‹åé‡åˆ°é—®é¢˜å†æŸ¥ã€‚<br>è¯¦ç»†æ•™ç¨‹å¯ä»¥çœ‹ï¼š<a href="https://www.runoob.com/git/git-tutorial.html" target="_blank" rel="noopener">https://www.runoob.com/git/git-tutorial.html</a></p>
<h1 id="ç‰ˆæœ¬æ§åˆ¶"><a href="#ç‰ˆæœ¬æ§åˆ¶" class="headerlink" title="ç‰ˆæœ¬æ§åˆ¶"></a>ç‰ˆæœ¬æ§åˆ¶</h1><p>ç‰ˆæœ¬æ§åˆ¶ï¼ˆRevision controlï¼‰æ˜¯ä¸€ç§åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­ç”¨äºç®¡ç†æˆ‘ä»¬å¯¹æ–‡ä»¶ã€ç›®å½•æˆ–å·¥ç¨‹ç­‰å†…å®¹çš„ä¿®æ”¹å†å²ï¼Œæ–¹ä¾¿æŸ¥çœ‹æ›´æ”¹å†å²è®°å½•ï¼Œå¤‡ä»½ä»¥ä¾¿æ¢å¤ä»¥å‰çš„ç‰ˆæœ¬çš„è½¯ä»¶å·¥ç¨‹æŠ€æœ¯ã€‚</p>
<ul>
<li>å®ç°è·¨åŒºåŸŸå¤šäººååŒå¼€å‘</li>
<li>è¿½è¸ªå’Œè®°è½½ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ–‡ä»¶çš„å†å²è®°å½•</li>
<li>ç»„ç»‡å’Œä¿æŠ¤ä½ çš„æºä»£ç å’Œæ–‡æ¡£</li>
<li>ç»Ÿè®¡å·¥ä½œé‡</li>
<li>å¹¶è¡Œå¼€å‘ã€æé«˜å¼€å‘æ•ˆç‡</li>
<li>è·Ÿè¸ªè®°å½•æ•´ä¸ªè½¯ä»¶çš„å¼€å‘è¿‡ç¨‹</li>
<li>å‡è½»å¼€å‘äººå‘˜çš„è´Ÿæ‹…ï¼ŒèŠ‚çœæ—¶é—´ï¼ŒåŒæ—¶é™ä½äººä¸ºé”™è¯¯</li>
</ul>
<p><strong>ç®€å•è¯´å°±æ˜¯ç”¨äºç®¡ç†å¤šäººååŒå¼€å‘é¡¹ç›®çš„æŠ€æœ¯ã€‚</strong></p>
<h1 id="gitçš„åŸºæœ¬æ¦‚å¿µ"><a href="#gitçš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="gitçš„åŸºæœ¬æ¦‚å¿µ"></a>gitçš„åŸºæœ¬æ¦‚å¿µ</h1><h2 id="å·¥ä½œåŒº"><a href="#å·¥ä½œåŒº" class="headerlink" title="å·¥ä½œåŒº"></a>å·¥ä½œåŒº</h2><p>Gitæœ¬åœ°æœ‰å››ä¸ªå·¥ä½œåŒºåŸŸï¼šå·¥ä½œç›®å½•ï¼ˆWorking Directoryï¼‰ã€æš‚å­˜åŒº(Stage/Index)ã€èµ„æºåº“(Repositoryæˆ–Git Directory)ã€gitä»“åº“(Remote Directory)ã€‚æ–‡ä»¶åœ¨è¿™å››ä¸ªåŒºåŸŸä¹‹é—´çš„è½¬æ¢å…³ç³»å¦‚ä¸‹ï¼š<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200111202138.png"><br><strong>Workspace</strong>ï¼š å·¥ä½œåŒºï¼Œå°±æ˜¯ä½ å¹³æ—¶å­˜æ”¾é¡¹ç›®ä»£ç çš„åœ°æ–¹<br><strong>Index / Stage</strong>ï¼š æš‚å­˜åŒºï¼Œç”¨äºä¸´æ—¶å­˜æ”¾ä½ çš„æ”¹åŠ¨ï¼Œäº‹å®ä¸Šå®ƒåªæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œä¿å­˜å³å°†æäº¤åˆ°æ–‡ä»¶åˆ—è¡¨ä¿¡æ¯<br><strong>Repository</strong>ï¼š ä»“åº“åŒºï¼ˆæˆ–ç‰ˆæœ¬åº“ï¼‰ï¼Œå°±æ˜¯å®‰å…¨å­˜æ”¾æ•°æ®çš„ä½ç½®ï¼Œè¿™é‡Œé¢æœ‰ä½ æäº¤åˆ°æ‰€æœ‰ç‰ˆæœ¬çš„æ•°æ®ã€‚å…¶ä¸­HEADæŒ‡å‘æœ€æ–°æ”¾å…¥ä»“åº“çš„ç‰ˆæœ¬<br><strong>Remote</strong>ï¼š è¿œç¨‹ä»“åº“ï¼Œæ‰˜ç®¡ä»£ç çš„æœåŠ¡å™¨ï¼Œå¯ä»¥ç®€å•çš„è®¤ä¸ºæ˜¯ä½ é¡¹ç›®ç»„ä¸­çš„ä¸€å°ç”µè„‘ç”¨äºè¿œç¨‹æ•°æ®äº¤æ¢</p>
<h1 id="å·¥ä½œæµç¨‹"><a href="#å·¥ä½œæµç¨‹" class="headerlink" title="å·¥ä½œæµç¨‹"></a>å·¥ä½œæµç¨‹</h1><ol>
<li>cloneé¡¹ç›®æˆ–è€…åˆ›å»ºé¡¹ç›®Repository</li>
<li>å†™ä»£ç </li>
<li>git add ä¿®æ”¹äº†çš„æœ‰ä»·å€¼çš„ä»£ç åˆ°index</li>
<li>index commitæäº¤åˆ°æœ¬åœ°çš„é¡¹ç›®Repository</li>
<li>æœ¬åœ°æ”¹å¥½äº†å°±ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Šremote</li>
</ol>
<h1 id="æ–‡ä»¶çš„å››ç§çŠ¶æ€"><a href="#æ–‡ä»¶çš„å››ç§çŠ¶æ€" class="headerlink" title="æ–‡ä»¶çš„å››ç§çŠ¶æ€"></a>æ–‡ä»¶çš„å››ç§çŠ¶æ€</h1><p>ç‰ˆæœ¬æ§åˆ¶å°±æ˜¯å¯¹æ–‡ä»¶çš„ç‰ˆæœ¬æ§åˆ¶ï¼Œè¦å¯¹æ–‡ä»¶è¿›è¡Œä¿®æ”¹ã€æäº¤ç­‰æ“ä½œï¼Œé¦–å…ˆè¦çŸ¥é“æ–‡ä»¶å½“å‰åœ¨ä»€ä¹ˆçŠ¶æ€ï¼Œä¸ç„¶å¯èƒ½ä¼šæäº¤äº†ç°åœ¨è¿˜ä¸æƒ³æäº¤çš„æ–‡ä»¶ï¼Œæˆ–è€…è¦æäº¤çš„æ–‡ä»¶æ²¡æäº¤ä¸Šã€‚</p>
<p>GITä¸å…³å¿ƒæ–‡ä»¶ä¸¤ä¸ªç‰ˆæœ¬ä¹‹é—´çš„å…·ä½“å·®åˆ«ï¼Œè€Œæ˜¯å…³å¿ƒæ–‡ä»¶çš„æ•´ä½“æ˜¯å¦æœ‰æ”¹å˜ï¼Œè‹¥æ–‡ä»¶è¢«æ”¹å˜ï¼Œåœ¨æ·»åŠ æäº¤æ—¶å°±ç”Ÿæˆæ–‡ä»¶æ–°ç‰ˆæœ¬çš„å¿«ç…§ï¼Œè€Œåˆ¤æ–­æ–‡ä»¶æ•´ä½“æ˜¯å¦æ”¹å˜çš„æ–¹æ³•å°±æ˜¯ç”¨SHA-1ç®—æ³•è®¡ç®—æ–‡ä»¶çš„æ ¡éªŒå’Œã€‚</p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200111202617.png"><br><strong>Untracked:</strong> æœªè·Ÿè¸ª, æ­¤æ–‡ä»¶åœ¨æ–‡ä»¶å¤¹ä¸­, ä½†å¹¶æ²¡æœ‰åŠ å…¥åˆ°gitåº“, ä¸å‚ä¸ç‰ˆæœ¬æ§åˆ¶. é€šè¿‡git add çŠ¶æ€å˜ä¸ºStaged.</p>
<p><strong>Unmodify:</strong> æ–‡ä»¶å·²ç»å…¥åº“, æœªä¿®æ”¹, å³ç‰ˆæœ¬åº“ä¸­çš„æ–‡ä»¶å¿«ç…§å†…å®¹ä¸æ–‡ä»¶å¤¹ä¸­å®Œå…¨ä¸€è‡´. è¿™ç§ç±»å‹çš„æ–‡ä»¶æœ‰ä¸¤ç§å»å¤„, å¦‚æœå®ƒè¢«ä¿®æ”¹, è€Œå˜ä¸ºModified. å¦‚æœä½¿ç”¨git rmç§»å‡ºç‰ˆæœ¬åº“, åˆ™æˆä¸ºUntrackedæ–‡ä»¶</p>
<p><strong>Modified:</strong>  æ–‡ä»¶å·²ä¿®æ”¹, ä»…ä»…æ˜¯ä¿®æ”¹, å¹¶æ²¡æœ‰è¿›è¡Œå…¶ä»–çš„æ“ä½œ. è¿™ä¸ªæ–‡ä»¶ä¹Ÿæœ‰ä¸¤ä¸ªå»å¤„, é€šè¿‡git addå¯è¿›å…¥æš‚å­˜stagedçŠ¶æ€, ä½¿ç”¨git checkout åˆ™ä¸¢å¼ƒä¿®æ”¹è¿‡,è¿”å›åˆ°unmodifyçŠ¶æ€, è¿™ä¸ªgit checkoutå³ä»åº“ä¸­å–å‡ºæ–‡ä»¶, è¦†ç›–å½“å‰ä¿®æ”¹</p>
<p><strong>Staged:</strong> æš‚å­˜çŠ¶æ€. æ‰§è¡Œgit commitåˆ™å°†ä¿®æ”¹åŒæ­¥åˆ°åº“ä¸­, è¿™æ—¶åº“ä¸­çš„æ–‡ä»¶å’Œæœ¬åœ°æ–‡ä»¶åˆå˜ä¸ºä¸€è‡´, æ–‡ä»¶ä¸ºUnmodifyçŠ¶æ€. æ‰§è¡Œgit reset HEAD filenameå–æ¶ˆæš‚å­˜,æ–‡ä»¶çŠ¶æ€ä¸ºModified</p>
<p>ä¸‹é¢çš„å›¾å¾ˆå¥½çš„è§£é‡Šäº†è¿™å››ç§çŠ¶æ€çš„è½¬å˜ï¼š</p>
<p><img alt data-src="https://img2018.cnblogs.com/blog/1090617/201810/1090617-20181008212245877-52530897.png"></p>
<h1 id="å››ä¸ªåŒºåŸŸä¹‹é—´çš„å‘½ä»¤"><a href="#å››ä¸ªåŒºåŸŸä¹‹é—´çš„å‘½ä»¤" class="headerlink" title="å››ä¸ªåŒºåŸŸä¹‹é—´çš„å‘½ä»¤"></a>å››ä¸ªåŒºåŸŸä¹‹é—´çš„å‘½ä»¤</h1><h4 id="1ã€æ–°å»ºä»£ç åº“"><a href="#1ã€æ–°å»ºä»£ç åº“" class="headerlink" title="1ã€æ–°å»ºä»£ç åº“"></a>1ã€æ–°å»ºä»£ç åº“</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># åœ¨å½“å‰ç›®å½•æ–°å»ºä¸€ä¸ªGitä»£ç åº“</span><br><span class="line">git init # æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œå°†å…¶åˆå§‹åŒ–ä¸ºGitä»£ç åº“</span><br><span class="line">git init [project-name] # ä¸‹è½½ä¸€ä¸ªé¡¹ç›®å’Œå®ƒçš„æ•´ä¸ªä»£ç å†å²</span><br><span class="line">git clone [url]</span><br></pre></td></tr></table></figure>
<h4 id="2ã€æŸ¥çœ‹æ–‡ä»¶çŠ¶æ€"><a href="#2ã€æŸ¥çœ‹æ–‡ä»¶çŠ¶æ€" class="headerlink" title="2ã€æŸ¥çœ‹æ–‡ä»¶çŠ¶æ€"></a>2ã€æŸ¥çœ‹æ–‡ä»¶çŠ¶æ€</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#æŸ¥çœ‹æŒ‡å®šæ–‡ä»¶çŠ¶æ€</span><br><span class="line">git status [filename] #æŸ¥çœ‹æ‰€æœ‰æ–‡ä»¶çŠ¶æ€</span><br><span class="line">git status</span><br></pre></td></tr></table></figure>
<h4 id="3ã€å·¥ä½œåŒº-lt-â€”-gt-æš‚å­˜åŒº"><a href="#3ã€å·¥ä½œåŒº-lt-â€”-gt-æš‚å­˜åŒº" class="headerlink" title="3ã€å·¥ä½œåŒº&lt;â€”&gt;æš‚å­˜åŒº"></a>3ã€å·¥ä½œåŒº&lt;â€”&gt;æš‚å­˜åŒº</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æ·»åŠ æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒº</span><br><span class="line">git add [file1] [file2] ... # æ·»åŠ æŒ‡å®šç›®å½•åˆ°æš‚å­˜åŒºï¼ŒåŒ…æ‹¬å­ç›®å½•</span><br><span class="line">git add [dir] # æ·»åŠ å½“å‰ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº</span><br><span class="line">git add . #å½“æˆ‘ä»¬éœ€è¦åˆ é™¤æš‚å­˜åŒºæˆ–åˆ†æ”¯ä¸Šçš„æ–‡ä»¶, åŒæ—¶å·¥ä½œåŒºä¹Ÿä¸éœ€è¦è¿™ä¸ªæ–‡ä»¶äº†, å¯ä»¥ä½¿ç”¨ï¼ˆâš ï¸ï¼‰</span><br><span class="line">git rm file_path #å½“æˆ‘ä»¬éœ€è¦åˆ é™¤æš‚å­˜åŒºæˆ–åˆ†æ”¯ä¸Šçš„æ–‡ä»¶, ä½†æœ¬åœ°åˆéœ€è¦ä½¿ç”¨, è¿™ä¸ªæ—¶å€™ç›´æ¥pushé‚£è¾¹è¿™ä¸ªæ–‡ä»¶å°±æ²¡æœ‰ï¼Œå¦‚æœpushä¹‹å‰é‡æ–°addé‚£ä¹ˆè¿˜æ˜¯ä¼šæœ‰ã€‚</span><br><span class="line">git rm --cached file_path #ç›´æ¥åŠ æ–‡ä»¶å   ä»æš‚å­˜åŒºå°†æ–‡ä»¶æ¢å¤åˆ°å·¥ä½œåŒºï¼Œå¦‚æœå·¥ä½œåŒºå·²ç»æœ‰è¯¥æ–‡ä»¶ï¼Œåˆ™ä¼šé€‰æ‹©è¦†ç›– #åŠ äº†ã€åˆ†æ”¯åã€‘ +æ–‡ä»¶å  åˆ™è¡¨ç¤ºä»åˆ†æ”¯åä¸ºæ‰€å†™çš„åˆ†æ”¯åä¸­æ‹‰å–æ–‡ä»¶ å¹¶è¦†ç›–å·¥ä½œåŒºé‡Œçš„æ–‡ä»¶</span><br><span class="line">git checkout</span><br></pre></td></tr></table></figure>
<h4 id="4ã€å·¥ä½œåŒº-lt-â€”-gt-èµ„æºåº“ï¼ˆç‰ˆæœ¬åº“ï¼‰"><a href="#4ã€å·¥ä½œåŒº-lt-â€”-gt-èµ„æºåº“ï¼ˆç‰ˆæœ¬åº“ï¼‰" class="headerlink" title="4ã€å·¥ä½œåŒº&lt;â€”&gt;èµ„æºåº“ï¼ˆç‰ˆæœ¬åº“ï¼‰"></a>4ã€å·¥ä½œåŒº&lt;â€”&gt;èµ„æºåº“ï¼ˆç‰ˆæœ¬åº“ï¼‰</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#å°†æš‚å­˜åŒº--&gt;èµ„æºåº“ï¼ˆç‰ˆæœ¬åº“ï¼‰</span><br><span class="line">git commit -m &apos;è¯¥æ¬¡æäº¤è¯´æ˜&apos;</span><br><span class="line">#å¦‚æœå‡ºç°:å°†ä¸å¿…è¦çš„æ–‡ä»¶commit æˆ–è€… ä¸Šæ¬¡æäº¤è§‰å¾—æ˜¯é”™çš„  æˆ–è€… ä¸æƒ³æ”¹å˜æš‚å­˜åŒºå†…å®¹ï¼Œåªæ˜¯æƒ³è°ƒæ•´æäº¤çš„ä¿¡æ¯</span><br><span class="line">#ç§»é™¤ä¸å¿…è¦çš„æ·»åŠ åˆ°æš‚å­˜åŒºçš„æ–‡ä»¶</span><br><span class="line">git reset HEAD æ–‡ä»¶å #å»æ‰ä¸Šä¸€æ¬¡çš„æäº¤ï¼ˆä¼šç›´æ¥å˜æˆaddä¹‹å‰çŠ¶æ€ï¼‰ </span><br><span class="line">git reset HEAD^ </span><br><span class="line">#å»æ‰ä¸Šä¸€æ¬¡çš„æäº¤ï¼ˆå˜æˆaddä¹‹åï¼Œcommitä¹‹å‰çŠ¶æ€ï¼‰ </span><br><span class="line">git reset --soft  HEAD^</span><br></pre></td></tr></table></figure>
<h4 id="5ã€è¿œç¨‹æ“ä½œ"><a href="#5ã€è¿œç¨‹æ“ä½œ" class="headerlink" title="5ã€è¿œç¨‹æ“ä½œ"></a>5ã€è¿œç¨‹æ“ä½œ</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># å–å›è¿œç¨‹ä»“åº“çš„å˜åŒ–ï¼Œå¹¶ä¸æœ¬åœ°åˆ†æ”¯åˆå¹¶</span><br><span class="line">git pull # ä¸Šä¼ æœ¬åœ°æŒ‡å®šåˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“</span><br><span class="line">git push</span><br></pre></td></tr></table></figure>
<h4 id="6ã€å…¶å®ƒå¸¸ç”¨å‘½ä»¤"><a href="#6ã€å…¶å®ƒå¸¸ç”¨å‘½ä»¤" class="headerlink" title="6ã€å…¶å®ƒå¸¸ç”¨å‘½ä»¤"></a>6ã€å…¶å®ƒå¸¸ç”¨å‘½ä»¤</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æ˜¾ç¤ºå½“å‰çš„Gité…ç½®</span><br><span class="line">git config --list # ç¼–è¾‘Gité…ç½®æ–‡ä»¶</span><br><span class="line">git config -e [--global] #åˆæ¬¡commitä¹‹å‰ï¼Œéœ€è¦é…ç½®ç”¨æˆ·é‚®ç®±åŠç”¨æˆ·åï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</span><br><span class="line">git config --global user.email &quot;you@example.com&quot;</span><br><span class="line">git config --global user.name &quot;Your Name&quot;</span><br><span class="line">#è°ƒå‡ºGitçš„å¸®åŠ©æ–‡æ¡£</span><br><span class="line">git --help #æŸ¥çœ‹æŸä¸ªå…·ä½“å‘½ä»¤çš„å¸®åŠ©æ–‡æ¡£</span><br><span class="line">git +å‘½ä»¤ --help #æŸ¥çœ‹gitçš„ç‰ˆæœ¬</span><br><span class="line">git --version</span><br></pre></td></tr></table></figure>
<p>å‚è€ƒï¼š<a href="https://www.cnblogs.com/qdhxhz/p/9757390.html" target="_blank" rel="noopener">https://www.cnblogs.com/qdhxhz/p/9757390.html</a></p>
]]></content>
      <categories>
        <category>å·¥ç¨‹</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>linuxä»å…¥é—¨åˆ°å†å…¥é—¨</title>
    <url>/2020/linux%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%86%8D%E5%85%A5%E9%97%A8/</url>
    <content><![CDATA[<h1 id="Linux-å·¥ç¨‹å¿…å¤‡"><a href="#Linux-å·¥ç¨‹å¿…å¤‡" class="headerlink" title="Linux-å·¥ç¨‹å¿…å¤‡"></a>Linux-å·¥ç¨‹å¿…å¤‡</h1><p>ä¸€ç›´ä»¥æ¥ï¼Œæ²¡æœ‰ç³»ç»Ÿçš„å­¦ä¹ è¿‡linuxï¼Œæ¯æ¬¡é‡åˆ°å·¥ç¨‹é—®é¢˜ï¼Œæ€»æ˜¯é ç€ç™¾åº¦å’Œè°·æ­Œï¼Œæ•ˆç‡å¾ˆä½ã€‚<br>æœ€è¿‘éœ€è¦éƒ¨ç½²C++æœåŠ¡ï¼Œæ‰€ä»¥éœ€è¦LINUXç¯å¢ƒï¼Œåœ¨æ­¤ç«‹å¸–ï¼ŒæŒç»­æ›´æ–°ï¼Œç›´åˆ°ç†Ÿç»ƒä½¿ç”¨linuxã€‚</p><h1 id="ç”¨æˆ·ç®¡ç†"><a href="#ç”¨æˆ·ç®¡ç†" class="headerlink" title="ç”¨æˆ·ç®¡ç†"></a>ç”¨æˆ·ç®¡ç†</h1><a id="more"></a>
<ul>
<li>æŸ¥çœ‹å½“å‰ç”¨æˆ·<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">$ cat /etc/passwd</span><br></pre></td></tr></table></figure></li>
<li>æ·»åŠ æ–°ç”¨æˆ·<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ adduser é€‰é¡¹ username</span><br><span class="line">Â·</span><br><span class="line">é€‰é¡¹å¯ä»¥æœ‰ï¼š</span><br><span class="line">-c 		comment æŒ‡å®šä¸€æ®µæ³¨é‡Šæ€§æè¿°ã€‚</span><br><span class="line">-d(å¸¸ç”¨ï¼‰  ç›®å½• æŒ‡å®šç”¨æˆ·ä¸»ç›®å½•ï¼Œå¦‚æœæ­¤ç›®å½•ä¸å­˜åœ¨ï¼Œåˆ™åŒæ—¶ä½¿ç”¨-mé€‰é¡¹ï¼Œå¯ä»¥åˆ›å»ºä¸»ç›®å½•ã€‚</span><br><span class="line">-g(å¸¸ç”¨ï¼‰  ç”¨æˆ·ç»„ æŒ‡å®šç”¨æˆ·æ‰€å±çš„ç”¨æˆ·ç»„ã€‚</span><br><span class="line">-G 		ç”¨æˆ·ç»„ï¼Œç”¨æˆ·ç»„ æŒ‡å®šç”¨æˆ·æ‰€å±çš„é™„åŠ ç»„ã€‚</span><br><span class="line">-s 		Shellæ–‡ä»¶ æŒ‡å®šç”¨æˆ·çš„ç™»å½•Shellã€‚</span><br><span class="line">-u 		ç”¨æˆ·å· æŒ‡å®šç”¨æˆ·çš„ç”¨æˆ·å·ï¼Œå¦‚æœåŒæ—¶æœ‰-oé€‰é¡¹ï¼Œåˆ™å¯ä»¥é‡å¤ä½¿ç”¨å…¶ä»–ç”¨æˆ·çš„æ ‡è¯†å·ã€‚</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>ä¾‹1ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">useradd â€“d /usr/sam</span><br></pre></td></tr></table></figure><br>æ­¤å‘½ä»¤åˆ›å»ºäº†ä¸€ä¸ªç”¨æˆ·samï¼Œå…¶ä¸­-dé€‰é¡¹ç”¨æ¥ä¸ºç™»å½•åsamäº§ç”Ÿä¸€ä¸ªä¸»ç›®å½•/usr/samï¼ˆ/usrä¸ºé»˜è®¤çš„ç”¨æˆ·ä¸»ç›®å½•æ‰€åœ¨çš„çˆ¶ç›®å½•ï¼‰ã€‚</p>
<p>ä¾‹2ï¼š<br>ä»£ç :<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">useradd -s /bin/sh -g group â€“G adm,root gem</span><br></pre></td></tr></table></figure><br>æ­¤å‘½ä»¤æ–°å»ºäº†ä¸€ä¸ªç”¨æˆ·gemï¼Œè¯¥ç”¨æˆ·çš„ç™»å½•Shellæ˜¯/bin/shï¼Œå®ƒå±äºgroupç”¨æˆ·ç»„ï¼ŒåŒæ—¶åˆå±äºadmå’Œrootç”¨æˆ·ç»„ï¼Œå…¶ä¸­groupç”¨æˆ·ç»„æ˜¯å…¶ä¸»ç»„ã€‚</p>
<ul>
<li>ç»™æ–°ç”¨æˆ·åŠ å¯†ç <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ passwd é€‰é¡¹(ä¸é€‰æœ€ç®€å•) ç”¨æˆ·å</span><br><span class="line">Â·</span><br><span class="line">-l é”å®šå£ä»¤ï¼Œå³ç¦ç”¨è´¦å·ã€‚</span><br><span class="line">-u å£ä»¤è§£é”ã€‚</span><br><span class="line">-d ä½¿è´¦å·æ— å£ä»¤ã€‚</span><br><span class="line">-f å¼ºè¿«ç”¨æˆ·ä¸‹æ¬¡ç™»å½•æ—¶ä¿®æ”¹å£ä»¤ã€‚</span><br><span class="line">å¦‚æœé»˜è®¤ç”¨æˆ·åï¼Œåˆ™ä¿®æ”¹å½“å‰ç”¨æˆ·çš„å£ä»¤ã€‚</span><br><span class="line">ç„¶åè¾“å…¥ä¸¤æ¬¡å¯†ç å°±è¡Œäº†ã€‚</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li>åˆ é™¤è´¦å·<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ userdel é€‰é¡¹(å»ºè®®-rï¼‰ è´¦æˆ·å</span><br><span class="line">-r å¯ä»¥æŠŠä¸»ç›®å½•ä¸€èµ·åˆ é™¤</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="æ–‡ä»¶æƒé™ä¸è®¿é—®æ§åˆ¶"><a href="#æ–‡ä»¶æƒé™ä¸è®¿é—®æ§åˆ¶" class="headerlink" title="æ–‡ä»¶æƒé™ä¸è®¿é—®æ§åˆ¶"></a>æ–‡ä»¶æƒé™ä¸è®¿é—®æ§åˆ¶</h1><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20200107231346.png"><br>Linuxæ–‡ä»¶ç³»ç»Ÿæƒé™ï¼š</p>
<p><img alt data-src="https://img-blog.csdn.net/20180711160810276?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjQ0MjcxMw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>
<h1 id="æ–‡ä»¶æ“ä½œ"><a href="#æ–‡ä»¶æ“ä½œ" class="headerlink" title="æ–‡ä»¶æ“ä½œ"></a>æ–‡ä»¶æ“ä½œ</h1><p><strong>ä¸€ã€Linuxç³»ç»Ÿçš„ç»“æ„</strong></p>
<p>ã€€ã€€1ã€Linuxæ˜¯ä¸€ä¸ªå€’æ ‘å‹ç»“æ„ï¼Œæœ€å¤§çš„ç›®å½•åç§°ä¸ºâ€œ/â€ï¼ˆæ ¹ç›®å½•ï¼‰</p>
<p>ã€€ã€€2ã€Linuxç³»ç»Ÿçš„äºŒçº§ç›®å½•</p>
<p>ã€€ã€€/binã€€ã€€ ##binaryäºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ï¼Œç³»ç»Ÿå¸¸è§„å‘½ä»¤<br>ã€€ã€€/boot ã€€ã€€ ##å¯åŠ¨ç›®å½•ï¼Œå­˜æ”¾ç³»ç»Ÿè‡ªåŠ¨å¯åŠ¨æ–‡ä»¶ï¼Œå†…æ ¸ï¼Œåˆå§‹åŒ–ç¨‹åº<br>ã€€ã€€/dev ##ç³»ç»Ÿè®¾å¤‡ç®¡ç†æ–‡ä»¶<br>ã€€ã€€/etcã€€ã€€ ##å¤§å¤šæ•°ç³»ç»Ÿé…ç½®æ–‡ä»¶å­˜æ”¾è·¯å¾„<br>ã€€ã€€/home ã€€ ##æ™®é€šç”¨æˆ·å®¶ç›®å½•ï¼ˆ/home/studentï¼‰<br>ã€€ã€€/media ã€€ ##ä¸´æ—¶çš„æŒ‚è½½ç‚¹<br>ã€€ã€€/libã€€ã€€ ##å‡½æ•°åº“<br>ã€€ã€€/lib64 ã€€ã€€ ##64ä½å‡½æ•°åº“ï¼ˆå«æœ‰.bllï¼‰<br>ã€€ã€€/mnt ã€€ã€€ ##ä¸´æ—¶æŒ‚è½½ç‚¹<br>ã€€ã€€/runã€€ã€€ ##è‡ªåŠ¨ä¸´æ—¶è®¾å¤‡æŒ‚è½½ç‚¹ï¼ˆuç›˜ï¼‰<br>ã€€ã€€/optã€€ã€€ ##ç¬¬ä¸‰æ–¹è½¯ä»¶å®‰è£…çš„ä½ç½®<br>ã€€ã€€/sbin ã€€ã€€ ##ç³»ç»Ÿç®¡ç†å‘½ä»¤ï¼Œé€šå¸¸åªæœ‰rootå¯ä»¥æ‰§è¡Œ<br>ã€€ã€€/proc ã€€ã€€ ##ç³»ç»Ÿç¡¬ä»¶ä¿¡æ¯å’Œç³»ç»Ÿè¿›ç¨‹ä¿¡æ¯~~~~<br>ã€€ã€€/srv ã€€ã€€ ##ç³»ç»Ÿæ•°æ®ç›®å½•<br>ã€€ã€€/var ã€€ã€€ ##ç³»ç»Ÿæ•°æ®ç›®å½•<br>ã€€ã€€/sysã€€ã€€ ##å†…æ ¸ç›¸å…³æ•°æ®<br>ã€€ã€€/usr ã€€ã€€ã€€ ##ç”¨æˆ·ç›¸å…³ä¿¡æ¯æ•°æ®<br>ã€€ã€€/tmp ã€€ã€€ ##ä¸´æ—¶æ–‡ä»¶äº§ç”Ÿç›®å½•<br>ã€€ã€€/rootã€€ã€€ ##è¶…çº§ç”¨æˆ·å®¶ç›®å½•</p>
<p>ã€€ã€€<strong><em>ä½¿ç”¨mountå‘½ä»¤æ¥æ›´æ”¹ä¸´æ—¶è®¾å¤‡çš„æŒ‚è½½ç‚¹</em></strong></p>
<p><strong>äºŒã€æ–‡ä»¶ç®¡ç†å‘½ä»¤</strong></p>
<p>ã€€ã€€1ã€æ–‡ä»¶çš„å»ºç«‹</p>
<p>ã€€ã€€å‘½ä»¤ï¼štouchã€€filenameã€€ã€€## é€šå¸¸ç”¨æ¥åˆ›å»ºæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ä¿®æ”¹æ–‡ä»¶çš„æ—¶é—´æˆ³</p>
<p>ã€€ã€€æ³¨é‡Šï¼šæ—¶é—´æˆ³åˆ†ä¸ºatimeã€mtimeã€ctime</p>
<p>ã€€ã€€ã€€ã€€atimeã€€ï¼šæ–‡ä»¶å†…å®¹è¢«è®¿é—®çš„æ—¶é—´æ ‡è¯†</p>
<p>ã€€ã€€ã€€ã€€mtimeã€€ï¼šæ–‡ä»¶å†…å®¹è¢«ä¿®æ”¹çš„æ—¶é—´æ ‡è¯†</p>
<p>ã€€ã€€ã€€ã€€ctimeã€€ ï¼šæ–‡ä»¶å±æ€§æˆ–æ–‡ä»¶å†…å®¹è¢«ä¿®æ”¹çš„æ—¶é—´æ ‡è¯†</p>
<p>ã€€ã€€å®ä¾‹ï¼šä½¿ç”¨<strong><em> touch file </em></strong> å»ºç«‹ä¸€ä¸ªåä¸ºfileçš„æ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨statå‘½ä»¤è¿›è¡ŒæŸ¥çœ‹</p>
<p>ã€€ã€€<img alt data-src="https://images2018.cnblogs.com/blog/1438668/201807/1438668-20180716191242211-1069722524.png"></p>
<ul>
<li>ã€€è‹¥è¿›è¡Œæ–‡ä»¶çš„æŸ¥çœ‹åï¼Œåˆ™è®¿é—®æ—¶é—´å°†ä¼šè¢«æ”¹å˜ï¼Œç»“æœå¦‚ä¸‹ï¼š</li>
</ul>
<p>ã€€ã€€<img alt data-src="https://images2018.cnblogs.com/blog/1438668/201807/1438668-20180716191629214-2046658304.png"></p>
<ul>
<li>ã€€è‹¥æ–‡ä»¶è¿›è¡Œç¼–è¾‘åï¼Œåˆ™è®¿é—®æ—¶é—´ã€ä¿®æ”¹æ—¶é—´å’Œæ–‡ä»¶æ”¹å˜æ—¶é—´ä¸‰è€…å‡ä¼šå˜åŒ–ï¼Œç»“æœå¦‚ä¸‹ï¼š</li>
</ul>
<p>ã€€ã€€<img alt data-src="https://images2018.cnblogs.com/blog/1438668/201807/1438668-20180716192012796-193555712.png"></p>
<p>ã€€ã€€æ³¨æ„ï¼šä½¿ç”¨<strong><em> touch â€”help </em></strong>è¿›è¡Œå…¶ä»–å‚æ•°çš„æŸ¥çœ‹</p>
<p>ã€€ã€€2ã€ç›®å½•çš„å»ºç«‹</p>
<p>ã€€ã€€å‘½ä»¤ï¼šmkdirã€€directoryã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€## ç”¨æ¥å»ºç«‹åä¸ºdirectoryçš„ç›®å½•</p>
<p>ã€€ã€€ã€€ã€€ mkdirã€€-pã€€test/redcat/linuxã€€ã€€ ## -p è¿›è¡Œå¤šçº§ç›®å½•çš„åˆ›å»º</p>
<p>ã€€ã€€æ³¨é‡Šï¼šä¹Ÿå¯ä½¿ç”¨ mkdir â€”helpå‘½ä»¤è¿›è¡Œå‚æ•°çš„æŸ¥çœ‹</p>
<p>ã€€ã€€å®ä¾‹ï¼šä½¿ç”¨<strong><em> mkdir niu </em></strong>åˆ›å»ºä¸€ä¸ªç›®å½•åä¸ºniuï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<p>ã€€ã€€<img alt data-src="https://images2018.cnblogs.com/blog/1438668/201807/1438668-20180716192938835-574407116.png"></p>
<ul>
<li>ã€€å¤šçº§ç›®å½•åˆ›å»ºç»“æœå¦‚ä¸‹ï¼š</li>
</ul>
<p>ã€€ã€€<img alt data-src="https://images2018.cnblogs.com/blog/1438668/201807/1438668-20180716193136101-657056986.png"></p>
<p>ã€€ã€€3ã€æ–‡ä»¶çš„åˆ é™¤</p>
<p>ã€€ã€€å‘½ä»¤ï¼šrm ã€€fileã€€ã€€ã€€ã€€ ## è¿›è¡Œæ–‡ä»¶çš„åˆ é™¤</p>
<p>ã€€ã€€ã€€ã€€ rm ã€€-f ã€€testã€€ã€€## -f ä¸ºå¼ºè¡Œåˆ é™¤æ–‡ä»¶</p>
<p>ã€€ã€€å®ä¾‹ï¼šä½¿ç”¨<strong><em> ls file </em></strong>å‘½ä»¤åˆ é™¤æ–‡ä»¶fileï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<p>ã€€ã€€<img alt data-src="https://images2018.cnblogs.com/blog/1438668/201807/1438668-20180716193719450-1436996021.png"></p>
<p>ã€€ã€€4ã€ç›®å½•çš„åˆ é™¤</p>
<p>ã€€ã€€å‘½ä»¤ï¼šrm ã€€-r ã€€directoryã€€ã€€## -rè¡¨ç¤ºé€’å½’åˆ é™¤æ‰€æœ‰å†…å®¹</p>
<p>ã€€ã€€ã€€ã€€ rmã€€ -rã€€-f ã€€dirã€€ã€€ã€€## åˆ é™¤ç›®å½•ä¸å†æç¤º</p>
<p>ã€€ã€€ã€€ã€€ rm ã€€-rfã€€ã€€dirã€€ã€€ã€€ ## jç»“æœä¸ä¸Šä¸€ä¸ªç›¸åŒï¼Œä¸”æœ‰ -a -b -c= - abc = - cbaã€€</p>
<p>ã€€ã€€å®ä¾‹ï¼šä½¿ç”¨<strong><em> rm -rf test</em></strong> åˆ é™¤testç›®å½•ä»¥åŠtestç›®å½•ä¸‹çš„æ‰€æœ‰å†…å®¹ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<p>ã€€ã€€<img alt data-src="https://images2018.cnblogs.com/blog/1438668/201807/1438668-20180716194551519-1288801399.png"></p>
<p>ã€€ã€€5ã€æ–‡ä»¶ç¼–è¾‘</p>
<ul>
<li>ã€€gedit ç¼–è¾‘å™¨</li>
</ul>
<p>ã€€ã€€ã€€ã€€ã€€å‘½ä»¤ï¼šgeditã€€ã€€fileã€€ã€€## å¿…é¡»æœ‰å›¾å½¢ç•Œé¢ï¼Œè¿›è¡Œfileæ–‡ä»¶çš„ç¼–è¾‘</p>
<ul>
<li>ã€€vim ç¼–è¾‘å™¨</li>
</ul>
<p>ã€€ã€€ã€€ã€€ã€€å‘½ä»¤ï¼švimã€€file â€”â€”â€”&gt; æŒ‰ i è¿›å…¥insert æ¨¡å¼ â€”â€”â€”&gt; ä¹¦å†™å†…å®¹ â€”â€”â€”&gt; escé€€å‡ºinsertæ¨¡å¼ - â€”â€”-&gt; wqé€€å‡ºå¹¶ä¿å­˜</p>
<p>ã€€ã€€ å®ä¾‹ï¼šgeditä½¿ç”¨ï¼ˆä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å³å¯æ‰“å¼€fileæ–‡ä»¶ï¼Œå¹¶è¿›è¡Œç¼–è¾‘ï¼‰</p>
<p>ã€€ã€€<img alt data-src="https://images2018.cnblogs.com/blog/1438668/201807/1438668-20180716195422572-1655897153.png"></p>
<ul>
<li>ã€€ä½¿ç”¨vim.tinyå®ä¾‹åº”ç”¨å¦‚ä¸‹ï¼šï¼ˆvim å’Œvim.tinyåŠŸèƒ½ç±»ä¼¼ï¼‰</li>
</ul>
<p>ã€€ã€€<img alt data-src="https://images2018.cnblogs.com/blog/1438668/201807/1438668-20180716195752419-614443396.png"></p>
<p>ã€€ã€€###### ä½¿ç”¨vim ä¼šå‡ºç°å¼‚å¸¸æƒ…å†µ ######</p>
<p>ã€€ã€€å½“vimå¼‚å¸¸é€€å‡ºæ—¶ï¼Œä¼šç”Ÿæˆ.file.swpæ–‡ä»¶ï¼ˆåŸå› æ˜¯ä¿®æ”¹æ–‡ä»¶æœªä¿å­˜ï¼‰</p>
<p>ã€€ã€€å½“hellocæœªä¿å­˜åå†æ¬¡æ‰“å¼€æ—¶ï¼Œä¼šå‡ºç°ä»¥ä¸‹æƒ…å†µï¼šï¼ˆä¸‹é¢æ–‡å­—æ¥ç€å›¾çš„moreï¼‰<br>ã€€ <img alt data-src="https://images2018.cnblogs.com/blog/1438668/201807/1438668-20180716200340278-2049532639.png"></p>
<p>ã€€ã€€Swap file â€œ.hello.swpâ€ already exists!</p>
<p>ã€€ã€€[O]pen Read-Only, (E)dit anyway, (R)ecover, (D)elete it,ã€€ã€€ (Q)uit, (A)bort:<br>ã€€ã€€ã€€ã€€åªè¯»æ‰“å¼€ ã€€ã€€ã€€ ç»§ç»­ç¼–è¾‘ ã€€ æ¢å¤æ•°æ® ã€€ åˆ é™¤swapæ–‡ä»¶ é€€å‡º<br>ã€€ã€€åˆ†æï¼šæ— è®ºæŒ‰ã€oã€‘ã€eã€‘ã€rã€‘ã€qã€‘ã€aã€‘ä»»ä½•ä¸€ä¸ªéƒ½ä¸ä¼šåˆ é™¤.swpæ–‡ä»¶ï¼Œå†æ¬¡æ‰“å¼€è¿˜ä¼š</p>
<p>ã€€ã€€ã€€ã€€ã€€æœ‰è¿™æ ·çš„è¿™ä¸ªé—®é¢˜ï¼Œç›´åˆ°æŒ‰ã€Dã€‘åï¼Œ.swpè¢«åˆ é™¤ï¼Œvimæ¢å¤æ­£å¸¸ã€‚  </p>
<p>ã€€ã€€6ã€æ–‡ä»¶çš„å¤åˆ¶ï¼ˆå¤åˆ¶ç›®å½•çš„æ—¶å€™ç”¨- rï¼‰</p>
<p>ã€€ã€€å‘½ä»¤ï¼šcp ã€€sourcefileã€€objectfileã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€## è¡¨ç¤ºæŠŠè¿œæ–‡ä»¶å¤åˆ¶åˆ°ç›®æ ‡æ–‡ä»¶ã€€</p>
<p>ã€€ã€€ã€€ã€€ã€€cp ã€€-rã€€æºç›®å½•ã€€ç›®çš„åœ°ç›®å½•ã€€ã€€</p>
<p>ã€€ã€€ã€€ã€€ã€€cp ã€€æºæ–‡ä»¶1ã€€æºæ–‡ä»¶2ã€€ç›®çš„åœ°ç›®å½•ã€€ã€€ ã€€ã€€## ç›®çš„åœ°ç›®å½•å¿…é¡»å­˜åœ¨</p>
<p>ã€€ã€€ã€€ã€€ã€€cp ã€€-r ã€€æºç›®å½•1ã€€æºç›®å½•2ã€€ç›®çš„åœ°ç›®å½•ã€€ã€€ ## ç›®çš„åœ°ç›®å½•å¿…é¡»å­˜åœ¨</p>
<p>ã€€ã€€å®ä¾‹ï¼šæŠŠfileæ–‡ä»¶ä¸­çš„å†…å®¹å¤åˆ¶åˆ°file1ä¸­ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<p>ã€€ã€€<img alt data-src="https://images2018.cnblogs.com/blog/1438668/201807/1438668-20180716202413095-1447577145.png"></p>
<ul>
<li>ã€€ä½¿ç”¨ <strong><em> cp -r testã€€test1 </em></strong>å‘½ä»¤æŠŠtestç›®å½•ä¸‹å†…å®¹å¤åˆ¶åˆ°test1ç›®å½•ä¸­ï¼Œç»“æœå¦‚ä¸‹ï¼š</li>
</ul>
<p>ã€€ã€€<img alt data-src="https://images2018.cnblogs.com/blog/1438668/201807/1438668-20180716203157814-1198844011.png"></p>
<ul>
<li>ã€€ä½¿ç”¨ <strong><em> cp file1 file2 dir </em></strong>å‘½ä»¤ï¼ŒæŠŠfile1å’Œfile2æ–‡ä»¶å¤åˆ¶åˆ°ç›®å½•dirä¸‹ï¼Œç»“æœå¦‚ä¸‹ï¼š</li>
</ul>
<p>ã€€ã€€<img alt data-src="https://images2018.cnblogs.com/blog/1438668/201807/1438668-20180716203804044-2015492922.png"></p>
<ul>
<li>ã€€ä½¿ç”¨<strong><em> cp -r dir dir1 dir2 </em></strong>æŠŠç›®å½•dir1å’Œdir2å¤åˆ¶åˆ°ç›®å½•dir3ä¸‹ï¼Œç»“æœå¦‚ä¸‹ï¼š</li>
</ul>
<p>ã€€ã€€<img alt data-src="https://images2018.cnblogs.com/blog/1438668/201807/1438668-20180716204213938-2053126740.png"></p>
<p>ã€€ã€€7ã€æ–‡ä»¶çš„ç§»åŠ¨</p>
<p>ã€€ã€€å‘½ä»¤ï¼šmv ã€€æºæ–‡ä»¶ã€€ã€€ç›®çš„åœ°æ–‡ä»¶ã€€ã€€ã€€ã€€## é‡å‘½å</p>
<p>ã€€ã€€ã€€ã€€ã€€mvã€€ æºç›®å½•ã€€ã€€ç›®çš„åœ°ç›®å½•</p>
<p>ã€€ã€€å®ä¾‹ï¼šä½¿ç”¨<strong><em> mv file file1</em></strong>å‘½ä»¤ï¼ŒæŠŠfileé‡å‘½åä¸ºfile1ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<p>ã€€ã€€<img alt data-src="https://images2018.cnblogs.com/blog/1438668/201807/1438668-20180716204620780-1893321132.png"></p>
<p>ã€€ã€€ä½¿ç”¨<strong><em> mv niu/file test/ </em></strong>æŠŠniuç›®å½•ä¸‹çš„fileæ–‡ä»¶ç§»åŠ¨åˆ°testç›®å½•ä¸­ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<p>ã€€ã€€<img alt data-src="https://images2018.cnblogs.com/blog/1438668/201807/1438668-20180716204956300-1776343291.png"></p>
<p>ã€€ã€€ï¼ˆ.ä»£è¡¨å½“å‰ç›®å½•ï¼‰ä¾‹ï¼šæŠŠtestç›®å½•ä¸‹çš„file1å¤åˆ¶åˆ°å½“å‰ç›®å½•ä¸‹ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p>
<p>ã€€ã€€<img alt data-src="https://images2018.cnblogs.com/blog/1438668/201807/1438668-20180716205318027-1553458611.png"></p>
<p>ã€€ã€€æ³¨æ„ï¼šç›¸åŒç£ç›˜çš„æ–‡ä»¶ç§»åŠ¨æ˜¯é‡å‘½åçš„è¿‡ç¨‹ï¼Œä¸ç”¨ç£ç›˜çš„ç§»åŠ¨æ˜¯å¤åˆ¶åˆ é™¤çš„è¿‡ç¨‹ã€‚</p>
<p>ã€€ã€€8ã€æ–‡ä»¶çš„æŸ¥çœ‹</p>
<p>ã€€ã€€å‘½ä»¤ï¼šcatã€€filenameã€€ã€€ã€€ã€€## è¡¨ç¤ºæŸ¥çœ‹æ–‡ä»¶çš„å…¨éƒ¨å†…å®¹</p>
<p>ã€€ã€€ã€€ã€€ã€€cat ã€€-b ã€€filenameã€€ ## æŸ¥çœ‹å†…å®¹å¹¶æ˜¾ç¤ºè¡Œå·</p>
<p>ã€€ã€€ã€€ã€€ã€€lessã€€filenameã€€ã€€ã€€ ## åˆ†é¡µæµè§ˆ(ä»¥ä¸‹å‘½ä»¤åœ¨lesså‘½ä»¤ä¹‹åçš„æ“ä½œ)</p>
<p>ã€€ã€€ã€€ã€€ã€€ä¸Š|ä¸‹ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€## é€è¡Œç§»åŠ¨</p>
<p>ã€€ã€€ã€€ã€€ã€€pageu|pagednã€€ã€€ã€€ ## é€é¡µç§»åŠ¨</p>
<p>ã€€ã€€ã€€ã€€ã€€/å…³é”®å­—ã€€ã€€ã€€ã€€ã€€ã€€ã€€## é«˜äº®æ˜¾ç¤ºå…³é”®å­—ï¼Œnå‘ä¸‹åŒ¹é…ï¼ŒNå‘ä¸ŠåŒ¹é…</p>
<p>ã€€ã€€ã€€ã€€ã€€vã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€## è¿›å…¥vimæ¨¡å¼ï¼Œç„¶åæŒ‰iè¿›è¡Œç¼–è¾‘ï¼Œè¿”å›vimæ¨¡å¼æŒ‰esc</p>
<p>ã€€ã€€ã€€ã€€ã€€qã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€##é€€å‡ºvimæ¨¡å¼</p>
<p>ã€€ã€€å®ä¾‹ï¼šä½¿ç”¨<strong><em> cat file1</em></strong>å‘½ä»¤æŸ¥çœ‹file1ä¸­çš„å†…å®¹ï¼Œç»“æœå…¥ä¸‹ï¼š</p>
<p>ã€€ã€€<img alt data-src="https://images2018.cnblogs.com/blog/1438668/201807/1438668-20180716212743634-353476679.png"></p>
<ul>
<li>ã€€æŸ¥çœ‹å†…å®¹å¹¶æ˜¾ç¤ºè¡Œå·ï¼Œç»“æœå¦‚ä¸‹ï¼š</li>
</ul>
<p>ã€€ã€€<img alt data-src="https://images2018.cnblogs.com/blog/1438668/201807/1438668-20180716212922248-1273385407.png"></p>
<ul>
<li>ã€€less å‘½ä»¤æ—¢ä¿®æ”¹æ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¿«æ·é”®è¿›è¡ŒæŸ¥æ‰¾ï¼Œåœ¨æ­¤å°±ä¸æ”¾æˆªå›¾äº†ã€‚</li>
</ul>
<p>ã€€ã€€9ã€æ–‡ä»¶çš„å¯»å€</p>
<p>ã€€ã€€ç›¸å¯¹è·¯å¾„ï¼š</p>
<p>ã€€ã€€ã€€ã€€ã€€ã€€ç›¸å¯¹ä¸å½“å‰ç³»ç»Ÿæ‰€åœ¨çš„ç›®å½•çš„ä¸€ä¸ªæ–‡ä»¶åç§°çš„ç®€å†™ï¼›</p>
<p>ã€€ã€€ã€€ã€€ã€€ã€€æ­¤åç§°çœç•¥äº†ç³»ç»Ÿå½“å‰æ‰€åœ¨ç›®å½•çš„åç§°ï¼›</p>
<p>ã€€ã€€ã€€ã€€ã€€ã€€æ­¤åç§°ä¸ä»¥â€œ/â€å¼€å¤´ï¼›</p>
<p>ã€€ã€€ã€€ã€€ã€€ã€€æ­¤åç§°åœ¨å‘½ä»¤æ‰§è¡Œæ—¶ä¼šè‡ªåŠ¨åœ¨æ“ä½œå¯¹è±¡å‰åŠ å…¥â€pwdâ€æ‰€æ˜¾ç¤ºçš„å€¼ã€‚</p>
<p>ã€€ã€€ç»å¯¹è·¯å¾„ï¼š</p>
<p>ã€€ã€€ã€€ã€€ã€€ã€€ç»å¯¹è·¯å¾„æ˜¯æ–‡ä»¶åœ¨ç³»ç»Ÿä¸­çš„çœŸå®ä½ç½®ï¼›</p>
<p>ã€€ã€€ã€€ã€€ã€€ã€€æ­¤å‘½ä»¤ä»¥â€œ/â€å¼€å¤´ï¼›</p>
<p>ã€€ã€€ã€€ã€€ã€€ã€€æ­¤å‘½ä»¤åœ¨æ‰§è¡Œæ—¶ä¸ä¼šè€ƒè™‘ç°åœ¨çš„ä½ç½®çš„ä¿¡æ¯ã€‚</p>
<p>ã€€ã€€æ³¨æ„ï¼šå½“æ“ä½œå¯¹è±¡æ˜¯ã€€ã€€å¯¹è±¡1ã€€ç©ºæ ¼ã€€å¯¹è±¡2 æ—¶ï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡æ²¡æœ‰ä»»ä½•å…³ç³»</p>
<p>ã€€ã€€ã€€ã€€ã€€äº²ã€€ã€€ã€€ã€€## åŠ¨ä½œæ—¶è¢«ç³»ç»Ÿæ‰§è¡Œï¼Œä¸èƒ½ä½œä¸ºåç§°å‡ºç°</p>
<p>ã€€ã€€ã€€ã€€ã€€â€œäº²â€ã€€ã€€ã€€ ## å¼•å·çš„ä½œç”¨æ˜¯æŠŠåŠ¨ä½œå˜æˆåç§°å­—ç¬¦ï¼Œè¿™ç§æ–¹æ³•å«å¼•ç”¨</p>
<p>ã€€ã€€ã€€ã€€ã€€pwdã€€ã€€ã€€## æ˜¾ç¤ºå½“å‰å·¥ä½œç›®å½•</p>
<p>ã€€ã€€10ã€è‡ªåŠ¨è¡¥é½</p>
<p>ã€€ã€€ã€Štabã€‹</p>
<p>ã€€ã€€ã€€ã€€ã€€ç³»ç»Ÿä¸­çš„ã€Štabã€‹é”®å¯ä»¥å®ç°å‘½ä»¤çš„è‡ªåŠ¨è¡¥é½ï¼›</p>
<p>ã€€ã€€ã€€ã€€ã€€å¯ä»¥è¡¥é½ç³»ç»Ÿä¸­å­˜åœ¨çš„å‘½ä»¤ï¼Œæ–‡ä»¶åç§°ï¼Œå’Œéƒ¨åˆ†å‘½ä»¤çš„å‚æ•°ï¼›</p>
<p>ã€€ã€€ã€€ã€€ã€€å½“ä¸€æ¬¡ã€Štabã€‹è¡¥é½ä¸äº†æ—¶ï¼Œä»£è¡¨ä»¥æ­¤å…³é”®å­—å¼€å¤´çš„å†…å®¹ä¸å”¯ä¸€ï¼›</p>
<p>ã€€ã€€ã€€ã€€ã€€å¯ä»¥ä½¿ç”¨ã€Štabã€‹ä¸¤æ¬¡æ¥åˆ—å‡ºæ‰€æœ‰ä¸€æ¬¡å…³é”®å­—å¼€å¤´çš„å†…å®¹æ•£</p>
<h1 id="è„šæœ¬äº¤äº’-exceptå·¥å…·"><a href="#è„šæœ¬äº¤äº’-exceptå·¥å…·" class="headerlink" title="è„šæœ¬äº¤äº’-exceptå·¥å…·"></a>è„šæœ¬äº¤äº’-exceptå·¥å…·</h1><p>ä¸»è¦ç”¨æˆ·è‡ªåŠ¨æ“ä½œï¼Œæ¯”å¦‚è¯´ï¼šè‡ªåŠ¨è¾“å…¥å¯†ç (æœ€å¸¸è§)<br>åœ¨ä½¿ç”¨expectæ—¶ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯å’Œä»¥ä¸‹å››ä¸ªå‘½ä»¤æ‰“äº¤é“ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">send	ç”¨äºå‘è¿›ç¨‹å‘é€å­—ç¬¦ä¸²</span><br><span class="line">expect	ä»è¿›ç¨‹æ¥æ”¶å­—ç¬¦ä¸²</span><br><span class="line">spawn	å¯åŠ¨æ–°çš„è¿›ç¨‹</span><br><span class="line">interact	å…è®¸ç”¨æˆ·äº¤äº’</span><br></pre></td></tr></table></figure>
<p>sendå‘½ä»¤æ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°ï¼Œå¹¶å°†è¯¥å‚æ•°å‘é€åˆ°è¿›ç¨‹ã€‚</p>
<p>expectå‘½ä»¤å’Œsendå‘½ä»¤ç›¸åï¼Œexpecté€šå¸¸ç”¨æ¥ç­‰å¾…ä¸€ä¸ªè¿›ç¨‹çš„åé¦ˆï¼Œæˆ‘ä»¬æ ¹æ®è¿›ç¨‹çš„åé¦ˆï¼Œå†å‘é€å¯¹åº”çš„äº¤äº’å‘½ä»¤ã€‚</p>
<p>spawnå‘½ä»¤ç”¨æ¥å¯åŠ¨æ–°çš„è¿›ç¨‹ï¼Œspawnåçš„sendå’Œexpectå‘½ä»¤éƒ½æ˜¯å’Œä½¿ç”¨spawnæ‰“å¼€çš„è¿›ç¨‹è¿›è¡Œäº¤äº’ã€‚</p>
<p>interactå‘½ä»¤ç”¨çš„å…¶å®ä¸æ˜¯å¾ˆå¤šï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä½¿ç”¨spawnã€sendå’Œexpectå‘½ä»¤å°±å¯ä»¥å¾ˆå¥½çš„å®Œæˆæˆ‘ä»¬çš„ä»»åŠ¡ï¼›ä½†åœ¨ä¸€äº›ç‰¹æ®Šåœºåˆä¸‹è¿˜æ˜¯éœ€è¦ä½¿ç”¨interactå‘½ä»¤çš„ï¼Œinteractå‘½ä»¤ä¸»è¦ç”¨äºé€€å‡ºè‡ªåŠ¨åŒ–ï¼Œè¿›å…¥äººå·¥äº¤äº’ã€‚</p>
<ul>
<li>ä¾‹å­ï¼šé“¾æ¥shh</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!/usr/tcl/bin/expect</span><br><span class="line"></span><br><span class="line">set timeout 30</span><br><span class="line">set host &quot;101.200.241.109&quot;</span><br><span class="line">set username &quot;root&quot;</span><br><span class="line">set password &quot;123456&quot;</span><br><span class="line"></span><br><span class="line">spawn ssh $username@$host</span><br><span class="line">expect &quot;*password*&quot; &#123;send &quot;$password\r&quot;&#125;</span><br><span class="line">interact</span><br></pre></td></tr></table></figure>
<ul>
<li>ä¾‹å­ï¼šè‡ªåŠ¨åˆ‡æ¢åˆ°sudo å¹¶å¯åŠ¨hexo<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!/usr/bin/expect</span><br><span class="line">set timeout 30</span><br><span class="line">spawn sudo -s</span><br><span class="line">expect &quot;Password:&quot;</span><br><span class="line">send &quot;123456\r&quot;</span><br><span class="line">expect &quot;*#&quot;</span><br><span class="line">send &quot;cd hexoblog\r&quot;</span><br><span class="line">expect &quot;*#&quot;</span><br><span class="line">send &quot;hexo s\r&quot;</span><br><span class="line">interact</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>å‚è€ƒï¼š<a href="https://blog.csdn.net/weixin_42442713/article/details/81001753" target="_blank" rel="noopener">https://blog.csdn.net/weixin_42442713/article/details/81001753</a><br><a href="https://www.cnblogs.com/uthnb/p/9320582.html" target="_blank" rel="noopener">https://www.cnblogs.com/uthnb/p/9320582.html</a></p>
]]></content>
      <categories>
        <category>å·¥ç¨‹</category>
      </categories>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>5003æ€»ç»“3 Graphs</title>
    <url>/2020/5003%E6%80%BB%E7%BB%933-Graphs/</url>
    <content><![CDATA[<p>graphframesæ˜¯å¤„ç†å›¾çš„ä¸€ä¸ªAPI <a href="https://graphframes.github.io/graphframes/docs/_site/index.html" target="_blank" rel="noopener">graphframeså®˜æ–¹æ–‡æ¡£</a><br>å¯ä»¥å’ŒRDDç»“åˆï¼Œå’Œpysparkç»“åˆä½¿ç”¨ã€‚<br>åœ¨Pythonç¯å¢ƒä½¿ç”¨éœ€è¦ä»¥ä¸‹æ­¥éª¤ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">**GraphFrames:**</span><br><span class="line">-   For pre-installed Spark version ubuntu, to use GraphFrames:</span><br><span class="line">    1.  get the jar file:  </span><br><span class="line">        wget http://dl.bintray.com/spark-packages/maven/graphframes/graphframes/0.7.0-spark2.4-s_2.11/graphframes-0.7.0-spark2.4-s_2.11.jar</span><br><span class="line">    2.  Load the jar file in the Jupyter notebook  </span><br><span class="line">        sc.addPyFile(&apos;path_to_the_jar_file&apos;)</span><br><span class="line">    You can also refer to &quot;~/Untitled.ipynb&quot;.</span><br><span class="line">-   Using the pyspark shell directly with GraphFrames:</span><br><span class="line">    -   ./bin/pyspark --packages graphframes:graphframes:0.7.0-spark2.4-s_2.11</span><br><span class="line">-   Using Jupyter locally:</span><br><span class="line">    1.  Set the environment variable:  </span><br><span class="line">        export SPARK_OPTS=&quot;--packages graphframes:graphframes:0.7.0-spark2.4-s_2.11&quot;</span><br><span class="line">    2.  get the jar file:  </span><br><span class="line">        wget http://dl.bintray.com/spark-packages/maven/graphframes/graphframes/0.7.0-spark2.4-s_2.11/graphframes-0.7.0-spark2.4-s_2.11.jar</span><br><span class="line">    3.  Load the jar file in the Jupyter notebook  </span><br><span class="line">        sc.addPyFile(&apos;path_to_the_jar_file&apos;)</span><br><span class="line">-   In Azure Databricks Service:</span><br><span class="line">    1.  Start the cluster</span><br><span class="line">    2.  Search for &quot;graphframes&apos; and install the library</span><br></pre></td></tr></table></figure></p><a id="more"></a>
<p>åœ¨jupyteré‡Œé¢ä½¿ç”¨éœ€è¦å¼•ç”¨å‹ç¼©åŒ…ï¼Œä¾‹å¦‚ï¼š<br><code>sc.addPyFile(&quot;/usr/local/Cellar/apache-spark/2.4.4/libexec/jars/graphframes-0.7.0-spark2.4-s_2.11.jar&quot;)</code></p>
<hr>
<h1 id="ç”Ÿæˆå›¾"><a href="#ç”Ÿæˆå›¾" class="headerlink" title="ç”Ÿæˆå›¾"></a>ç”Ÿæˆå›¾</h1><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">v = spark.createDataFrame([</span><br><span class="line">  (<span class="string">"a"</span>, <span class="string">"Alice"</span>, <span class="number">34</span>),</span><br><span class="line">  (<span class="string">"b"</span>, <span class="string">"Bob"</span>, <span class="number">36</span>),</span><br><span class="line">  (<span class="string">"c"</span>, <span class="string">"Charlie"</span>, <span class="number">37</span>),</span><br><span class="line">  (<span class="string">"d"</span>, <span class="string">"David"</span>, <span class="number">29</span>),</span><br><span class="line">  (<span class="string">"e"</span>, <span class="string">"Esther"</span>, <span class="number">32</span>),</span><br><span class="line">  (<span class="string">"f"</span>, <span class="string">"Fanny"</span>, <span class="number">38</span>),</span><br><span class="line">  (<span class="string">"g"</span>, <span class="string">"Gabby"</span>, <span class="number">60</span>)</span><br><span class="line">], [<span class="string">"id"</span>, <span class="string">"name"</span>, <span class="string">"age"</span>])</span><br><span class="line"><span class="comment"># Edges DataFrame</span></span><br><span class="line">e = spark.createDataFrame([</span><br><span class="line">  (<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"friend"</span>),</span><br><span class="line">  (<span class="string">"b"</span>, <span class="string">"c"</span>, <span class="string">"follow"</span>),</span><br><span class="line">  (<span class="string">"c"</span>, <span class="string">"b"</span>, <span class="string">"follow"</span>),</span><br><span class="line">  (<span class="string">"f"</span>, <span class="string">"c"</span>, <span class="string">"follow"</span>),</span><br><span class="line">  (<span class="string">"e"</span>, <span class="string">"f"</span>, <span class="string">"follow"</span>),</span><br><span class="line">  (<span class="string">"e"</span>, <span class="string">"d"</span>, <span class="string">"friend"</span>),</span><br><span class="line">  (<span class="string">"d"</span>, <span class="string">"a"</span>, <span class="string">"friend"</span>),</span><br><span class="line">  (<span class="string">"a"</span>, <span class="string">"e"</span>, <span class="string">"friend"</span>),</span><br><span class="line">  (<span class="string">"g"</span>, <span class="string">"e"</span>, <span class="string">"follow"</span>)</span><br><span class="line">], [<span class="string">"src"</span>, <span class="string">"dst"</span>, <span class="string">"relationship"</span>])</span><br><span class="line"><span class="comment"># Create a GraphFrame</span></span><br><span class="line">g = GraphFrame(v, e)</span><br><span class="line"></span><br><span class="line">g.vertices.show()</span><br><span class="line">g.edges.show()</span><br></pre></td></tr></table></figure>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191123161350.png"><br>å»ºç«‹ä¸¤ä¸ªdataframeï¼š</p>
<ul>
<li>ä¸€ä¸ªå‚¨å­˜èŠ‚ç‚¹verticesçš„id+[data]</li>
<li>å¦ä¸€ä¸ªå‚¨å­˜å…³ç³»edgesçš„[â€œsrcâ€, â€œdstâ€, â€œrelationshipâ€]</li>
</ul>
<p>è¿™ä¸ªå›¾å°±å»ºç«‹å¥½äº†ã€‚</p>
<h1 id="å›¾çš„åŸºæœ¬å±æ€§"><a href="#å›¾çš„åŸºæœ¬å±æ€§" class="headerlink" title="å›¾çš„åŸºæœ¬å±æ€§"></a>å›¾çš„åŸºæœ¬å±æ€§</h1><p>g.verticeså’Œg.edgesæ˜¯è¾“å…¥çš„ä¸¤ä¸ªvï¼Œe å¯ä»¥ä½¿ç”¨dataframeçš„æ–¹æ³•ç­›é€‰è¿‡æ»¤ç»Ÿè®¡ã€‚</p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191123140805.png"></p>
<p>g.outDegreesæˆ–è€…g.inDegreeså¯ä»¥è¿”å›ä¸€ä¸ªdataframe-[id,degree]ï¼Œè‡ªåŠ¨è®¡ç®—æ¯ä¸ªèŠ‚ç‚¹çš„å‡ºåº¦å’Œå…¥åº¦ã€‚</p>
<ul>
<li>cacheä¹Ÿå¯ç”¨åˆ°å›¾ä¸Š<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191123141021.png"><br>æ•´ä¸ªå›¾cache è¿ç”¨ï¼š<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191123144609.png"><h1 id="Motif-finding"><a href="#Motif-finding" class="headerlink" title="Motif finding"></a>Motif finding</h1></li>
</ul>
<p>Motif finding refers to searching for structural patterns in a graph.<br>ä¾‹å¦‚ï¼šå¯»æ‰¾äº’ç›¸å…³æ³¨ï¼Œå¯»æ‰¾ä¸‰è§’å½¢å…³æ³¨<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191123145700.png"><br>å¯»æ‰¾å•å‘å…³æ³¨ï¼Œå¯»æ‰¾æ— äººå…³æ³¨<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191123145801.png"></p>
<p>å¦ä¸€ç§æ–¹æ³•å¯»æ‰¾æ— äººå…³æ³¨çš„ç‚¹ï¼š</p>
<ul>
<li><p>å·¦è¿æ¥oræ±‚å·®é›†ï¼ˆå…ˆæ±‚idçš„å·®é›†ï¼Œå†ç›´æ¥joinæ•´å¼ è¡¨ï¼‰<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191123150855.png"></p>
<blockquote>
<p>å¦‚æœä¸æ˜¯å·¦è¿æ¥ï¼Œé‚£ä¸€è¡Œä¼šè¢«åˆ æ‰</p>
</blockquote>
</li>
<li><p>ä¾‹å­ï¼š<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191123151645.png"></p>
</li>
</ul>
<p>å…ˆæ‰¾å•å‘çš„å››äººå…³ç³»ï¼Œmap ç›¸äº’ä¸ºfriend=1ï¼Œç­›é€‰æœ‰2ä¸ªfriendä»¥ä¸Šçš„å…³ç³»é“¾ã€‚</p>
<h1 id="Subgraphs-ç”Ÿæˆå­å›¾"><a href="#Subgraphs-ç”Ÿæˆå­å›¾" class="headerlink" title="Subgraphs ç”Ÿæˆå­å›¾"></a>Subgraphs ç”Ÿæˆå­å›¾</h1><ul>
<li>é€‰æ‹©å­èŠ‚ç‚¹å’Œå­è¾¹</li>
<li><p>ç”Ÿæˆæ–°å›¾<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191123152823.png"></p>
</li>
<li><p>è¿‡æ»¤æ‰å¤šä½™çš„éƒ¨åˆ†<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191123153344.png"><br>è¿™é‡Œçš„leftsemiçš„joinæ–¹å¼ï¼š<a href="https://blog.csdn.net/zhaoxz128/article/details/80784188" target="_blank" rel="noopener">leftsemiè®²è§£</a></p>
<blockquote>
<p>Hive å½“å‰<strong>æ²¡æœ‰</strong>å®ç° IN/EXISTS å­æŸ¥è¯¢ï¼Œæ‰€ä»¥ä½ å¯ä»¥ç”¨ <strong>LEFT SEMI JOIN é‡å†™ä½ çš„å­æŸ¥è¯¢è¯­å¥</strong>ã€‚LEFT SEMI JOIN çš„é™åˆ¶æ˜¯ï¼Œ JOIN å­å¥ä¸­å³è¾¹çš„è¡¨åªèƒ½åœ¨  ON å­å¥ä¸­è®¾ç½®è¿‡æ»¤æ¡ä»¶ï¼Œåœ¨ WHERE å­å¥ã€SELECT å­å¥æˆ–å…¶ä»–åœ°æ–¹è¿‡æ»¤éƒ½ä¸è¡Œã€‚</p>
<h1 id="ä¾‹å­ï¼šæ‰¾åˆ°æœ€å°‘è¢«ä¸¤ä¸ªäººå…³æ³¨çš„äºº"><a href="#ä¾‹å­ï¼šæ‰¾åˆ°æœ€å°‘è¢«ä¸¤ä¸ªäººå…³æ³¨çš„äºº" class="headerlink" title="ä¾‹å­ï¼šæ‰¾åˆ°æœ€å°‘è¢«ä¸¤ä¸ªäººå…³æ³¨çš„äºº"></a>ä¾‹å­ï¼šæ‰¾åˆ°æœ€å°‘è¢«ä¸¤ä¸ªäººå…³æ³¨çš„äºº</h1><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">g.find(<span class="string">"( )-[e]-&gt;(b)"</span>).filter(<span class="string">"e.relationship='follow'"</span>).</span><br><span class="line">groupby(<span class="string">'b'</span>).count().filter(<span class="string">"count&gt;=2"</span>).select(<span class="string">'b.name'</span>).show()</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
</ul>
<h1 id="åº”ç”¨ï¼šBFSå¹¿åº¦æœ‰é™æœç´¢"><a href="#åº”ç”¨ï¼šBFSå¹¿åº¦æœ‰é™æœç´¢" class="headerlink" title="åº”ç”¨ï¼šBFSå¹¿åº¦æœ‰é™æœç´¢"></a>åº”ç”¨ï¼šBFSå¹¿åº¦æœ‰é™æœç´¢</h1><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191123161040.png"><br>APIè‡ªå¸¦çš„æ¥å£ï¼š<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191123161117.png"></p>
<h1 id="ä¾‹å­-list-rank"><a href="#ä¾‹å­-list-rank" class="headerlink" title="ä¾‹å­ list rank"></a>ä¾‹å­ list rank</h1><p>å¯¹äºä¸€ä¸ªé“¾è¡¨æ’åºï¼ˆæŒ‰ç…§è·ç¦»å°¾éƒ¨èŠ‚ç‚¹çš„è·ç¦»æ’åºï¼‰ï¼š<br>æš´åŠ›ç®—æ³•ï¼šéå†næ¬¡ï¼Œæ¯æ¬¡æ‰¾åˆ°å°¾éƒ¨èŠ‚ç‚¹ï¼Œè®°å½•å¹¶åˆ é™¤ O(n)<br>æ–¹æ³•2ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Initialize u.d = 0 if u.next = null, else u.d = 1</span><br><span class="line">Run the following for each node u until all next pointers are null:</span><br><span class="line">	if u.next is not null: </span><br><span class="line">		u.d += u.next.d </span><br><span class="line">		u.next = u.next.next</span><br></pre></td></tr></table></figure><br>ç®—æ³•åŸç†å¦‚å›¾ï¼š<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191123170545.png"><br>å¤æ‚åº¦O(logn)ï¼Œæ¯ä¸€è½®éå†éå°¾èŠ‚ç‚¹éƒ½ä¼šå‚ä¸ï¼Œå‡å°‘å¾ªç¯æ¬¡æ•°<br> å®ç°ï¼š<br> <img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191123170704.png"><br> <img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191123170718.png"></p>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æœ¬æ–‡æ€»ç»“äº†pysparkçš„graphæ¨¡å—åŸºæœ¬è¯­æ³•å’Œæ“ä½œï¼Œå…³äº5003çš„ä¸‰ç¯‡æ€»ç»“åˆ°æ­¤ç»“æŸã€‚</p>
]]></content>
      <categories>
        <category>MSBD5003</category>
      </categories>
      <tags>
        <tag>å¤ä¹ </tag>
        <tag>spark</tag>
        <tag>5003</tag>
        <tag>å¹¶è¡Œè®¡ç®—</tag>
      </tags>
  </entry>
  <entry>
    <title>5003æ€»ç»“2 stream&amp;å¹¶è¡Œè®¡ç®—-ä¾‹å­</title>
    <url>/2019/5003%E6%80%BB%E7%BB%932-stream-%E5%B9%B6%E8%A1%8C%E8%AE%A1%E7%AE%97-%E4%BE%8B%E5%AD%90-1/</url>
    <content><![CDATA[<p>Streamingæ˜¯å¤„ç†æ•°æ®æµçš„APIã€‚<br>ä¸‹é¢ç›´æ¥é€šè¿‡ä¾‹å­ï¼Œæ„Ÿå—streamingçš„æœºåˆ¶ã€‚</p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191123213735.png"><br><a id="more"></a></p>
<h1 id="ä¾‹1-ä»é”®ç›˜è¾“å…¥æ–‡æœ¬ï¼Œç»Ÿè®¡è¯é¢‘"><a href="#ä¾‹1-ä»é”®ç›˜è¾“å…¥æ–‡æœ¬ï¼Œç»Ÿè®¡è¯é¢‘" class="headerlink" title="ä¾‹1 ä»é”®ç›˜è¾“å…¥æ–‡æœ¬ï¼Œç»Ÿè®¡è¯é¢‘"></a>ä¾‹1 ä»é”®ç›˜è¾“å…¥æ–‡æœ¬ï¼Œç»Ÿè®¡è¯é¢‘</h1><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191123220112.png"></p>
<h1 id="ä¾‹2-1-ä»æ–‡ä»¶è¾“å…¥ï¼Œç»Ÿè®¡è¯é¢‘"><a href="#ä¾‹2-1-ä»æ–‡ä»¶è¾“å…¥ï¼Œç»Ÿè®¡è¯é¢‘" class="headerlink" title="ä¾‹2.1 ä»æ–‡ä»¶è¾“å…¥ï¼Œç»Ÿè®¡è¯é¢‘"></a>ä¾‹2.1 ä»æ–‡ä»¶è¾“å…¥ï¼Œç»Ÿè®¡è¯é¢‘</h1><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191123222512.png"></p>
<h1 id="ä¾‹2-2-å¯¹è¯çš„æ„Ÿæƒ…å€¼æ’åº"><a href="#ä¾‹2-2-å¯¹è¯çš„æ„Ÿæƒ…å€¼æ’åº" class="headerlink" title="ä¾‹2.2 å¯¹è¯çš„æ„Ÿæƒ…å€¼æ’åº"></a>ä¾‹2.2 å¯¹è¯çš„æ„Ÿæƒ…å€¼æ’åº</h1><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191123230557.png"></p>
<h1 id="ä¾‹2-3-stageï¼Œç»Ÿè®¡æ‰€æœ‰è¯é¢‘"><a href="#ä¾‹2-3-stageï¼Œç»Ÿè®¡æ‰€æœ‰è¯é¢‘" class="headerlink" title="ä¾‹2.3 stageï¼Œç»Ÿè®¡æ‰€æœ‰è¯é¢‘"></a>ä¾‹2.3 stageï¼Œç»Ÿè®¡æ‰€æœ‰è¯é¢‘</h1><p>ä¸Šé¢çš„ä¾‹å­2.1 ä»…ä»…æ˜¯ç»Ÿè®¡æ¯ä¸€ä¸ªè¾“å…¥éƒ¨åˆ†çš„è¯é¢‘ï¼Œæ„ä¹‰ä¸å¤§<br>é€šè¿‡<code>updateStateByKey()</code>å¯ä»¥å®ç°å¯¹æ‰€æœ‰æ•°æ®çš„ç»Ÿè®¡ã€‚</p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191123231336.png"></p>
<p><code>updateStateByKey()</code>éœ€è¦å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°çš„è¾“å…¥æ˜¯ä¸Šæ¬¡çš„å’Œè¿™æ¬¡çš„rddï¼Œè¿™é‡Œçš„streamingçš„ç²¾é«“ï¼Œéœ€è¦å¥½å¥½ç†è§£ã€‚</p>
<hr>
<h1 id="ç®—æ³•åº”ç”¨1ï¼šè“„æ°´æ± æŠ½æ ·Reservoir-Sampling"><a href="#ç®—æ³•åº”ç”¨1ï¼šè“„æ°´æ± æŠ½æ ·Reservoir-Sampling" class="headerlink" title="ç®—æ³•åº”ç”¨1ï¼šè“„æ°´æ± æŠ½æ ·Reservoir Sampling"></a>ç®—æ³•åº”ç”¨1ï¼šè“„æ°´æ± æŠ½æ ·Reservoir Sampling</h1><h2 id="ç®—æ³•è¿‡ç¨‹"><a href="#ç®—æ³•è¿‡ç¨‹" class="headerlink" title="ç®—æ³•è¿‡ç¨‹"></a>ç®—æ³•è¿‡ç¨‹</h2><p>è“„æ°´æ± é‡‡æ ·ç®—æ³•ï¼ˆReservoir Samplingï¼‰äº†ã€‚å…ˆè¯´ä¸€ä¸‹ç®—æ³•çš„è¿‡ç¨‹ï¼š</p>
<ul>
<li>å‡è®¾æ•°æ®åºåˆ—çš„è§„æ¨¡ä¸º  ğ‘›ï¼Œéœ€è¦é‡‡æ ·çš„æ•°é‡çš„ä¸º  ğ‘˜ã€‚</li>
<li>é¦–å…ˆæ„å»ºä¸€ä¸ªå¯å®¹çº³  ğ‘˜  ä¸ªå…ƒç´ çš„æ•°ç»„ï¼Œå°†åºåˆ—çš„å‰  ğ‘˜  ä¸ªå…ƒç´ æ”¾å…¥æ•°ç»„ä¸­ã€‚</li>
<li>ç„¶åä»ç¬¬  ğ‘˜+1  ä¸ªå…ƒç´ å¼€å§‹ï¼Œä»¥  ğ‘˜/ğ‘›  çš„æ¦‚ç‡æ¥å†³å®šè¯¥å…ƒç´ æ˜¯å¦è¢«æ›¿æ¢åˆ°æ•°ç»„ä¸­ï¼ˆæ•°ç»„ä¸­çš„å…ƒç´ è¢«æ›¿æ¢çš„æ¦‚ç‡æ˜¯ç›¸åŒçš„ï¼‰ã€‚ å½“éå†å®Œæ‰€æœ‰å…ƒç´ ä¹‹åï¼Œæ•°ç»„ä¸­å‰©ä¸‹çš„å…ƒç´ å³ä¸ºæ‰€éœ€é‡‡å–çš„æ ·æœ¬ã€‚<blockquote>
<p>è¿™æ ·å°±å¯ä»¥å¯¹ä»»æ„é•¿åº¦çš„æ•°æ®æŠ½æ ·ï¼Œå¯ä»¥å®ç°streaming. ä¸éœ€è¦è€ƒè™‘æ–‡ä»¶é•¿åº¦ã€‚</p>
</blockquote>
</li>
</ul>
<p>ç®€å•è¯æ˜ï¼š<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191124085220.png"></p>
<p>å®Œæ•´è¯æ˜éœ€è¦ç”¨åˆ°FIsher-Yates shuffleã€‚</p>
<h1 id="ç®—æ³•åº”ç”¨2ï¼šO-n-æ—¶é—´ï¼ŒO-1-ç©ºé—´ï¼Œå¯»æ‰¾Majorityçš„å…ƒç´ -n-gt-N-2"><a href="#ç®—æ³•åº”ç”¨2ï¼šO-n-æ—¶é—´ï¼ŒO-1-ç©ºé—´ï¼Œå¯»æ‰¾Majorityçš„å…ƒç´ -n-gt-N-2" class="headerlink" title="ç®—æ³•åº”ç”¨2ï¼šO(n)æ—¶é—´ï¼ŒO(1)ç©ºé—´ï¼Œå¯»æ‰¾Majorityçš„å…ƒç´ (n&gt;N/2)"></a>ç®—æ³•åº”ç”¨2ï¼šO(n)æ—¶é—´ï¼ŒO(1)ç©ºé—´ï¼Œå¯»æ‰¾Majorityçš„å…ƒç´ (n&gt;N/2)</h1><p>ç®—æ³•æè¿°ï¼š<br>åªç”¨ç©ºé—´å¤æ‚åº¦O(1)ï¼Œå»å¯»æ‰¾æ•°ç»„å†…æœ‰æ²¡æœ‰å‡ºç°æ¬¡æ•°å¤§äºä¸€åŠçš„å…ƒç´ ã€‚</p>
<p>ç®—æ³•è¿‡ç¨‹ï¼š</p>
<blockquote>
<p>éå†æ‰€æœ‰å…ƒç´ ï¼šè®°å½•æ–°å‡ºç°å…ƒç´ çš„æ¬¡æ•°ï¼Œå¦‚æœä¸‹ä¸€ä¸ªä¸è®°å½•ç›¸åŒï¼Œå°±ï¼‹1ï¼Œä¸åŒå°±-1ï¼Œéå†å®Œæˆï¼Œä¼šä¿ç•™ä¸€ä¸ªå€™é€‰é¡¹<br>éå†æ‰€æœ‰å…ƒç´ ï¼šç»Ÿè®¡åˆšæ‰å€™é€‰é¡¹å‡ºç°çš„æ¬¡æ•°nä»¥åŠNï¼ŒéªŒè¯n&gt;N/2åˆ™éªŒè¯æˆåŠŸï¼Œå¦‚æœn&lt;=N/2ï¼Œåˆ™æ— Majority</p>
</blockquote>
<h1 id="ç®—æ³•åº”ç”¨3ï¼šGMç®—æ³•-Heavy-hitters"><a href="#ç®—æ³•åº”ç”¨3ï¼šGMç®—æ³•-Heavy-hitters" class="headerlink" title="ç®—æ³•åº”ç”¨3ï¼šGMç®—æ³• Heavy hitters"></a>ç®—æ³•åº”ç”¨3ï¼šGMç®—æ³• Heavy hitters</h1><p>Misra-Gries (MG) algorithm finds up to k items that occur more than 1/k fraction of the time in a stream.<br>æ‰¾åˆ°é¢‘ç‡è¶…è¿‡1/kçš„å…ƒç´ .<br>ç®—æ³•ï¼š</p>
<blockquote>
<p>åˆå§‹åŒ–kä¸ªå€™é€‰é¡¹ï¼Œå¯¹ä¹‹åçš„æ¯ä¸ªå…ƒç´ ï¼š</p>
<ul>
<li>å¦‚æœå…ƒç´ å·²ç»è¢«è®°å½•äº†ï¼Œcount++</li>
<li>å¦‚æœæ²¡æœ‰è®°å½•ï¼Œå¦‚æœå€™é€‰é¡¹&lt;kï¼Œé‚£å°±è®°å½•ä»–</li>
<li>å¦‚æœæ²¡æœ‰è®°å½•ï¼Œå¦‚æœå€™é€‰é¡¹=kï¼Œé‚£å°±å¯¹æ¯ä¸ªå€™é€‰é¡¹countâ€”</li>
</ul>
<p>éå†å®Œæˆï¼Œè¿”å›å€™é€‰é¡¹</p>
</blockquote>
<h1 id="ç®—æ³•åº”ç”¨4ï¼šå¹¶è¡Œè®¡ç®—TOPn-æ—¶é—´å¤æ‚åº¦æ»¡è¶³O-n-p-log-k"><a href="#ç®—æ³•åº”ç”¨4ï¼šå¹¶è¡Œè®¡ç®—TOPn-æ—¶é—´å¤æ‚åº¦æ»¡è¶³O-n-p-log-k" class="headerlink" title="ç®—æ³•åº”ç”¨4ï¼šå¹¶è¡Œè®¡ç®—TOPn, æ—¶é—´å¤æ‚åº¦æ»¡è¶³O(n/p*log k)"></a>ç®—æ³•åº”ç”¨4ï¼šå¹¶è¡Œè®¡ç®—TOPn, æ—¶é—´å¤æ‚åº¦æ»¡è¶³O(n/p*log k)</h1><p>åŸé¢˜ï¼š</p>
<blockquote>
<p>Given an RDD storing a list of n integers (unordered), design a divide-and-conquer algorithm to find the k largest integers in the RDD. All workers must run in parallel. For full marks, each worker should run in time O(n/p * log k) time, where p is the number of workers.<br>Hint: Use a priority queue at each worker for maximum efficiency.</p>
</blockquote>
<p>å½“çœ‹åˆ°log Kå’Œpriority queueå°±çŸ¥é“è¦ä½¿ç”¨å †æ’åºäº†ã€‚<br>åˆ†æˆpä¸ªworkerï¼Œæ¯ä¸ªworkeræœ‰O(n/p)çš„å€¼ï¼Œæ¯ä¸€ä¸ªworkç»´æŠ¤ä¸€ä¸ªæœ€å¤§Kå †ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(log k). </p>
<p>è€å¸ˆç»™çš„ç­”æ¡ˆï¼š</p>
<blockquote>
<p>Partition the integers evenly so that each worker receives O(n/p) values. On each worker, maintain a min-heap of size k. Inserting an element to the heap costs O(log k) time.<br>For each value, insert it to the heap if it is larger than the current min of the heap. Pop the minimum item if there are more than k items in the heap. By making one pass over all the values in each worker, we get the k largest integers out of the values of this worker. This can be done in O(n/p log k) time.<br>Then we merge the results by sending the top k of each partition to the same worker, which is at most kp values. The worker finds the largest k integers among these kp values and report it.</p>
</blockquote>
<p>ä»£ç <br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> heapq  <span class="comment"># å¼•å…¥æœ€å¤§å †çš„åŒ…</span></span><br><span class="line">  </span><br><span class="line">rdd = sc.parallelize(xrange(<span class="number">0</span>,<span class="number">1000</span>,<span class="number">2</span>))   <span class="comment">#ç”Ÿæˆrdd</span></span><br><span class="line">k = <span class="number">10</span>  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">topk</span><span class="params">(it)</span>:</span>        <span class="comment">#å¯¹äºæ¯ä¸€ä¸ªåˆ†åŒºçš„n/pä¸ªå€¼</span></span><br><span class="line">    h = []  </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> it:     <span class="comment">#éå†æ¯ä¸€ä¸ªå€¼</span></span><br><span class="line">        <span class="comment"># check if we should insert i  </span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">not</span> h) <span class="keyword">or</span> (i &gt; h[<span class="number">0</span>]):   <span class="comment">#å¦‚æœhä¸ºç©ºæˆ–è€…æ–°æ¥çš„å¤§äºhé‡Œé¢æœ€å¤§çš„</span></span><br><span class="line">            heapq.heappush(h,i)     <span class="comment">#æŠŠè¿™ä¸ªå…ƒç´ æ’å…¥åˆ°h</span></span><br><span class="line">            <span class="keyword">if</span> len(h) &gt; k:          <span class="comment">#é•¿åº¦å¤§äºk</span></span><br><span class="line">                heapq.heappop(h)    <span class="comment">#å¼¹å‡ºhä¸­æœ€å°çš„</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> xrange(len(h)):        <span class="comment">#éå†æ¯ä¸€ä¸ªå€¼</span></span><br><span class="line">        <span class="keyword">yield</span> heapq.heappop(h)      <span class="comment">#ä»å°åˆ°å¤§ä¾æ¬¡å¼¹å‡ºè¿”å›åˆ°ä¸Šä¸€å±‚</span></span><br><span class="line">        </span><br><span class="line">print(list(topk(rdd.mapPartitions(topk).collect()))) <span class="comment">#å¯¹äºåˆ†åŒºä½¿ç”¨ï¼Œå†æ•´ä½“ä½¿ç”¨</span></span><br></pre></td></tr></table></figure></p>
<hr>
<p>ç”¨å®ä¾‹æ€»ç»“äº†å‡ ä¸ªsteamingå’Œå¹¶è¡Œè®¡ç®—çš„åŸºç¡€çŸ¥è¯†ç‚¹ï¼Œè·¯æ¼«æ¼«å…®ã€‚</p>
]]></content>
      <categories>
        <category>MSBD5003</category>
      </categories>
      <tags>
        <tag>å¤ä¹ </tag>
        <tag>spark</tag>
        <tag>5003</tag>
        <tag>å¹¶è¡Œè®¡ç®—</tag>
      </tags>
  </entry>
  <entry>
    <title>5003æ€»ç»“1 RDD, Spark Internals</title>
    <url>/2019/5003%E6%80%BB%E7%BB%931-RDD-Spark-Internals/</url>
    <content><![CDATA[<h1 id="5003æ€»ç»“1-RDD-Spark-Internals"><a href="#5003æ€»ç»“1-RDD-Spark-Internals" class="headerlink" title="5003æ€»ç»“1 RDD, Spark Internals"></a>5003æ€»ç»“1 RDD, Spark Internals</h1><p>å­¦ä¹ äº†5003ä¹‹åï¼Œå¯¹äºRDDå’Œsparkä¸¤ç« æ€»ç»“å¤ä¹ ï¼Œæ¢³ç†å‡ºæœ‰å…³å‡½æ•°çš„ä½œç”¨ã€‚</p><h2 id="RDD"><a href="#RDD" class="headerlink" title="RDD"></a>RDD</h2><p>resilient Distributed Datasets: å¼¹æ€§åˆ†å¸ƒå¼æ•°æ®åº“ï¼Œrddæ˜¯sparkçš„åŸºæœ¬è¿è¡Œå•ä½<br>ä½¿ç”¨è€…ä½œç”¨äºRDDï¼ŒRDDè‡ªåŠ¨è¿›è¡Œåˆ†åŒºï¼Œåœ¨ä¸åŒpartitionsè¿›è¡Œæ“ä½œ<br><img alt="RDDçš„æ“ä½œ" data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191030092656.png"></p><a id="more"></a>

<h2 id="rddæ˜¯â€œæ‡’æƒ°çš„â€Lazyï¼Œå¦‚æœåªè¿›è¡ŒTransfomations-ï¼ŒRDDä¸ä¼šè¿›è¡Œå®é™…è¿ç®—ï¼Œä¼šç­‰å¾…actionsæ“ä½œæ‰ä¼šå®é™…è¿ç®—ã€‚ï¼ˆç†è§£èµ·æ¥å°±æ˜¯ï¼Œå¦‚æœæ¯Transfomationsä¸€æ¬¡å°±è¦è¿ç®—ï¼Œå°±éœ€è¦æ“ä½œä¸€ä¸‹ç­‰ä¸€æ¬¡ï¼›è€Œä¸”Transfomationsä¹‹é—´å¯èƒ½æœ‰ä¼˜åŒ–çš„ç©ºé—´ï¼›æ‰€ä»¥å¦‚æœæ²¡æœ‰Actionså°±æ„å‘³ç€ä¸éœ€è¦è¾“å‡ºï¼Œå°±å…ˆè®°ä½æ­¥éª¤ä¸æ‰§è¡Œï¼‰"><a href="#rddæ˜¯â€œæ‡’æƒ°çš„â€Lazyï¼Œå¦‚æœåªè¿›è¡ŒTransfomations-ï¼ŒRDDä¸ä¼šè¿›è¡Œå®é™…è¿ç®—ï¼Œä¼šç­‰å¾…actionsæ“ä½œæ‰ä¼šå®é™…è¿ç®—ã€‚ï¼ˆç†è§£èµ·æ¥å°±æ˜¯ï¼Œå¦‚æœæ¯Transfomationsä¸€æ¬¡å°±è¦è¿ç®—ï¼Œå°±éœ€è¦æ“ä½œä¸€ä¸‹ç­‰ä¸€æ¬¡ï¼›è€Œä¸”Transfomationsä¹‹é—´å¯èƒ½æœ‰ä¼˜åŒ–çš„ç©ºé—´ï¼›æ‰€ä»¥å¦‚æœæ²¡æœ‰Actionså°±æ„å‘³ç€ä¸éœ€è¦è¾“å‡ºï¼Œå°±å…ˆè®°ä½æ­¥éª¤ä¸æ‰§è¡Œï¼‰" class="headerlink" title="* rddæ˜¯â€œæ‡’æƒ°çš„â€Lazyï¼Œå¦‚æœåªè¿›è¡ŒTransfomations ï¼ŒRDDä¸ä¼šè¿›è¡Œå®é™…è¿ç®—ï¼Œä¼šç­‰å¾…actionsæ“ä½œæ‰ä¼šå®é™…è¿ç®—ã€‚ï¼ˆç†è§£èµ·æ¥å°±æ˜¯ï¼Œå¦‚æœæ¯Transfomationsä¸€æ¬¡å°±è¦è¿ç®—ï¼Œå°±éœ€è¦æ“ä½œä¸€ä¸‹ç­‰ä¸€æ¬¡ï¼›è€Œä¸”Transfomationsä¹‹é—´å¯èƒ½æœ‰ä¼˜åŒ–çš„ç©ºé—´ï¼›æ‰€ä»¥å¦‚æœæ²¡æœ‰Actionså°±æ„å‘³ç€ä¸éœ€è¦è¾“å‡ºï¼Œå°±å…ˆè®°ä½æ­¥éª¤ä¸æ‰§è¡Œï¼‰"></a>* rddæ˜¯â€œæ‡’æƒ°çš„â€Lazyï¼Œå¦‚æœåªè¿›è¡ŒTransfomations ï¼ŒRDDä¸ä¼šè¿›è¡Œå®é™…è¿ç®—ï¼Œä¼šç­‰å¾…actionsæ“ä½œæ‰ä¼šå®é™…è¿ç®—ã€‚ï¼ˆç†è§£èµ·æ¥å°±æ˜¯ï¼Œå¦‚æœæ¯Transfomationsä¸€æ¬¡å°±è¦è¿ç®—ï¼Œå°±éœ€è¦æ“ä½œä¸€ä¸‹ç­‰ä¸€æ¬¡ï¼›è€Œä¸”Transfomationsä¹‹é—´å¯èƒ½æœ‰ä¼˜åŒ–çš„ç©ºé—´ï¼›æ‰€ä»¥å¦‚æœæ²¡æœ‰Actionså°±æ„å‘³ç€ä¸éœ€è¦è¾“å‡ºï¼Œå°±å…ˆè®°ä½æ­¥éª¤ä¸æ‰§è¡Œï¼‰</h2><p><a href="https://haofly.net/spark/" target="_blank" rel="noopener">å¼•ç”¨åšæ–‡ https://haofly.net/spark/</a></p>
<ul>
<li><strong>RDD(Resilient Distributed Datasetå¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›†)</strong>ï¼šè¿™æ˜¯sparkçš„ä¸»è¦æ•°æ®æ¦‚å¿µã€‚æœ‰å¤šç§æ¥æºï¼Œå®¹é”™æœºåˆ¶ï¼Œå¹¶ä¸”èƒ½ç¼“å­˜ã€å¹¶è¡Œè®¡ç®—ã€‚RDDåœ¨æ•´ä¸ªè®¡ç®—æµç¨‹ä¸­ä¼šç»è¿‡ä¸åŒæ–¹å¼çš„å˜æ¢ï¼Œè¿™ç§å˜æ¢å…³ç³»å°±æ˜¯ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾ã€‚</li>
<li>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ‰€æœ‰çš„æ–¹æ³•åœ¨å®šä¹‰æ‰§è¡Œä¹‹å‰éƒ½æ˜¯å¼‚æ­¥çš„ï¼Œæ‰€ä»¥ä¸èƒ½ç®€å•åœ°åœ¨ä¸‹é¢çš„æ–¹æ³•å¤–éƒ¨æ·»åŠ <code>try...catch...</code>è¿›è¡Œå¼‚å¸¸æ•è·ï¼Œæœ€å¥½æ˜¯åœ¨ä¼ å…¥çš„å‡½æ•°é‡Œé¢è¿›è¡Œå¼‚å¸¸çš„æ•è·(å¦‚æœæ˜¯lambdaï¼Œè¯·ç¡®è®¤lambdaä¸ä¼šæŠ¥é”™ï¼Œå¦åˆ™å¦‚æœlambdaæŠ¥é”™æ•´ä¸ªç¨‹åºéƒ½ä¼šæŠ¥é”™å¹¶ç»ˆæ­¢å…è®¸)</li>
<li>Sparkåº”ç”¨ç¨‹åºå¯ä»¥ä½¿ç”¨å¤§å¤šæ•°ä¸»æµè¯­è¨€ç¼–å†™ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯pythonï¼Œåª<code>pip install pyspark</code>å³å¯</li>
<li><strong>Stage(è°ƒåº¦é˜¶æ®µ)</strong>: æ¯ä¸ªJobä¼šæ ¹æ®RDDå¤§å°åˆ‡åˆ†åŸå¤šä¸ªStageï¼Œæ¯ä¸ªStageåŒ…å«ä¸€ä¸ªTaskSet</li>
<li><strong>TaskSet(ä»»åŠ¡é›†)</strong>: ä¸€ç»„å…³è”çš„Taské›†åˆï¼Œä¸è¿‡æ˜¯æ²¡æœ‰ä¾èµ–çš„</li>
<li><strong>Task(ä»»åŠ¡)</strong>: RDDä¸­çš„ä¸€ä¸ªåˆ†åŒºå¯¹åº”ä¸€ä¸ªTaskã€‚</li>
<li><strong>Narrow Dependency(çª„ä¾èµ–)</strong>: æ¯”è¾ƒç®€å•çš„ä¸€å¯¹ä¸€ä¾èµ–å’Œå¤šå¯¹ä¸€ä¾èµ–(å¦‚union)</li>
<li><strong>Shuffle Dependency(å®½ä¾èµ–)</strong>: çˆ¶RDDçš„åˆ†åŒºè¢«å¤šä¸ªå­RDDåˆ†åŒºæ‰€ä½¿ç”¨ï¼Œè¿™æ—¶çˆ¶RDDçš„æ•°æ®ä¼šè¢«å†æ¬¡åˆ†å‰²å‘é€ç»™å­RDD</li>
<li><strong>Spark å†…å­˜åˆ†é…</strong>: åˆ†ä¸ºè¿™ä¸‰å—:<ul>
<li><strong>execution</strong>: æ‰§è¡Œå†…å­˜ï¼ŒåŸºæœ¬çš„ç®—å­éƒ½æ˜¯åœ¨è¿™é‡Œé¢æ‰§è¡Œçš„ï¼Œè¿™å—å†…å­˜æ»¡äº†å°±å†™å…¥ç£ç›˜ã€‚</li>
<li><strong>storage</strong>: ç”¨äºå­˜å‚¨broadcast, cache, persist</li>
<li><strong>other</strong>: ç¨‹åºé¢„ç•™ç»™è‡ªå·±çš„å†…å­˜ï¼Œè¿™ä¸ªå¯ä»¥ä¸ç”¨è€ƒè™‘</li>
</ul>
</li>
<li><strong>Duration</strong><ul>
<li><strong>batchDuration</strong>: æ‰¹æ¬¡æ—¶é—´</li>
<li><strong>windowDuration</strong>: çª—å£æ—¶é—´ï¼Œè¦ç»Ÿè®¡å¤šé•¿æ—¶é—´å†…çš„æ•°æ®ï¼Œå¿…é¡»æ˜¯<code>batchDuration</code>çš„æ•´æ•°å€</li>
<li><strong>slideDuration</strong>: æ»‘åŠ¨æ—¶é—´ï¼Œçª—å£å¤šé•¿æ—¶é—´æ»‘åŠ¨ä¸€æ¬¡ï¼Œå¿…é¡»æ˜¯<code>batchDuration</code>çš„æ•´æ•°å€ï¼Œä¸€èˆ¬æ˜¯è·Ÿ<code>batchDuration</code>æ—¶é—´ç›¸åŒ<h3 id="ç”ŸæˆRDD"><a href="#ç”ŸæˆRDD" class="headerlink" title="ç”ŸæˆRDD"></a>ç”ŸæˆRDD</h3>sc.parallelize(xrange(10))<br>sc.textFile(â€˜../data/fruits.txtâ€™)</li>
</ul>
</li>
</ul>
<h3 id="åŸºæœ¬è¿ç®—"><a href="#åŸºæœ¬è¿ç®—" class="headerlink" title="åŸºæœ¬è¿ç®—"></a><a href="https://haofly.net/spark/#%E5%9F%BA%E6%9C%AC%E8%BF%90%E7%AE%97" target="_blank" rel="noopener" title="åŸºæœ¬è¿ç®—"></a>åŸºæœ¬è¿ç®—</h3><ul>
<li>ä¸‹é¢æ˜¯æ‰€æœ‰è¿ç®—æ–¹æ³•çš„é›†åˆï¼Œå…¶ä¸­æœ‰äº›æ–¹æ³•ä»…ç”¨äºé”®å€¼å¯¹ï¼Œæœ‰äº›æ–¹æ³•ä»…ç”¨äºæ•°æ®æµ</li>
</ul>
<h4 id="Transformation-è½¬æ¢"><a href="#Transformation-è½¬æ¢" class="headerlink" title="Transformation(è½¬æ¢)"></a><a href="https://haofly.net/spark/#Transformation-%E8%BD%AC%E6%8D%A2" target="_blank" rel="noopener" title="Transformation(è½¬æ¢)"></a>Transformation(è½¬æ¢)</h4><p>è¿™ç±»æ–¹æ³•ä»…ä»…æ˜¯å®šä¹‰é€»è¾‘ï¼Œå¹¶ä¸ä¼šç«‹å³æ‰§è¡Œï¼Œå³lazyç‰¹æ€§ã€‚ç›®çš„æ˜¯å°†ä¸€ä¸ªRDDè½¬ä¸ºæ–°çš„RDDã€‚</p>
<ul>
<li>map(func): è¿”å›ä¸€ä¸ªæ–°çš„RDDï¼Œfuncä¼šä½œç”¨äºæ¯ä¸ªmapçš„keyï¼Œfuncçš„è¿”å›å€¼å³æ˜¯æ–°çš„æ•°æ®ã€‚ä¸ºäº†ä¾¿äºåé¢çš„è®¡ç®—ï¼Œè¿™ä¸€æ­¥ä¸€èˆ¬åœ¨æ•°æ®å¤„ç†çš„æœ€å‰é¢å°†æ•°æ®è½¬æ¢ä¸º(K, V)çš„å½¢å¼ï¼Œä¾‹å¦‚è®¡æ•°çš„è¿‡ç¨‹ä¸­é¦–å…ˆè¦<code>datas.map(lambda a, (a, 1))</code>å°†æ•°æ®è½¬æ¢æˆ(a, 1)çš„å½¢å¼ä»¥ä¾¿åé¢ç´¯åŠ </li>
<li><p>flatmapï¼š æå–å‡ºæ¯ä¸ªlistçš„æ‰€æœ‰å…ƒç´ ï¼Œå‹æˆä¸€å±‚</p>
</li>
<li><p>mappartitions(func, partition): å’Œmapä¸åŒçš„åœ°æ–¹åœ¨äºmapçš„funcåº”ç”¨äºæ¯ä¸ªå…ƒç´ ï¼Œè€Œè¿™é‡Œçš„<strong>funcä¼šåº”ç”¨äºæ¯ä¸ªåˆ†åŒº</strong>ï¼Œèƒ½å¤Ÿæœ‰æ•ˆå‡å°‘è°ƒç”¨å¼€é”€ï¼Œå‡å°‘funcåˆå§‹åŒ–æ¬¡æ•°ã€‚å‡å°‘äº†åˆå§‹åŒ–çš„å†…å­˜å¼€é”€ã€‚ä½†æ˜¯mapå¦‚æœæ•°æ®é‡è¿‡å¤§ï¼Œè®¡ç®—åé¢çš„æ—¶å€™å¯ä»¥å°†å·²ç»è®¡ç®—è¿‡çš„å†…å­˜é”€æ¯æ‰ï¼Œä½†æ˜¯mappartitionsä¸­å¦‚æœä¸€ä¸ªåˆ†åŒºå¤ªå¤§ï¼Œä¸€æ¬¡è®¡ç®—çš„è¯å¯èƒ½ç›´æ¥å¯¼è‡´å†…å­˜æº¢å‡ºã€‚</p>
</li>
<li>filter(func): è¿”å›ä¸€ä¸ªæ–°çš„RDDï¼Œfuncä¼šä½œç”¨äºæ¯ä¸ªmapçš„keyï¼Œè¿”å›çš„ä»…ä»…æ˜¯è¿”å›Trueçš„æ•°æ®ç»„æˆçš„é›†åˆï¼Œè¿”å›Noneæˆ–è€…Falseæˆ–è€…ä¸è¿”å›éƒ½è¡¨ç¤ºè¢«è¿‡æ»¤æ‰</li>
<li>filtMap(func): è¿”å›ä¸€ä¸ªæ–°çš„RDDï¼Œfuncå¯ä»¥ä¸€æ¬¡è¿”å›å¤šä¸ªå…ƒç´ ï¼Œæœ€åå½¢æˆçš„æ˜¯æ‰€æœ‰è¿”å›çš„å…ƒç´ ç»„æˆçš„æ–°çš„æ•°æ®é›†</li>
<li>mapValues(func): è¿”å›ä¸€ä¸ªæ–°çš„RDDï¼Œå¯¹RDDä¸­çš„æ¯ä¸€ä¸ªvalueåº”ç”¨å‡½æ•°funcã€‚</li>
<li>distinct(): å»é™¤é‡å¤çš„å…ƒç´ </li>
<li>subtractByKey(other): åˆ é™¤åœ¨RDD1ä¸­çš„RDD2ä¸­keyç›¸åŒçš„å€¼</li>
<li>groupByKey(numPartitions=None): å°†(K, V)æ•°æ®é›†ä¸Šæ‰€æœ‰Keyç›¸åŒçš„æ•°æ®èšåˆåˆ°ä¸€èµ·ï¼Œå¾—åˆ°çš„ç»“æœæ˜¯(K, (V1, V2â€¦))</li>
<li>reduceByKey(func, numPartitions=None): å°†(K, V)æ•°æ®é›†ä¸Šæ‰€æœ‰Keyç›¸åŒçš„æ•°æ®èšåˆåˆ°ä¸€èµ·ï¼Œfuncçš„å‚æ•°å³æ˜¯æ¯ä¸¤ä¸ªK-Vä¸­çš„Vã€‚å¯ä»¥ä½¿ç”¨è¿™ä¸ªå‡½æ•°æ¥è¿›è¡Œè®¡æ•°ï¼Œä¾‹å¦‚reduceByKey(lambda a,b:a+b)å°±æ˜¯å°†keyç›¸åŒæ•°æ®çš„Valueè¿›è¡Œç›¸åŠ ã€‚</li>
<li>reduceByKeyAndWindow(func, invFunc, windowdurartion, slideDuration=None, numPartitions=None, filterFunc=None): ä¸reduceByKeyç±»ä¼¼ï¼Œä¸è¿‡å®ƒæ˜¯åœ¨ä¸€ä¸ªæ—¶é—´çª—å£ä¸Šè¿›è¡Œè®¡ç®—ï¼Œç”±äºæ—¶é—´çª—å£çš„ç§»åŠ¨ï¼Œæœ‰å¢åŠ ä¹Ÿæœ‰å‡å°‘ï¼Œæ‰€ä»¥å¿…é¡»æä¾›ä¸€ä¸ªé€»è¾‘å’Œfuncç›¸åçš„å‡½æ•°invFuncï¼Œä¾‹å¦‚funcä¸º(lambda a, b: a+b)ï¼Œé‚£ä¹ˆinvFuncä¸€èˆ¬ä¸º(lambda a, b: a-b)ï¼Œå…¶ä¸­aå’Œbéƒ½æ˜¯keyç›¸åŒçš„å…ƒç´ çš„valueã€‚å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç¨‹åºé»˜è®¤ä¼šç¼“å­˜ä¸€ä¸ªæ—¶é—´çª—å£å†…æ‰€æœ‰çš„æ•°æ®ä»¥ä¾¿åç»­èƒ½è¿›è¡Œinvæ“ä½œï¼Œæ‰€ä»¥å¦‚æœçª—å£å¤ªé•¿ï¼Œå†…å­˜å ç”¨å¯èƒ½ä¼šéå¸¸é«˜</li>
<li>join(other, numPartitions=None): å°†(K, V)å’Œ(K, W)ç±»å‹çš„æ•°æ®è¿›è¡Œç±»ä¼¼äºSQLçš„JOINæ“ä½œï¼Œå¾—åˆ°çš„ç»“æœæ˜¯è¿™æ ·(K, (V, W))</li>
<li>union(other): å¹¶é›†è¿ç®—ï¼Œç®€å•åˆå¹¶ä¸¤ä¸ªRDD</li>
<li>intersection(other): äº¤é›†è¿ç®—ï¼Œä¿ç•™åœ¨ä¸¤ä¸ªRDDä¸­éƒ½æœ‰çš„å…ƒç´ </li>
<li>leftOuterJoin(other): å·¦å¤–è¿æ¥</li>
<li>rightOuterJoin(other): å³å¤–è¿æ¥</li>
</ul>
<h4 id="Action-æ‰§è¡Œ"><a href="#Action-æ‰§è¡Œ" class="headerlink" title="Action(æ‰§è¡Œ)"></a><a href="https://haofly.net/spark/#Action-%E6%89%A7%E8%A1%8C" target="_blank" rel="noopener" title="Action(æ‰§è¡Œ)"></a>Action(æ‰§è¡Œ)</h4><p>ä¸ä¼šäº§ç”Ÿæ–°çš„RDDï¼Œè€Œæ˜¯ç›´æ¥è¿è¡Œï¼Œå¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„ç»“æœã€‚</p>
<ul>
<li>collect(): ä»¥æ•°ç»„çš„å½¢å¼ï¼Œè¿”å›æ•°æ®é›†ä¸­æ‰€æœ‰çš„å…ƒç´ </li>
<li>count(): è¿”å›æ•°æ®é›†ä¸­å…ƒç´ çš„ä¸ªæ•°</li>
<li>take(n): è¿”å›æ•°æ®é›†çš„å‰Nä¸ªå…ƒç´ </li>
<li>takeOrdered(n): å‡åºæ’åˆ—ï¼Œå–å‡ºå‰Nä¸ªå…ƒç´ </li>
<li>takeOrdered(n, lambda x: -x): é™åºæ’åˆ—ï¼Œå–å‡ºå‰Nä¸ªå…ƒç´ </li>
<li>first(): è¿”å›æ•°æ®é›†çš„ç¬¬ä¸€ä¸ªå…ƒç´ </li>
<li>min(): å–å‡ºæœ€å°å€¼</li>
<li>max(): å–å‡ºæœ€å¤§å€¼</li>
<li>stdev(): è®¡ç®—æ ‡å‡†å·®</li>
<li>sum(): æ±‚å’Œ</li>
<li>mean(): å¹³å‡å€¼</li>
<li>countByKey(): ç»Ÿè®¡å„ä¸ªkeyå€¼å¯¹åº”çš„æ•°æ®çš„æ¡æ•°</li>
<li>lookup(key): æ ¹æ®ä¼ å…¥çš„keyå€¼æ¥æŸ¥æ‰¾å¯¹åº”çš„Valueå€¼</li>
<li>foreach(func): å¯¹é›†åˆä¸­æ¯ä¸ªå…ƒç´ åº”ç”¨func</li>
</ul>
<h4 id="Persistence-æŒä¹…åŒ–"><a href="#Persistence-æŒä¹…åŒ–" class="headerlink" title="Persistence(æŒä¹…åŒ–)"></a><a href="https://haofly.net/spark/#Persistence-%E6%8C%81%E4%B9%85%E5%8C%96" target="_blank" rel="noopener" title="Persistence(æŒä¹…åŒ–)"></a>Persistence(æŒä¹…åŒ–)</h4><ul>
<li>cache()ï¼šä¿å­˜ï¼Œå›ºå®š</li>
<li>persist(): å°†æ•°æ®æŒ‰é»˜è®¤çš„æ–¹å¼è¿›è¡ŒæŒä¹…åŒ–</li>
<li>unpersist(): å–æ¶ˆæŒä¹…åŒ–</li>
<li>saveAsTextFile(path): å°†æ•°æ®é›†ä¿å­˜è‡³æ–‡ä»¶</li>
</ul>
<hr>
<h2 id="RDDçš„æ“ä½œ-pyspark"><a href="#RDDçš„æ“ä½œ-pyspark" class="headerlink" title="RDDçš„æ“ä½œ pyspark"></a>RDDçš„æ“ä½œ pyspark</h2><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">fruits = sc.textFile(<span class="string">'../data/fruits.txt'</span>) </span><br><span class="line">fruits.collect()</span><br><span class="line"><span class="comment">#è¯»æ–‡æœ¬ï¼Œå…¨éƒ¨æ˜¾ç¤º</span></span><br></pre></td></tr></table></figure>
<p>ç´¯åŠ å™¨çš„ä½¿ç”¨ï¼š<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191030104539.png"></p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">rdd = sc.parallelize(xrange(<span class="number">10</span>))</span><br><span class="line">accum = sc.accumulator(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">g</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">global</span> accum</span><br><span class="line">    accum += x</span><br><span class="line">    <span class="keyword">return</span> x * x</span><br><span class="line"></span><br><span class="line">a = rdd.map(g)</span><br><span class="line"><span class="keyword">print</span> <span class="string">"---------"</span></span><br><span class="line"><span class="keyword">print</span> accum.value</span><br><span class="line"><span class="keyword">print</span> rdd.reduce(<span class="keyword">lambda</span> x, y: x+y)</span><br><span class="line"><span class="keyword">print</span> <span class="string">"---------"</span></span><br><span class="line"><span class="comment">#a.cache()</span></span><br><span class="line">tmp = a.count()</span><br><span class="line"><span class="keyword">print</span> accum.value</span><br><span class="line"><span class="keyword">print</span> rdd.reduce(<span class="keyword">lambda</span> x, y: x+y)</span><br><span class="line"><span class="keyword">print</span> <span class="string">"---------"</span></span><br><span class="line">tmp = a.count()</span><br><span class="line"><span class="keyword">print</span> accum.value</span><br><span class="line"><span class="keyword">print</span> rdd.reduce(<span class="keyword">lambda</span> x, y: x+y)</span><br><span class="line"><span class="comment">#reduce å§‹ç»ˆä¸å˜ï¼Œä½†æ˜¯å¦‚æœæ²¡æœ‰cache accumulatorå°±ä¼šåå¤ç´¯åŠ </span></span><br></pre></td></tr></table></figure>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">---------</span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">45</span></span><br><span class="line">---------</span><br><span class="line"><span class="number">45</span></span><br><span class="line"><span class="number">45</span></span><br><span class="line">---------</span><br><span class="line"><span class="number">90</span></span><br><span class="line"><span class="number">45</span></span><br></pre></td></tr></table></figure>
<p>å±•ç¤ºåˆ†åŒºglomï¼ˆï¼‰<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191030105120.png"><br>mapParttitions åœ¨åˆ†åŒºå†…éƒ¨æ‰§è¡Œå‡½æ•°f<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191030110438.png"></p>
<p>è¿™é‡Œçš„indexå°±æ˜¯ä¸ºäº†æ”¹å˜æ¯æ¬¡ç”Ÿæˆçš„éšæœºæ•°ä¸ä¸€æ ·ï¼Œå¦åˆ™æ¯ä¸ªåˆ†åŒºç®—å‡ºæ¥æ˜¯ä¸€æ ·çš„<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191030110351.png"></p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191030111556.png"><br>å¯¹keyç›¸åŒçš„å€¼è¿›è¡Œæ“ä½œ</p>
<h4 id="kmeans"><a href="#kmeans" class="headerlink" title="kmeans"></a>kmeans</h4><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191030113309.png"></p>
<h4 id="pagerank"><a href="#pagerank" class="headerlink" title="pagerank"></a>pagerank</h4><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191031205443.png"></p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191030113538.png"></p>
<h1 id="Internal-of-Spark"><a href="#Internal-of-Spark" class="headerlink" title="Internal of Spark"></a>Internal of Spark</h1><h2 id="webç«¯ç›‘æ§Sparkè¿è¡Œæƒ…å†µ"><a href="#webç«¯ç›‘æ§Sparkè¿è¡Œæƒ…å†µ" class="headerlink" title="webç«¯ç›‘æ§Sparkè¿è¡Œæƒ…å†µ"></a>webç«¯ç›‘æ§Sparkè¿è¡Œæƒ…å†µ</h2><p>æŸ¥çœ‹Spark å¯è§†åŒ–è¿›ç¨‹ï¼š localhost:4040 4041 4042 â€¦</p>
<h2 id="partitions-åˆ†åŒº"><a href="#partitions-åˆ†åŒº" class="headerlink" title="partitions åˆ†åŒº"></a>partitions åˆ†åŒº</h2><p>RDDæ˜¯å‚¨å­˜åœ¨ä¸åŒçš„partitioné‡Œçš„ï¼Œç”Ÿæˆæ—¶æ¯ä¸ªpartitionå¹³è¡¡çš„ï¼ˆæ•°é‡å·®ä¸å¤šï¼‰ï¼Œç”¨äºå¹¶è¡Œè®¡ç®—ï¼Œä½†æ˜¯æœ‰å¯èƒ½æ“ä½œä¹‹åï¼Œå°±ä¸å¹³è¡¡äº†ã€‚</p>
<p>è¿™æ—¶å€™ï¼Œéœ€è¦ .repartition(n)</p>
<h1 id="Hash-vs-Range-partitioning"><a href="#Hash-vs-Range-partitioning" class="headerlink" title="Hash  vs Range partitioning"></a>Hash  vs Range partitioning</h1><ul>
<li>Hash partitioning<br>é€šè¿‡%Nï¼Œè¿™æ ·çš„å°†ç›¸åŒ<strong>ä½™æ•°</strong>æ”¾åˆ°ä¸€ä¸ªåˆ†åŒºã€‚<br>ç¼ºç‚¹ï¼šå¯èƒ½ç”±äºåŸæ•°æ®ä½™æ•°ä¸å¹³è¡¡ï¼Œå¯èƒ½åˆ†åŒºä¸å¹³è¡¡</li>
<li>Range partitioning<br>è®¡ç®—æ¯ä¸ªåˆ†åŒºå¤§å°ï¼Œå°†è¿ç»­çš„æ•°æ”¾åˆ°ä¸€ä¸ªåˆ†åŒº<br>ç¼ºç‚¹ï¼šæ•°å€¼å¤§å°ä¸å¹³è¡¡</li>
</ul>
<p>ä¾‹å­å¦‚ä¸‹ï¼š<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191031200235.png"></p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191031201853.png"><br>RDDæœ¬æ¥æ²¡æœ‰partitionsï¼Œå½“æœ‰äº†shuffle æˆ–è€…ä¸»åŠ¨ç”Ÿæˆä¸€ä¸ªpartitionsæ‰ä¼šæœ‰ã€‚<br>(è¿™æ ·çš„å¥½å¤„æ˜¯ï¼Œshuffleæœ¬èº«æ˜¯éœ€è¦å¤šä¸ªpartitionsä¸€èµ·å‚ä¸çš„ï¼Œå¦‚æœæ˜¯çº¿æ€§å›¾ï¼ˆkeyæ²¡æœ‰å˜åŒ–ï¼‰ï¼Œé‚£å°±åªéœ€è¦åœ¨è‡ªå·±çš„åˆ†åŒºå†…è®¡ç®—ï¼Œå®ç°å¹¶è¡Œ)</p>
<p>ä¼šç»§æ‰¿partitionsçš„3ä¸ªOperations(keyä¸ä¼šæ”¹å˜):</p>
<ul>
<li>mapValues  ï¼ˆä½†æ˜¯mapå°±ä¸è¡Œï¼‰<ul>
<li>flatMapValues </li>
<li>filter  </li>
</ul>
</li>
</ul>
<p>å…¶ä»–çš„Operationséƒ½ä¼šæ”¹å˜keyï¼Ÿ ï¼ˆè¿™é‡Œéœ€è¦è€ƒå¯Ÿä¸€ä¸‹ï¼‰<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191031202823.png"></p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191031211821.png"></p>
<p>Spark çš„ å„çº§ç›®å½•</p>
<blockquote>
<p>application ä¸€ä¸ªå†…æ ¸&gt;jobä¸€æ¬¡è¿è¡Œ &gt;stageæŒ‡ä»¤ä¸‹çš„ä¸€ä¸ªçŠ¶æ€&gt;taskä¸€ä¸ªçŠ¶æ€çš„ä»»åŠ¡</p>
</blockquote>
<p>Sparkçš„å†…å­˜ç®¡ç†</p>
<ul>
<li>Two types of memory usages for applications:<br>â€“ Execution memory: for computation in shuffles, joins, sorts and aggregations<br>â€“ Storage memory: for caching and propagating internal data across the cluster</li>
</ul>
]]></content>
      <categories>
        <category>MSBD5003</category>
      </categories>
      <tags>
        <tag>å¤ä¹ </tag>
        <tag>spark</tag>
        <tag>5003</tag>
      </tags>
  </entry>
  <entry>
    <title>å‡†å¤‡QéŸ³æ¨èå®ä¹ é¢è¯•çš„ç¬”è®°</title>
    <url>/2019/%E5%87%86%E5%A4%87Q%E9%9F%B3%E6%8E%A8%E8%8D%90%E7%9A%84%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<p>11æœˆ30æ›´æ–°ï¼Œé¢è¯•é€šè¿‡ã€‚åç»­æ›´æ–°å®ä¹ å¿ƒå¾—ã€‚</p><hr><p>å­¦å§æœ‰å‘æ¶ˆæ¯æ‹›è…¾è®¯éŸ³ä¹çš„æ—¥å¸¸å®ä¹ ï¼Œæˆ‘å½“å¤©æŠ•é€’ç®€å†ï¼Œå½“æ™šç»„é•¿è”ç³»ç¬¬äºŒå¤©é¢è¯•ã€‚<br>æ¨èéƒ¨é—¨ï¼Œæˆ‘çº¦çš„ç¬¬äºŒå¤©ä¸‹åˆä¸‰ç‚¹é¢è¯•ï¼Œæ„Ÿè§‰ä¸‹åˆä¼šæ¸…é†’ä¸€ç‚¹ã€‚<br>ç°åœ¨è®°å½•ä¸€ä¸‹å‡†å¤‡è¿‡ç¨‹ã€‚<br>æœ¬æ–‡æ²¡æœ‰é€»è¾‘ï¼Œçœ‹åˆ°å“ªè®°åˆ°å“ªã€‚</p><a id="more"></a>


<hr>
<h1 id="qqéŸ³ä¹æ¨èç°çŠ¶"><a href="#qqéŸ³ä¹æ¨èç°çŠ¶" class="headerlink" title="qqéŸ³ä¹æ¨èç°çŠ¶"></a>qqéŸ³ä¹æ¨èç°çŠ¶</h1><p>ç”¨æˆ·ç™»å½•ä¹‹åï¼Œé»˜è®¤è¿›å…¥å–œå¥½é€‰æ‹©é¡µé¢ã€‚<br>Page1ï¼šé€‰æ‹©å–œå¥½çš„éŸ³ä¹æµæ´¾ï¼Œå¯å¤šé€‰ï¼Œå€™é€‰é¡¹ä¸ºå¸¸è§çš„æµæ´¾<br>Page2ï¼šé€‰æ‹©å–œå¥½çš„æ­Œæ‰‹ï¼Œå€™é€‰é¡¹ä¸ºåŸºäºæµæ´¾é‡Œçš„å‡ºåæ­Œæ˜Ÿ<br>ç„¶ååœ¨æ¨èé¡µï¼Œæœ‰ç”µå°ï¼Œå½“å¤©æ¨è30é¦–ï¼Œæ¯å‘¨æ–°æ­Œæ¨èï¼›<br>ä¸‹é¢å¯ä»¥ä¸€ç›´å¾€ä¸‹æ‹‰ï¼Œæœ‰ä¸“è¾‘å’ŒçŸ­è§†é¢‘æ¨èï¼ŒçŸ­è§†é¢‘è‡ªåŠ¨æ’­æ”¾</p>
<p>å–œå¥½é€‰æ‹©å¯ä»¥è§£å†³èƒ½å¯åŠ¨ã€‚<br>è§£å†³å†·å¯åŠ¨è¿˜èƒ½é€šè¿‡ï¼š</p>
<blockquote>
<p>å¯¼å…¥ç”¨æˆ·åœ¨ç¤¾äº¤ç½‘ç»œä¸Šçš„å¥½å‹ä¿¡æ¯å’Œå…¬å¼€å‘å¸ƒçš„ä¿¡æ¯<br>åŸºæœ¬ä¿¡æ¯ï¼šï¼ˆæ€§åˆ«ã€èŒä¸šã€å¹´é¾„æ®µã€åœ°ç†ä½ç½®ï¼ˆæ–¹è¨€ï¼ŒåŸå¸‚ç­‰çº§ï¼Œå¤©æ°”ï¼‰ã€æ‰‹æœºå‹å·ï¼Œä¼ æ„Ÿå™¨ï¼šè¡Œä¸ºåˆ¤æ–­è¿åŠ¨ï¼Ÿæ•£æ­¥ï¼Ÿä¼‘æ¯ï¼‰<br>å…³ç³»é“¾ï¼šç›¸ä¼¼å¥½å‹æ¨è<br>æœ‹å‹åœˆã€QQç©ºé—´è·å–åˆæ­¥çš„ç”¨æˆ·ç”»åƒï¼š</p>
<ul>
<li>è‡ªå·±ï¼šä¸ªæ€§ç­¾åï¼Œæœ‹å‹åœˆåŠ¨æ€-nlpï¼Œcvæƒ…æ„Ÿåˆ†æ</li>
<li>äº¤äº’ï¼šå¥½å‹åˆ†äº«ï¼Œç‚¹èµï¼Œè¯„è®º</li>
</ul>
</blockquote>
<hr>
<h1 id="ç›¸ä¼¼åº¦çŸ©é˜µæ€è€ƒé—®é¢˜"><a href="#ç›¸ä¼¼åº¦çŸ©é˜µæ€è€ƒé—®é¢˜" class="headerlink" title="ç›¸ä¼¼åº¦çŸ©é˜µæ€è€ƒé—®é¢˜"></a>ç›¸ä¼¼åº¦çŸ©é˜µæ€è€ƒé—®é¢˜</h1><p>é“¾æ¥ï¼š<a href="https://link.jianshu.com/?t=https://www.zhihu.com/question/26743347/answer/34542247" target="_blank" rel="noopener">çŸ¥ä¹æ²™å…‹</a>  </p>
<p>å®Œæ•´çš„æ¨èç³»ç»Ÿä½“ç³»åŒ…æ‹¬ å®˜æ–¹å›¢é˜Ÿæ¨èï¼ˆEditorialï¼‰ã€UGCï¼ˆUser-Generated Contentï¼‰å’Œçƒ­é—¨æ¨èï¼ˆTop Seller/Trendingï¼‰çš„åä½œã€‚</p>
<ul>
<li><strong>ç›¸ä¼¼åº¦çŸ©é˜µï¼ˆSimilarity Matrixï¼‰ï¼š</strong><br>å¤§å®¶æçš„å„ç§ç®—æ³•é‡Œé¢ï¼Œå‡ ä¹éƒ½æ˜¯åŸºäºç›¸ä¼¼åº¦çš„å§ â€” æ— è®ºæ˜¯CFè¿˜æ˜¯Content basedäº§ç”Ÿçš„ç›¸ä¼¼åº¦ï¼Œå‰è€…éœ€è¦ç”¨æˆ·çš„è¡Œä¸ºæ•°æ®ï¼Œåè€…éœ€è¦æ­Œæ›²çš„å…ƒæ•°æ®ï¼ˆmetadataï¼‰ï¼Œæ¯”å¦‚æ—‹å¾‹ã€Tagç­‰ç­‰ã€‚<br>éœ€è¦é¿å…è¿‡å¤šæ¨èå•ä¸€æ­Œæ‰‹ï¼Œé¿å…è¿‡å¤šçƒ­é—¨ã€‚<br>æ‰¾åˆ°å†·é—¨ä¼˜ç§€çš„æ­Œæ›²ã€‚<br>ç±»ä¼¼ä¸tf-idfï¼Œåœ¨æ­Œæ›²å¯¹ä¸ªäººçš„é‡è¦æ€§åœ¨æ€»æ¦œé‡Œçš„çƒ­åº¦ä¹˜åæ¯”ï¼Œåœ¨ä¸ªäººçš„å–œå¥½ç¨‹åº¦ä¹˜æ­£æ¯”ã€‚</li>
</ul>
<hr>
<h1 id="userCFç®—æ³•å’ŒitemCFç®—æ³•çš„å±‚é¢"><a href="#userCFç®—æ³•å’ŒitemCFç®—æ³•çš„å±‚é¢" class="headerlink" title="userCFç®—æ³•å’ŒitemCFç®—æ³•çš„å±‚é¢"></a>userCFç®—æ³•å’ŒitemCFç®—æ³•çš„å±‚é¢</h1><blockquote>
<p>é“¾æ¥ï¼š<a href="https://link.jianshu.com?t=https://www.zhihu.com/question/26743347/answer/65777210" target="_blank" rel="noopener">ä½œè€…ï¼šéƒ‘æ˜Š</a><br>æ¥æºï¼šçŸ¥ä¹è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ï¼Œè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒã€‚<br>åœ¨æœ¬æ–‡ä¸­æˆ‘ä»¬å°†æåˆ°ä¸¤ç§æ–¹æ³•æ¥å®ç°è¿™ä¸ªç›®çš„ï¼ŒåŸºäºç”¨æˆ·çš„åä½œå‹è¿‡æ»¤å’ŒåŸºäºç‰©å“çš„åä½œå‹è¿‡æ»¤ã€‚</p>
</blockquote>
<h2 id="åŸºäºç”¨æˆ·çš„åä½œå‹è¿‡æ»¤"><a href="#åŸºäºç”¨æˆ·çš„åä½œå‹è¿‡æ»¤" class="headerlink" title="åŸºäºç”¨æˆ·çš„åä½œå‹è¿‡æ»¤"></a>åŸºäºç”¨æˆ·çš„åä½œå‹è¿‡æ»¤</h2><p> éŸ³ä¹ç”¨æˆ·ç”²-&gt;åå¥½ç›¸è¿‘ç”¨æˆ·-&gt;ç›¸å…³æ­Œæ›²-&gt;æ¨èåˆ—è¡¨</p>
<p>æµç¨‹è‡³å°‘åŒ…æ‹¬ä»¥ä¸‹å››ä¸ªæ­¥éª¤ï¼š<br>å»ºç«‹è¯„ä»·è§„åˆ™<br>æœé›†ç”¨æˆ·åå¥½<br>å¯»æ‰¾ç›¸è¿‘çš„ç”¨æˆ·<br>æ¨èæ­Œæ›²</p>
<blockquote>
<p><strong>1.å»ºç«‹è¯„ä»·è§„åˆ™</strong><br>ä¸‹å›¾æ˜¯æˆ‘éšæ„åšçš„ä¸€ä¸ªè¯„ä»·è§„åˆ™ã€‚è¯„ä»·è§„åˆ™åº”è¯¥æ ¹æ®æ˜ç¡®çš„ç”¨æˆ·è¡Œä¸ºæ¥å»ºç«‹ã€‚</p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191119203521.png"></p>
<p>è¯„ä»·è§„åˆ™-éšæ„åšçš„</p>
<p><strong>2.æœé›†ç”¨æˆ·åå¥½</strong><br>æ ¹æ®è¯„ä»·è§„åˆ™ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°æ¯ä¸ªç”¨æˆ·å’Œè¯¥ç”¨æˆ·ç›¸å…³çš„æ¯é¦–æ­Œçš„ä¸€ä¸ªå¾—åˆ†ã€‚ ä¸‹å›¾ä¹Ÿæ˜¯æˆ‘éšæ„é€ çš„æ•°æ®ã€‚</p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191119203536.png"></p>
<p>ç”¨æˆ·åå¥½</p>
<p><strong>3.å¯»æ‰¾ç›¸è¿‘çš„ç”¨æˆ·</strong><br>å¸¸ç”¨çš„è®¡ç®—ç›¸ä¼¼åº¦è¯„ä»·å€¼çš„ä½“ç³»æœ‰ä¸¤ç§ï¼šæ¬§å‡ é‡Œå¾—è·ç¦»å’Œçš®å°”é€Šç›¸å…³åº¦ã€‚</p>
<p><strong>4.æ¨èæ­Œæ›²</strong><br>æ¥ä¸‹æ¥ç³»ç»Ÿè¦åšçš„å°±æ˜¯ï¼Œä¸ºç”¨æˆ·éƒ‘æ˜Šæä¾›æ­Œæ›²æ¨èã€‚æˆ‘ä»¬å½“ç„¶å¯ä»¥æŸ¥æ‰¾ä¸éƒ‘æ˜Šå“å‘³æœ€ç›¸è¿‘çš„äººï¼Œä»ä»–æ‰€å–œæ¬¢çš„æ­Œæ›²ä¸­æ‰¾å‡ºä¸€é¦–éƒ‘æ˜Šå¯èƒ½è¿˜æœªæ¥è§¦è¿‡çš„æ­Œæ›²ã€‚ä¸è¿‡ï¼Œè¿™æ ·çš„åšæ³•æœªå…å¤ªéšæ„äº†ã€‚<br>ç›®å‰æœ€é€šç”¨çš„åšæ³•æ˜¯ï¼Œé€šè¿‡ä¸€ä¸ªç»è¿‡åŠ æƒçš„è¯„ä»·å€¼æ¥ä¸ºæ­Œæ›²æ‰“åˆ†ï¼Œè¯„åˆ†ç»“æœå³æ’åç»“æœã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦å–å¾—æ‰€æœ‰å…¶ä»–ç”¨æˆ·çš„åˆ†æ•°ï¼Œå€Ÿæ­¤å¾—åˆ°ç›¸å…³ç³»æ•°åï¼Œå†ä¹˜ä»¥ä»–ä»¬ä¸ç›¸å…³æ­Œæ›²çš„åˆ†æ•°ï¼Œæ±‚å’Œä¹‹åå†é™¤ä»¥å¯¹åº”çš„ç›¸å…³ç³»æ•°æ€»è®¡ï¼Œä¾¿èƒ½è·å¾—ä¸€ä¸ªæˆ‘ä»¬éœ€è¦çš„è¯„ä»·å€¼ã€‚åœ¨ä¸‹è¡¨ä¸­æˆ‘ä»¬ç»™å‡ºäº†å…·ä½“çš„åšæ³•ã€‚</p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191119203705.png"></p>
<p>ã€Œç›¸å…³ç³»æ•°ã€ä¸€åˆ—æ¥è‡ªäºçš®å°”é€Šç›¸å…³åº¦è¯„ä»·ã€‚ã€Œæ­Œåã€å¯¹åº”å„ç”¨æˆ·çš„å¾—åˆ†æ¥è‡ªè¯„ä»·è§„åˆ™å¤„ç†åçš„ç»“æœã€‚å°†å‰ä¸¤è€…ä¸€ä¸€å¯¹åº”ç›¸ä¹˜ï¼Œä¾¿æ˜¯ã€Œæ­ŒN*ç›¸å…³ç³»æ•°ã€çš„å€¼ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œç›¸æ¯”äºä¸æˆ‘ä»¬ä¸ç›¸è¿‘çš„äººï¼Œé‚£äº›ä¸æˆ‘ä»¬ç›¸è¿‘çš„äººå°†ä¼šå¯¹æ•´ä½“è¯„ä»·å€¼æ‹¥æœ‰æ›´å¤šçš„è´¡çŒ®ã€‚æ€»è®¡ä¸€è¡Œç»™å‡ºäº†æ‰€æœ‰åŠ æƒè¯„ä»·å€¼çš„æ€»å’Œã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ç”¨æ€»è®¡å€¼æ¥è®¡ç®—æ­Œæ›²æ’åï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜éœ€è¦è€ƒè™‘åˆ°ï¼Œè¿™æ ·äººæ•°ä¼šå¯¹ä¸€é¦–æ­Œçš„å¾—åˆ†äº§ç”Ÿæ­£ç›¸å…³å½±å“ã€‚ä¸ºäº†é¿å…è¿™ä¸€é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦å°†æ€»è®¡é™¤ä»¥ç›¸å…³ç³»æ•°æ€»è®¡ã€‚ç›¸å…³ç³»æ•°æ€»è®¡ç­‰äºæ‰€æœ‰å¯¹è¿™é¦–æ­Œæ›²æœ‰å½±å“çš„ç”¨æˆ·çš„ç›¸å…³ç³»æ•°ä¹‹å’Œã€‚è¡¨ä¸­æœ€åä¸€è¡Œå°±æ˜¯æˆ‘ä»¬æ‰€éœ€è¦çš„ç»“æœã€‚</p>
</blockquote>
<h2 id="åŸºäºç‰©å“çš„åä½œå‹è¿‡æ»¤"><a href="#åŸºäºç‰©å“çš„åä½œå‹è¿‡æ»¤" class="headerlink" title="åŸºäºç‰©å“çš„åä½œå‹è¿‡æ»¤"></a>åŸºäºç‰©å“çš„åä½œå‹è¿‡æ»¤</h2><p>1.æ­Œæ›²A-&gt;ç›¸å…³ç”¨æˆ·-&gt;ç›¸å…³æ­Œæ›²-&gt;æ¨èåˆ—è¡¨ï¼›<br>2.ç½‘æ˜“äº‘éŸ³ä¹ç”¨æˆ·ç”²-&gt;åå¥½æ­Œæ›²-&gt;æ¨èåˆ—è¡¨ã€‚</p>
<p>1æ˜¯ä¸»è¦è®¡ç®—è¿‡ç¨‹ï¼Œ2æ˜¯æ¨èè¿‡ç¨‹ã€‚</p>
<hr>
<h1 id="ä»äº§å“è§’åº¦æ€è€ƒæ•°æ®"><a href="#ä»äº§å“è§’åº¦æ€è€ƒæ•°æ®" class="headerlink" title="ä»äº§å“è§’åº¦æ€è€ƒæ•°æ®"></a>ä»äº§å“è§’åº¦æ€è€ƒæ•°æ®</h1><p><a href="http://www.chanpin100.com/article/100147" target="_blank" rel="noopener">é“¾æ¥</a><br>è¡Œä¸šåˆ†æã€å¸‚åœºåˆ†æã€ç”¨æˆ·ç¾¤çš„åˆ’åˆ†å’Œåˆ†æä¹‹å¤–ï¼Œè¿˜è€ƒè™‘æœªæ¥çš„å‘å±•æ–¹å‘</p>
<hr>
<h1 id="å®ä¹ ç»å†æè¿°"><a href="#å®ä¹ ç»å†æè¿°" class="headerlink" title="å®ä¹ ç»å†æè¿°"></a>å®ä¹ ç»å†æè¿°</h1><p>è…¾è®¯ å¾®ä¿¡äº‹ä¸šç¾¤ æ•°æ®åˆ†æå®ä¹ ç”Ÿ ç”¨æˆ·æ‹‰èµ·æ–¹å‘ 2019.04-2019.08 l è¿ç”¨èšç±»ç®—æ³•å¯¹ç”¨æˆ·æ¥æºã€æ‹‰èµ·ç‰¹å¾ã€æ´»è·ƒä¼ä¸šç­‰å±æ€§å®Œæˆäº†ç”¨æˆ·èšç±»ï¼Œæ¢³ç†å‡ºç”¨æˆ·ç”»åƒï¼Œæ‰¾åˆ°ç”¨æˆ·æ‹‰èµ·çš„å¢é•¿ç‚¹;é€šè¿‡é€šè¿‡æ¼æ–—åˆ†æï¼Œå¯»æ‰¾å‡ºæ³¨å†Œé¡µç“¶é¢ˆï¼Œæ‰¾åˆ°æ”¹è¿›æªæ–½ã€‚</p>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191119221035.png"></p>
<p>äº§å“å²—ï¼Œåšçš„æ‚ï¼šææ•°æ®ï¼ŒåšæŠ¥è¡¨ï¼Œç­–åˆ’ï¼Œæ•°æ®åˆ†æã€‚<br>åˆ†æï¼šäº’é€šç°çŠ¶ã€‚<br>ä»»åŠ¡ï¼šåˆ†æç°çŠ¶ï¼Œæ¢³ç†å‡ºä¸‹ä¸€æ­¥çš„æ–¹å‘ã€‚<br>Whatï¼šç°çŠ¶æ˜¯ä»€ä¹ˆï¼Ÿç”¨æˆ·å¢é•¿æ”¾ç¼“ï¼Œå‘æ¶ˆæ¯åŠ æ·±ã€‚<br>æ€è·¯ï¼šç”¨æˆ·ç¾¤çš„åˆ’åˆ†â†’å¾—åˆ°æ¯”ä¾‹å’Œç”»åƒâ†’æ¯”ä¾‹ä¸å¸‚åœºæ¯”è¾ƒï¼Œå¯»æ‰¾ç©ºé—´ï¼›ç”»åƒå¯¹æ¯”æˆ‘ä»¬çš„ç›®æ ‡ä¼ä¸šæŸ¥çœ‹é—®é¢˜</p>
<ul>
<li><p>ç”¨æˆ·ç¾¤æ€ä¹ˆåˆ’åˆ†ï¼Ÿ<br>1 æ´»è·ƒ 62%<br>2 åŸºäºäº§å“æ€§è´¨ï¼ŒååŒ12%ï¼ŒæœåŠ¡50%<br>3 æœåŠ¡ç±»çš„ åŸºäºä½¿ç”¨æƒ…å†µï¼Œå…¬å¸è§„æ¨¡ å¤§ä¼ä¸š10% å°ä¼ä¸š40%</p>
</li>
<li><p>ç”»åƒï¼Œä½¿ç”¨æƒ…å†µï¼š<br>åˆ†è¯å»å¯»æ‰¾å²—ä½ï¼Œæ ‘çŠ¶ç»“æ„å»æ‰¾çº§åˆ«ï¼Œæµå¤±æ—¶é—´ç‚¹ï¼Œæ˜¯å¦ä½“éªŒäº†</p>
</li>
</ul>
<p>è§£å†³ï¼š<br>whenï¼šä½¿ç”¨äº’é€šæ¬¡æ—¥<br>whoï¼šITï¼Œé›¶å”®ï¼Œç‰©æµ<br>whyï¼šéœ€è¦å®¢æˆ·è”ç³»ï¼Œç®¡ç†æ¶ˆè´¹è€…èµ„æº<br>howï¼š<br>1 å¤§ä¼ä¸šï¼Œæ¨è”ç³»æ–¹å¼ç»™BDè”ç³»ä¸»åŠ¨æ²Ÿé€šï¼Œæ‹‰èµ·ä½¿ç”¨<br>2 ä¸­å°ä¼ä¸šï¼Œéç®¡ç†å‘˜ä½“éªŒï¼Œpushå¼•å¯¼ç®¡ç†å‘˜å¼€é€šå®¢æˆ·è”ç³»ï¼›  ç®¡ç†å‘˜ä½“éªŒï¼Œä¼ä¸šå·æ¨é€è¡Œä¸šæ¡ˆä¾‹ï¼Œæ¿€å‘å…´è¶£<br>3 æœªè¿›å…¥çš„ä¼ä¸šï¼Œå¯»æ‰¾â€œä¼˜è´¨ç”¨æˆ·â€åŒ…ï¼Œåœ¨æœ‹å‹åœˆå¹¿å‘Šå®šå‘æ¨é€äº’é€šè¡Œä¸šæ¡ˆä¾‹<br>4 å¢åŠ é€šé“ï¼šå¾®ä¿¡ä¸ªäººèµ„æ–™å¢åŠ ä¼ä¸šå¾®ä¿¡iconï¼Œå¢åŠ æ›å…‰</p>
<hr>
]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>å®ä¹ </tag>
        <tag>æ¨èç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>What is GAN basicly?</title>
    <url>/2019/What-is-GAN-basicly/</url>
    <content><![CDATA[<p><strong>MSBD5012 Term Paper</strong></p><p>Due Date: 7 December 2019</p><p>Via Canvas</p><p>As announced by the university administration, there wonâ€™t be any proctored examinations this semester and alternative assessment arrangements are to be made by the course instructors. For CSIT6000G/MSBD5012, you are asked to write a term paper in lieu of the final exam.</p><a id="more"></a>



<p>You need to choose one topic from the following list, and explain it informally:</p>
<p>Â· Adversarial attack</p>
<p>Â· Variational autoencoders</p>
<p>Â· Generative adversarial networks</p>
<p>Â· Deep reinforcement learning</p>
<p>The targeted readers of the paper are computer science students who are about to take the course. In other words,  <strong>you are asked to explain the chosen topic to the past you</strong> at 1 September 2019.  Obviously, there isnâ€™t enough space for you to include all the details. However, you need to cover the<br>key concepts and key ideas.<br> You can follow the outlines of the relevant lectures, and might need to include contents before those lectures as background.</p>
<p>You can include diagrams and mathematical formulae. However, avoid mathematical formulae as much as possible because  <strong>the purpose is to give informal explanations, not formal proofs.</strong></p>
<p>The term paper should be no more than 4 pages in length, and the font size of the main text should be 12pt. You are encouraged to use latex  <a href="https://github.com/ICLR/Master-Template/blob/master/archive/iclr2020.zip" target="_blank" rel="noopener">latex template</a> of <a href="https://iclr.cc/Conferences/2020/CallForPapers" target="_blank" rel="noopener">ICLR 2020</a>. Generate a pdf file for submission via Canvas and name your file  â€œ [Last Name]_ [First Name]_[Student ID].pdfâ€. Discussions among students are encouraged. However, you need to write up your paper independently.  A plagiarism checker will be run on all submitted reports.</p>
<p>The term paper will be graded using the following scheme:</p>
<p>Â· Overall understanding of the topic:  50%</p>
<p>Â· Clarity of explanations:  30%</p>
<p>Â· Effort (how polished the report is):  20%</p>
<p>The term paper is  <strong>due by 23:59 on 7 December</strong>, the scheduled final exam date.  <strong>No late submissions will be accepted</strong>.</p>
<hr>
<h1 id="Generative-Adversarial-Networks-is-so-Easy"><a href="#Generative-Adversarial-Networks-is-so-Easy" class="headerlink" title="Generative Adversarial Networks is so Easy"></a>Generative Adversarial Networks is so Easy</h1><p>In machine learning course, we learn how to teach our program to learn the information among the data. There are a lotâ€™s kinds of work can be down, just like classification, regression and generate new data as same as nature. Generating new data is pretty interesting job. Thinking about what if you can teach your program to learn the plot by Picassoâ€™s. The plots by Picassoâ€™s  is very famous and expensive. The most painting by Picasso is _Les femmes dâ€™Alger_  which worth  $179 million.  If we can teach our program to plot a image similar with his style easily. Thatâ€™s will be a amazing job. But now we can made it by the algorithm GANs.</p>
<h2 id="Basic-idea"><a href="#Basic-idea" class="headerlink" title="Basic idea"></a>Basic idea</h2><p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191130001221.png"></p>
<p>GANs are the algorithms represented for Generative Adversarial Networks.  It is the process of two complex algorithms (neural networks) competing against each other. One algorithms is called <strong>Generator,</strong> the other algorithm is called <strong>Discriminator</strong>.</p>
<p>The generative model and the discriminant model play a game with each other and learn to produce quite good output. Taking pictures as an example, the main task of the generator is to learn the real picture set, so that the pictures generated by yourself are closer to the real pictures, and the â€œdisguiseâ€ discriminator. The main task of the discriminator is to find out the picture generated by the generator, distinguish it from the real picture, and perform true and false discrimination. Throughout the iteration process, the generator continuously strives to make the generated image more and more real, and the discriminator continuously strives to identify the authenticity of the picture. This is similar to the game between the generator and the discriminator. After repeated iterations, the two finally reached a balance: the picture generated by the generator is very close to the real picture, and it is difficult for the discriminator to distinguish the difference between the real and fake pictures. Its performance is that for true and false pictures, the probability output of the discriminator is close to 0.5.</p>
<p>Letâ€™s still assume an I wants to replicate the style of Picasso. After I have watch all the detail of Picassoâ€™s paintings, I think I have learned a lot. So I find a a collector to help me improve my level. The collector has rich experience and sharp eyes, and the paintings on the market that imitate Picasso cannot escape his eyes. The collector told me a word: when will your painting deceive me, you will be successful.</p>
<p>Then I give hime this one:<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191130110753.png"><br>The collector glanced lightly and was very angry. â€œ0 points! This is also called painting? Too much difference!â€ After listening to the collectorâ€™s words, I began to reflect on myself and did not hesitate to draw, even it is a black image. So I drew another picture:<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191130110852.png"></p>
<p>The collector saw : 1 point ! Repaint! As soon as I thought it was still impossible, the painting was too bad, so I went back to study Picassoâ€™s painting style, and continued to improve and re-create, until one day I showed the new painting to the collector:<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191130001221.png"><br>This time, the collector was wearing glasses and carefully analyzing. After a long time, the collector patted my shoulder and said that the painting was very good. Haha, I was so happy to be praised and affirmed by the collector.</p>
<p>This example is actually a GAN training process. I am a generator, the purpose is to output a picture that can fool collectors, making it difficult for collectors to distinguish between true and false! The collector is the discriminator, the purpose is to identify my painting and judge it to be false! The whole process is a game of â€œgeneration-confrontationâ€. In the end, I (the generator) outputs a picture of â€œtruths and false truthsâ€, and even collectors (the discriminator) can hardly distinguish.</p>
<h2 id="Whatâ€™s-GAN-model"><a href="#Whatâ€™s-GAN-model" class="headerlink" title="Whatâ€™s GAN model?"></a>Whatâ€™s GAN model?</h2><p>After we talk about the basic ideal, then letâ€™s see what is the Generative Adversarial Networks(GANs) mathematically.  Generally, GANs are a model architecture for training a generative model, and it is most common to use deep learning models in this architecture.</p>
<p>The GAN architecture was first described in the 2014 paper by  Ian Goodfellow, et al. titled â€œGenerative Adversarial Networks.â€ After this paper appeared, there are plenty related paper followed. A standardized approach called Deep Convolutional Generative Adversarial Networks, or DCGAN, that led to more stable models was later formalized by  Alec Radford, et al. in the 2015 paper titled Unsupervised Representation Learning with Deep Convolutional Generative Adversarial Networks.</p>
<p>The GAN model architecture involves two sub-models: a  _generator model_  for generating new examples and a  _discriminator model_  for classifying whether generated examples are real, from the domain, or fake, generated by the generator model.</p>
<ul>
<li><strong>Generator</strong>. Model that is used to generate new plausible examples from the problem domain.</li>
<li><strong>Discriminator</strong>. Model that is used to classify examples as real (_from the domain_) or fake (_generated_).</li>
</ul>
<blockquote>
<p>Generative adversarial networks are based on a game theoretic scenario in which the generator network must compete against an adversary. The generator network directly produces samples. Its adversary, the discriminator network, attempts to distinguish between samples drawn from the training data and samples drawn from the generator.</p>
</blockquote>
<h3 id="Generator-Model"><a href="#Generator-Model" class="headerlink" title="Generator Model"></a>Generator Model</h3><p>The generator model takes a fixed-length random vector as input and generates a sample in the domain. The vector is drawn from randomly from a Gaussian distribution, and the vector is used to seed the generative process. After training, points in this multidimensional vector space will correspond to points in the problem domain, forming a compressed representation of the data distribution.</p>
<p>This vector space is referred to as a latent space, or a vector space comprised of  <a href="https://en.wikipedia.org/wiki/Latent_variable" target="_blank" rel="noopener">latent variables</a>. Latent variables, or hidden variables, are those variables that are important for a domain but are not directly observable.</p>
<p>We often refer to latent variables, or a latent space, as a projection or compression of a data distribution. That is, a latent space provides a compression or high-level concepts of the observed raw data such as the input data distribution. In the case of GANs, the generator model applies meaning to points in a chosen latent space, such that new points drawn from the latent space can be provided to the generator model as input and used to generate new and different output examples.</p>
<p>After training, the generator model is kept and used to generate new samples.</p>
<p><img alt="Example of the GAN Generator Model" data-src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2019/04/Example-of-the-GAN-Generator-Model.png"></p>
<p>Example of the GAN Generator Model</p>
<h3 id="The-Discriminator-Model"><a href="#The-Discriminator-Model" class="headerlink" title="The Discriminator Model"></a>The Discriminator Model</h3><p>The discriminator model takes an example from the domain as input (real or generated) and predicts a binary class label of real or fake (generated).</p>
<p>The real example comes from the training dataset. The generated examples are output by the generator model.</p>
<p>The discriminator is a normal (and well understood) classification model.</p>
<p>After the training process, the discriminator model is discarded as we are interested in the generator.</p>
<p>Sometimes, the generator can be repurposed as it has learned to effectively extract features from examples in the problem domain. Some or all of the feature extraction layers can be used in transfer learning applications using the same or similar input data.</p>
<p><img alt="Example of the GAN Discriminator Model" data-src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2019/04/Example-of-the-GAN-Discriminator-Model.png"></p>
<h1 id="Combine-two-parts"><a href="#Combine-two-parts" class="headerlink" title="Combine two parts"></a>Combine two parts</h1><p>Generative modeling is an unsupervised learning problem, as we discussed in the previous section, although a clever property of the GAN architecture is that the training of the generative model is framed as a supervised learning problem. The two models, the generator and discriminator, are trained together. The generator generates a batch of samples, and these, along with real examples from the domain, are provided to the discriminator and classified as real or fake. The discriminator is then updated to get better at discriminating real and fake samples in the next round, and importantly, the generator is updated based on how well, or not, the generated samples fooled the discriminator.</p>
<p>In this way, the two models are competing against each other, they are adversarial in the game theory sense, and are playing a  zero-sum game. In this case, zero-sum means that when the discriminator successfully identifies real and fake samples, it is rewarded or no change is needed to the model parameters, whereas the generator is penalized with large updates to model parameters. Alternately, when the generator fools the discriminator, it is rewarded, or no change is needed to the model parameters, but the discriminator is penalized and its model parameters are updated.</p>
<p>At a limit, the generator generates perfect replicas from the input domain every time, and the discriminator cannot tell the difference and predicts â€œunsureâ€ (e.g. 50% for real and fake) in every case. This is just an example of an idealized case; we do not need to get to this point to arrive at a useful generator model.</p>
<p><img alt="Example of the Generative Adversarial Network Model Architecture" data-src="https://3qeqpr26caki16dnhd19sv6by6v-wpengine.netdna-ssl.com/wp-content/uploads/2019/04/Example-of-the-Generative-Adversarial-Network-Model-Architecture.png"></p>
<p>Example of the Generative Adversarial Network Model Architecture</p>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>é›†æˆå­¦ä¹ GDBT,XGBOOST,RF</title>
    <url>/2019/%E3%80%90%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E3%80%91%E9%9B%86%E6%88%90%E5%AD%A6%E4%B9%A0GDBT-XGBOOST-RF/</url>
    <content><![CDATA[<p>é›†æˆå­¦ä¹ ï¼ˆEnsemble Learningï¼‰ï¼Œé›†æˆå­¦ä¹ çš„ç›®çš„æ˜¯é€šè¿‡ç»“åˆå¤šä¸ªåŸºå­¦ä¹ å™¨çš„é¢„æµ‹ç»“æœæ¥æ”¹å–„å•ä¸ªå­¦ä¹ å™¨çš„æ³›åŒ–èƒ½åŠ›å’Œé²æ£’æ€§ã€‚</p><p>é›†æˆå­¦ä¹ è‡´åˆ†ä¸ºä¸¤å¤§ç±»ï¼š</p><ul>
<li>Boosting:å³ä¸ªä½“å­¦ä¹ å™¨ä¹‹é—´å­˜åœ¨å¼ºä¾èµ–å…³ç³»ã€å¿…é¡»ä¸²è¡Œç”Ÿæˆçš„åºåˆ—åŒ–æ–¹æ³•ï¼ŒAdaboost, GDBT, Xgboost.</li>
<li>Baggingä»¥åŠä¸ªä½“å­¦ä¹ å™¨é—´ä¸å­˜åœ¨å¼ºä¾èµ–å…³ç³»ã€å¯åŒæ—¶ç”Ÿæˆçš„å¹¶è¡ŒåŒ–æ–¹æ³•ï¼Œâ€œéšæœºæ£®æ—â€ï¼ˆRandom Forestï¼‰ã€‚</li>
</ul><a id="more"></a>


<h1 id="1-Bagging"><a href="#1-Bagging" class="headerlink" title="1. Bagging"></a>1. Bagging</h1><p>Baggingï¼šç®€å•æ”¾å›æŠ½æ ·ï¼Œå¤šæ•°è¡¨å†³ï¼ˆåˆ†ç±»ï¼‰æˆ–ç®€å•å¹³å‡ï¼ˆå›å½’ï¼‰,åŒæ—¶Baggingçš„åŸºå­¦ä¹ å™¨ä¹‹é—´å±äºå¹¶åˆ—ç”Ÿæˆï¼Œæ— ä¾èµ–å…³ç³»ã€‚</p>
<h2 id="1-1-éšæœºæ£®æ—"><a href="#1-1-éšæœºæ£®æ—" class="headerlink" title="1.1 éšæœºæ£®æ—"></a>1.1 éšæœºæ£®æ—</h2><p>Random Forestï¼ˆéšæœºæ£®æ—ï¼‰ï¼šBaggingçš„æ‰©å±•å˜ä½“ï¼Œå®ƒåœ¨ä»¥å†³ç­–æ ‘ä¸ºåŸºå­¦ä¹ å™¨æ„å»ºBaggingé›†æˆçš„åŸºç¡€ä¸Šï¼Œè¿›ä¸€æ­¥åœ¨å†³ç­–æ ‘çš„è®­ç»ƒè¿‡ç¨‹ä¸­å¼•å…¥äº†éšæœºç‰¹å¾é€‰æ‹©ï¼Œå› æ­¤å¯ä»¥æ¦‚æ‹¬RFåŒ…æ‹¬å››ä¸ªéƒ¨åˆ†ï¼š<br>1ã€éšæœºé€‰æ‹© æ ·æœ¬ï¼ˆæ”¾å›æŠ½æ ·ï¼‰ï¼›<br>2ã€éšæœºé€‰æ‹© ç‰¹å¾ï¼›<br>3ã€æ„å»ºåˆ†ç±»å™¨ï¼›å¦‚ï¼šID3ã€C4.5ã€CARTã€SVMã€Logistic regressionç­‰<br>4ã€æŠ•ç¥¨ï¼ˆå¹³å‡ï¼‰</p>
<p>éšæœºæ€§åå·®ä¼šæœ‰å¾®å¢ï¼ˆç›¸æ¯”äºå•æ£µä¸éšæœºæ ‘ï¼‰ï¼Œâ€˜å¹³å‡â€™ä¼šä½¿å¾—æ–¹å·®å‡å°æ›´å¤š</p>
<ul>
<li>éšæœºæ£®æ—çš„ä¼˜ç‚¹<br>1ã€é€Ÿåº¦å¿«ï¼Œç²¾åº¦ä¸ä¼šå¾ˆå·®<br>2ã€èƒ½å¤Ÿå¤„ç†é«˜ç»´æ•°æ®ï¼Œä¸ç”¨ç‰¹å¾é€‰æ‹©ï¼Œè®­ç»ƒå®Œåï¼Œå¯ç»™å‡ºç‰¹å¾é‡è¦æ€§ï¼›<br>3ã€å¯å¹¶è¡ŒåŒ–  </li>
<li>éšæœºæ£®æ—çš„ç¼ºç‚¹ï¼šåœ¨å™ªå£°è¾ƒå¤§çš„åˆ†ç±»æˆ–è€…å›å½’é—®é¢˜ä¸Šå›è¿‡æ‹Ÿåˆã€‚</li>
</ul>
<h1 id="2-Boosting"><a href="#2-Boosting" class="headerlink" title="2. Boosting"></a>2. Boosting</h1><h2 id="2-1-åŸºäºè°ƒæ•´æƒé‡-Adaboost"><a href="#2-1-åŸºäºè°ƒæ•´æƒé‡-Adaboost" class="headerlink" title="2.1 åŸºäºè°ƒæ•´æƒé‡ Adaboost"></a>2.1 åŸºäºè°ƒæ•´æƒé‡ Adaboost</h2><p>æ¯ç”Ÿæˆä¸€æ£µæ ‘ä¹‹åï¼Œè®¡ç®—ä¸¤ä¸ªæƒé‡</p>
<blockquote>
<p>1 è®¡ç®—è¿™ä¸ªæ ‘çš„è¯¯å·®ç‡ï¼Œè¯¯å·®ç‡è¶Šé«˜ï¼Œæƒé‡è¶Šä½<br>2 è®¡ç®—æ¯ä¸ªæ ·æœ¬çš„é”™åˆ†ç‡ï¼Œé”™åˆ†çš„æ ·æœ¬ï¼Œæƒé‡è¶Šé«˜ï¼Œä¹‹åæ›´å®¹æ˜“åˆ†å¯¹</p>
</blockquote>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191116091802.png"><br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191116091915.png"></p>
<h2 id="2-2-åŸºäºæ®‹å·®ï¼šGB-GBTD-Xgboost"><a href="#2-2-åŸºäºæ®‹å·®ï¼šGB-GBTD-Xgboost" class="headerlink" title="2.2 åŸºäºæ®‹å·®ï¼šGB(GBTD,Xgboost)"></a>2.2 åŸºäºæ®‹å·®ï¼šGB(GBTD,Xgboost)</h2><h3 id="2-2-1-GBTD"><a href="#2-2-1-GBTD" class="headerlink" title="2.2.1 GBTD"></a>2.2.1 GBTD</h3><p>GBDTåªèƒ½ç”±å›å½’æ ‘ç»„æˆ.</p>
<ul>
<li>åŸºæœ¬æ€æƒ³ï¼š<br>åœ¨GradientBoostä¸­ï¼Œæ¯ä¸ªæ–°çš„æ¨¡å‹çš„å»ºç«‹æ˜¯ä¸ºäº†ä½¿å¾—ä¹‹å‰çš„æ¨¡å‹çš„æ®‹å·®å¾€æ¢¯åº¦ä¸‹é™çš„æ–¹æ³•ã€‚</li>
</ul>
<p><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191116110339.png"></p>
<ul>
<li>å¦‚æœæ˜¯åˆ†ç±»æ ‘ï¼ŒæŸå¤±å‡½æ•°æ˜¯æŒ‡æ•°æŸå¤±å‡½æ•°ï¼š<br>ğ¿(ğ‘¦,ğ‘“(ğ‘¥))=ğ‘’ğ‘¥ğ‘(âˆ’ğ‘¦ğ‘“(ğ‘¥))</li>
<li>å¦‚æœæ˜¯å›å½’æ ‘ï¼ŒæŸå¤±å‡½æ•°æ˜¯å‡æ–¹æŸå¤±ï¼ˆCARTï¼‰ï¼š<br>ğ¿(ğ‘¦,ğ‘“(ğ‘¥))=(ğ‘¦âˆ’ğ‘“(ğ‘¥))^2</li>
<li>å¦‚ä½•é˜²æ­¢è¿‡æ‹Ÿåˆï¼Ÿ<blockquote>
<ol>
<li>æ­¥é•¿v(0-1)ï¼Œæƒé‡è¡°å‡ ğ‘“ğ‘˜(ğ‘¥)=ğ‘“ğ‘˜âˆ’1(ğ‘¥)+ğ‘£ â„ğ‘˜(ğ‘¥)ï¼Œé™ä½æ–°æ¥çš„åˆ†ç±»å™¨çš„å½±å“åŠ›</li>
<li>å­é‡‡æ ·æ¯”ä¾‹</li>
<li>ç”¨å¼±å­¦ä¹ å™¨</li>
</ol>
</blockquote>
</li>
</ul>
<h3 id="2-2-2-xgboost"><a href="#2-2-2-xgboost" class="headerlink" title="2.2.2 xgboost"></a>2.2.2 xgboost</h3><p>å½“å·²ç»ç”Ÿæˆäº†ä¸€æ£µæ ‘çš„æ—¶å€™ï¼Œå¦‚ä½•å»é€‰æ‹©æ–°å­æ ‘ï¼š</p>
<ul>
<li><p>1 ç›®æ ‡å‡½æ•°ï¼š</p>
<script type="math/tex; mode=display">Obj=\sum_{i=1}^{n} l\left(y_{i}, \hat{y}_{i}\right)+\sum_{k} \Omega\left(f_{k}\right), f_{k} \in \mathcal{F}</script></li>
<li><p>1.1 ç¬¬tè½®çš„æ—¶å€™ï¼š</p>
<script type="math/tex; mode=display">\begin{aligned} O b j^{(t)} 
&=\sum_{i=1}^{n} l\left(y_{i}, \hat{y}_{i}^{(t)}\right)+\sum_{i=1}^{t} \Omega\left(f_{i}\right) 
\\ & \equiv \sum_{i=1}^{n} l\left(y_{i}, \hat{y}_{i}^{(t-1)}+f_{t}\left(x_{i}\right)\right)+\Omega\left(f_{t}\right)+c\end{aligned}</script></li>
<li>è¿™æ—¶å€™éœ€è¦å¯»æ‰¾f_tæ¥è®©ç›®æ ‡å‡½æ•°æœ€å°</li>
</ul>
<blockquote>
<p>a. å¼å­å·¦è¾¹ï¼Œå¯¹ç›®æ ‡å‡½æ•°åœ¨$f_t(x)$ä¸Šæ³°å‹’å±•å¼€ï¼Œå»äºŒé˜¶ï¼Œæ±‚å¾—è¿‘ä¼¼è§£ï¼š<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191116120113.png"></p>
<p>b. å¼å­å³è¾¹ï¼Œå®šä¹‰å¤æ‚åº¦ $\Omega\left(f_{t}\right)$<br>æ¯é¢—æ ‘ï¼Œéƒ½æ˜¯ç”±æå¹²(åˆ†ç±»èŠ‚ç‚¹)å’Œå¶å­(æ ‘çš„æœ«ç«¯)ç»„æˆçš„ã€‚<br>å®šä¹‰å¤æ‚åº¦ä¸ºï¼šå¶å­ä¸ªä¸ªæ•°T, åŠ ä¸Šæ¯ä¸ªå¶å­çš„å€¼wå¹³æ–¹å’Œï¼ˆå„æœ‰ç³»æ•°ï¼‰ã€‚<br>æ ‘è¶Šå¤æ‚ï¼ŒT â†‘ï¼Œwå¹³æ–¹å’Œ â†‘ï¼Œå¤æ‚åº¦ â†‘ï¼Œæƒ©ç½š â†‘ã€‚<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191116121238.png"></p>
</blockquote>
<ul>
<li>æ›´æ–°ç›®æ ‡å‡½æ•°ï¼š<script type="math/tex; mode=display">
\begin{aligned} O b j^{(t)} & \simeq \sum_{i=1}^{n}\left[g_{i} f_{t}\left(x_{i}\right)+\frac{1}{2} h_{i} f_{t}^{2}\left(x_{i}\right)\right]+\Omega\left(f_{t}\right) +c\\ &=\sum_{i=1}^{n}\left[g_{i} w_{q\left(x_{i}\right)}+\frac{1}{2} h_{i} w_{q\left(x_{i}\right)}^{2}\right]+\left(\gamma T+\lambda \frac{1}{2} \sum_{j=1}^{T} w_{j}^{2}\right)+c
\\ &=\sum_{j=1}^{T}\left[\left(\sum_{i \in I_{j}} g_{i}\right) w_{j}+\frac{1}{2}\left(\sum_{i \in I_{j}} h_{i}+\lambda\right) w_{j}^{2}\right]+\gamma T +c \end{aligned}</script></li>
</ul>
<blockquote>
<ul>
<li>å…¶ä¸­$f_{t}(x)=w_{q(x)}, w \in \mathbf{R}^{T}, q: \mathbf{R}^{d} \rightarrow\{1,2, \cdots, T\}$ï¼Œè¡¨ç¤ºxâ†’å¶èŠ‚ç‚¹â†’å¯¹åº”çš„å€¼wã€‚ç›®çš„æ˜¯ç»Ÿä¸€ç”¨$w_{j}$è¡¨ç¤ºæ ‘$f_t$ã€‚</li>
<li>ç¬¬ä¸‰è¡Œçš„ç†è§£ï¼Œå¯¹äºç¤ºæ€§å‡½æ•°$I_{j}=\left\{i | q\left(x_{i}\right)=j\right\}$ï¼Œ$I_j$è¡¨ç¤ºä¸€ä¸ªé›†åˆåœ¨jçš„å¶å­èŠ‚ç‚¹ä¸­ã€‚ç”¨ç¤ºæ€§å‡½æ•°æ±‚å’Œä»£æ›¿1-nçš„æ±‚å’Œï¼Œç„¶åäº¤æ¢æ±‚å’Œé¡ºåºã€‚</li>
</ul>
</blockquote>
<ul>
<li>è¿™é‡Œå‘ç°ç›®æ ‡å‡½æ•°æ˜¯å…³äº$w_{j}$çš„äºŒæ¬¡å‡½æ•°ï¼ŒäºŒæ¬¡å‡½æ•°åœ¨å¯¹ç§°è½´ä¸Šå–æå€¼ã€‚<br>ç®€åŒ–è¡¨è¾¾ï¼š$G_{j}=\sum_{i \in I_{j}} g_{i} \quad H_{j}=\sum_{i \in I_{j}} h_{i}$å¾—åˆ°ï¼š<script type="math/tex; mode=display">
\begin{aligned} O b j^{(t)} =\sum_{j=1}^{T}\left[G_{j} w_{j}+\frac{1}{2}\left(H_{j}+\lambda\right) w_{j}^{2}\right]+\gamma T \end{aligned}</script>äºŒæ¬¡å‡½æ•°æ±‚æå€¼å¾—åˆ°ï¼š<script type="math/tex; mode=display">
\begin{array}{c}{w_{j}^{*}=-\frac{G_{j}}{H_{j}+\lambda}} \\ {} \\ {O b j=-\frac{1}{2} \sum_{j=1}^{T} \frac{G_{j}^{2}}{H_{j}+\lambda}+\gamma T}\end{array}</script>wæ˜¯æ¯ä¸€ä¸ªå¶èŠ‚ç‚¹å€¼ï¼ŒObjæ˜¯è¿™ä¸ªæ ‘çš„åˆ†æ•°ï¼Œåˆ†æ•°è¶Šä½è¶Šå¥½ã€‚<br>è¿™æ ·ï¼Œå°±å¯ä»¥ç›´æ¥è®¡ç®—å‡ºæ ‘çš„åˆ†æ•°ï¼Œå¯ä»¥å¯¹äºå€™é€‰è¿›è¡Œè¯„æ¯”ã€‚</li>
</ul>
<hr>
<p>å¦‚ä½•ç”Ÿæˆå€™é€‰æ ‘ï¼Ÿ</p>
<ul>
<li>Enumerate æšä¸¾å¯èƒ½çš„ç»“æ„</li>
<li>é€šè¿‡åˆšæ‰çš„å¼å­è®¡ç®—æœ€ä¼˜åˆ†æ•°</li>
<li>ä½†æ˜¯é—®é¢˜æ˜¯æœ‰æ— é™çš„å¯èƒ½æ€§ã€‚</li>
</ul>
<hr>
<ul>
<li>æ‰€ä»¥é€šè¿‡è´ªå©ªå­¦ä¹ ï¼šï¼ˆä¸è¯¦ç»†è®²ï¼‰<br>æ¯ä¸€æ¬¡å°è¯•å¯¹å·²æœ‰çš„å¶å­ç»“ç‚¹åŠ å…¥ä¸€ä¸ªåˆ†å‰²ï¼Œé€‰æ‹©å…·æœ‰æœ€ä½³å¢ç›Šçš„åˆ†å‰²å¯¹ç»“ç‚¹è¿›è¡Œåˆ†è£‚ã€‚å¯¹äºä¸€ä¸ªå…·ä½“çš„åˆ†å‰²æ–¹æ¡ˆï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—çš„å¢ç›Šå¯ä»¥ç”±å¦‚ä¸‹å…¬å¼è®¡ç®—ï¼š<br><img alt data-src="https://liyuanimage.oss-cn-beijing.aliyuncs.com/img/20191116142330.png"></li>
</ul>
<blockquote>
<p>ä¹Ÿå°±æ˜¯é€šè¿‡ä¿¡æ¯å¢ç›Šå»å¯»æ‰¾æœ€ä¼˜åˆ†å‰²ç‚¹ã€‚<br>è¿™é‡Œæœ‰ä¸ªå¥½å¤„å°±æ˜¯å¦‚æœæƒ©ç½šå¤§äºå¢ç›Šï¼Œgainå°±ä¼šä¸ºè´Ÿæ•°ï¼Œè‡ªåŠ¨åœæ­¢ã€‚</p>
</blockquote>
<h1 id="3-æ¨¡å‹å¯¹æ¯”"><a href="#3-æ¨¡å‹å¯¹æ¯”" class="headerlink" title="3 æ¨¡å‹å¯¹æ¯”"></a>3 æ¨¡å‹å¯¹æ¯”</h1><h2 id="3-1-éšæœºæ£®æ—vsGDBT"><a href="#3-1-éšæœºæ£®æ—vsGDBT" class="headerlink" title="3.1 éšæœºæ£®æ—vsGDBT"></a>3.1 éšæœºæ£®æ—vsGDBT</h2><ul>
<li>å†³ç­–æ ‘ç±»å‹ï¼šç»„æˆéšæœºæ£®æ—çš„æ ‘å¯ä»¥æ˜¯åˆ†ç±»æ ‘ï¼Œä¹Ÿå¯ä»¥æ˜¯å›å½’æ ‘ï¼›è€ŒGBDTåªèƒ½ç”±å›å½’æ ‘ç»„æˆï¼›  </li>
<li>ç»“æœé¢„æµ‹ï¼šå¯¹äºæœ€ç»ˆçš„è¾“å‡ºç»“æœè€Œè¨€ï¼Œéšæœºæ£®æ—é‡‡ç”¨å¤šæ•°æŠ•ç¥¨ã€ç®€å•å¹³å‡ç­‰ï¼›è€ŒGBDTåˆ™æ˜¯å°†æ‰€æœ‰ç»“æœç´¯åŠ èµ·æ¥ï¼Œæˆ–è€…åŠ æƒç´¯åŠ èµ·æ¥ï¼›  </li>
<li>å¹¶è¡Œ/ä¸²è¡Œï¼šç»„æˆéšæœºæ£®æ—çš„æ ‘å¯ä»¥å¹¶è¡Œç”Ÿæˆï¼›è€ŒGBDTåªèƒ½æ˜¯ä¸²è¡Œç”Ÿæˆï¼›  </li>
<li>å¼‚å¸¸å€¼ï¼šéšæœºæ£®æ—å¯¹å¼‚å¸¸å€¼ä¸æ•æ„Ÿï¼›GBDTå¯¹å¼‚å¸¸å€¼éå¸¸æ•æ„Ÿï¼›</li>
<li>æ–¹å·®/åå·®ï¼šéšæœºæ£®æ—å‡å°‘æ–¹å·®ï¼›GBDTæ˜¯é€šè¿‡å‡å°‘åå·®ã€‚</li>
</ul>
<h2 id="3-2-GDBT-vs-XGboost"><a href="#3-2-GDBT-vs-XGboost" class="headerlink" title="3.2 GDBT vs XGboost"></a>3.2 GDBT vs XGboost</h2><ul>
<li>GDBTåªæ”¯æŒCATRæ ‘ï¼Œxgboostè¿˜æ”¯æŒçº¿æ€§åˆ†ç±»å™¨</li>
<li>GDBTåªç”¨äº†ä¸€é˜¶ï¼Œxgboostæ³°å‹’å±•å¼€ï¼Œç”¨äº†äºŒé˜¶</li>
<li>xgboostæœ‰æ­£åˆ™é¡¹ï¼Œè€Œä¸”ä¼šè‡ªåŠ¨åœæ­¢ç”Ÿæˆ(ä¾èµ–å‚æ•°gamma)ã€‚</li>
<li>xgboostå¯ä»¥åˆ—æŠ½æ ·ï¼Œå€Ÿé‰´äº†éšæœºæ£®æ—çš„åšæ³•</li>
<li>XGBOOSTå¯ä»¥è‡ªåŠ¨å­¦ä¹ å‡ºç¼ºå¤±å€¼çš„åˆ†è£‚æ–¹å‘</li>
<li>XGBOOSTå®ç°äº†å¹¶è¡ŒåŒ–ï¼šæ¯ä¸ªç‰¹å¾å¹¶è¡Œè®¡ç®—ï¼Œæ¯ä¸ªç‰¹å¾åˆ’åˆ†ä¹Ÿå¹¶è¡Œè®¡ç®—</li>
</ul>
<p>åæœŸå®ç°ä¸­ï¼Œxgboostè¿˜æœ‰ä¼˜åŒ–ï¼Œæ‰€ä»¥å¾ˆå¿«ï¼š</p>
<ul>
<li>åœ¨å¯»æ‰¾åˆ†å‰²ç‚¹ï¼Œæšä¸¾è´ªå¿ƒæ³•æ•ˆç‡ä½ï¼Œxgboostå®ç°è¿‘ä¼¼çš„ç®—æ³•ã€‚å¤§è‡´çš„æ€æƒ³æ˜¯æ ¹æ®ç™¾åˆ†ä½æ³•åˆ—ä¸¾å‡ ä¸ªæˆä¸ºåˆ†å‰²ç‚¹çš„å€™é€‰è€…ï¼Œç„¶åå†è¿›ä¸€æ­¥è®¡ç®—ã€‚</li>
<li>xgboostè€ƒè™‘äº†è®­ç»ƒæ•°æ®ä¸ºç¨€ç–å€¼çš„æƒ…å†µï¼ˆæˆ‘ä¹Ÿä¸æ‡‚T^Tï¼‰</li>
<li>ç‰¹å¾åˆ—æ’åºåä»¥å—çš„å½¢å¼å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œåœ¨è¿­ä»£ä¸­å¯ä»¥é‡å¤ä½¿ç”¨ï¼›è™½ç„¶boostingç®—æ³•è¿­ä»£å¿…é¡»ä¸²è¡Œï¼Œä½†æ˜¯åœ¨å¤„ç†æ¯ä¸ªç‰¹å¾åˆ—æ—¶å¯ä»¥åšåˆ°å¹¶è¡Œã€‚</li>
<li>Shrinkageï¼ˆç¼©å‡ï¼‰ï¼Œç›¸å½“äºå­¦ä¹ é€Ÿç‡ï¼ˆxgboostä¸­çš„etaï¼‰ã€‚xgbooståœ¨è¿›è¡Œå®Œä¸€æ¬¡è¿­ä»£åï¼Œä¼šå°†å¶å­èŠ‚ç‚¹çš„æƒé‡ä¹˜ä¸Šè¯¥ç³»æ•°ï¼Œä¸»è¦æ˜¯ä¸ºäº†å‰Šå¼±æ¯æ£µæ ‘çš„å½±å“ï¼Œè®©åé¢æœ‰æ›´å¤§çš„å­¦ä¹ ç©ºé—´ã€‚å®é™…åº”ç”¨ä¸­ï¼Œä¸€èˆ¬æŠŠetaè®¾ç½®å¾—å°ä¸€ç‚¹ï¼Œç„¶åè¿­ä»£æ¬¡æ•°è®¾ç½®å¾—å¤§ä¸€ç‚¹ã€‚ï¼ˆè¡¥å……ï¼šä¼ ç»ŸGBDTçš„å®ç°ä¹Ÿæœ‰å­¦ä¹ é€Ÿç‡ï¼‰</li>
</ul>
<p>æ€»ç»“ï¼Œä¸€ä¸ªç®€å•çš„idelä¸æ–­ä¼˜åŒ–ï¼Œå€Ÿé‰´åˆ«çš„æƒ³æ³•ï¼Œä¼˜åŒ–åˆ°äº†æè‡´ï¼Œå¯¼è‡´xgboostèƒ½è¿™ä¹ˆå¼ºã€‚</p>
<p>å‚è€ƒèµ„æ–™ï¼šxgbooståŸæ–‡<br><a href="https://blog.csdn.net/weixin_42158523/article/details/81737370" target="_blank" rel="noopener">https://blog.csdn.net/weixin_42158523/article/details/81737370</a><br><a href="https://www.cnblogs.com/aixiao07/p/11375168.html" target="_blank" rel="noopener">https://www.cnblogs.com/aixiao07/p/11375168.html</a></p>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>æœºå™¨å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title>æ¸¯æ ¡msc äº’è”ç½‘æ‰¾å·¥ä½œæ—¶é—´è½´</title>
    <url>/2019/Blog2-%E6%B8%AF%E6%A0%A1msc-%E4%BA%92%E8%81%94%E7%BD%91%E6%89%BE%E5%B7%A5%E4%BD%9C%E6%97%B6%E9%97%B4%E8%BD%B4/</url>
    <content><![CDATA[<h1 id="æ¸¯æ ¡msc-äº’è”ç½‘æ‰¾å·¥ä½œæ—¶é—´è½´"><a href="#æ¸¯æ ¡msc-äº’è”ç½‘æ‰¾å·¥ä½œæ—¶é—´è½´" class="headerlink" title="æ¸¯æ ¡msc äº’è”ç½‘æ‰¾å·¥ä½œæ—¶é—´è½´"></a>æ¸¯æ ¡msc äº’è”ç½‘æ‰¾å·¥ä½œæ—¶é—´è½´</h1><p><strong>å…¥å­¦å‰çš„ï¼ˆå¤§å››ï¼‰ æš‘æœŸå®ä¹ </strong> å»ºè®®å‚åŠ <br>3-5æœˆ å®ä¹ å²—ä½ç½‘ç”³å¼€å¯<br>5-7æœˆ è¿›è¡Œç½‘ç”³ã€é¢è¯•ï¼Œå‘æ”¾Offer<br>7-9æœˆ è¿›å…¥å…¬å¸å®ä¹ </p><p><strong>å…¥å­¦å‰çš„ ç§‹å­£æ ¡æ‹›</strong> å»ºè®®å‚åŠ <br>7-8æœˆ äº’è”ç½‘å¤§å‚çš„æå‰æ‰¹ã€æ­£å¼æ ¡æ‹›å¼€æ”¾ï¼›<br>9æœˆæ„å‘ä¹¦ï¼Œ10æœˆåº•è°ˆè–ª</p><a id="more"></a>

<hr>
<h2 id="å…¥å­¦"><a href="#å…¥å­¦" class="headerlink" title="å…¥å­¦"></a>å…¥å­¦</h2><p><strong>å…¥å­¦åçš„</strong> æ˜¥å­£æ ¡æ‹› æ‹›äººè¾ƒå°‘<br>2-4æœˆ è¿›è¡Œç½‘ç”³<br>3-5æœˆ å¼€å§‹ç¬”è¯•ã€é¢è¯•<br>5-6æœˆ å‘Offerå…¥èŒ</p>
<p><strong>æš‘å‡å®ä¹ </strong> å¿…å‚åŠ <br>3-5æœˆ å„å¤§è¡Œä¸šå®ä¹ å²—ä½ç½‘ç”³å¼€å¯<br>5-7æœˆ è¿›è¡Œç½‘ç”³ã€é¢è¯•ï¼Œå‘æ”¾Offer<br>7-9æœˆ è¿›å…¥å…¬å¸å®ä¹ </p>
<p><strong>ç§‹å­£æ ¡æ‹›</strong> å³ä½¿æ‹¿åˆ°å®ä¹ returnä¹Ÿå»ºè®®å‚åŠ ï¼Œæœ‰åˆ©äºargueæ¶¨ä»·<br>7-8æœˆ äº’è”ç½‘å¤§å‚çš„æå‰æ‰¹ã€æ­£å¼æ ¡æ‹›å¼€æ”¾ï¼›<br>9æœˆæ„å‘ä¹¦ï¼Œ10æœˆåº•è°ˆè–ª</p>
<p>11æœˆæ¯•ä¸š-&gt;å…¥èŒ</p>
<hr>
<h2 id="æˆä¸ºç¤¾ç•œ"><a href="#æˆä¸ºç¤¾ç•œ" class="headerlink" title="æˆä¸ºç¤¾ç•œ"></a>æˆä¸ºç¤¾ç•œ</h2><p>æˆ‘çš„ä¸ªäººå‡†å¤‡ç¬”è¯•é¢è¯•æ—¶é—´è½´ï¼š<br><!-- Table --><br>| æœˆä»½| æ ¡å†…|æ‰¾å·¥ä½œå‡†å¤‡|<br>|â€”|â€”|â€”|<br>| 11æœˆ| å„ç§ddl | ç®—æ³•åŸºç¡€+æ•°æ®ç»“æ„<br>|12æœˆ|è€ƒè¯•+å¯’å‡|å‰‘æŒ‡offer<br>|1æœˆ|å¯’å‡| å‰‘æŒ‡offer+NLP+æ•´ç†æœºå™¨å­¦ä¹ +ç‰¹å¾å·¥ç¨‹<br>|2æœˆ|å¼€å­¦ä¸å¿™|leetcode mid+NLPå®æˆ˜+æ•´ç†æ·±åº¦å­¦ä¹ <br>|3æœˆ|å¼€å§‹å‡†å¤‡æœŸä¸­| leetcode hard+ç¬”è¯•æ¦‚ç‡é¢˜ã€æ™ºå•†é¢˜</p>
]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>timeline</tag>
        <tag>å®ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title>Build by Hexo</title>
    <url>/2019/Blog1-Build%20by%20Hexo/</url>
    <content><![CDATA[<p>æœ¬æ¬¡æ­å»ºblogï¼Œå®Œå…¨å­¦ä¹ äºï¼š<a href="https://www.bilibili.com/video/av44544186?from=search&amp;seid=6748505739751413370" target="_blank" rel="noopener">bç«™upä¸»codesheepè§†é¢‘</a></p><p>ä¸‹é¢è¿›å…¥æµç¨‹ï¼š</p><ol>
<li>sudo su è¿›å…¥ç®¡ç†å‘˜</li>
<li>å®‰è£…Node.jsï¼Œæœç´¢ï¼Œä¸‹è½½ï¼Œå®‰è£…<br>å®‰è£…ä¹‹åä¼šæœ‰ä¸¤ä¸ªå·¥å…·ï¼š nodeå’Œnpm<br>ä¹Ÿå¯ä»¥ç”¨å›½å†…çš„cnpm</li>
<li>é€šè¿‡npmå®‰è£…hexo åšå®¢é™æ€æ¡†æ¶<blockquote>
<p>npm install -g hexo-cli </p>
</blockquote>
</li>
<li>å»ºç«‹ä¸€ä¸ªä¸“æœ‰çš„æ–‡ä»¶å¤¹ï¼Œæ–¹ä¾¿ç®¡ç†</li>
<li>æ–‡ä»¶å¤¹ä¸‹è¿è¡Œhexo<blockquote>
<p>sudo hexo init</p>
</blockquote>
</li>
</ol><a id="more"></a>


<p>åˆå§‹åŒ–æ–‡ä»¶ï¼Œä¸»è¦çš„æœ‰_config.yml é…ç½®æ–‡ä»¶ï¼Œsourceå†…å®¹çš„æ–‡ä»¶å¤¹ï¼Œthemesä¸»é¢˜æ–‡ä»¶å¤¹ã€‚</p>
<blockquote>
<p>hexo s #start å¼€å§‹<br>hexo n â€œæ–‡ç« åâ€ #ç”Ÿæˆæ–‡ç« <br>hexo clean #æ¸…ç†ä¹‹å‰çš„</p>
<ol>
<li>éƒ¨ç½²åˆ°github</li>
</ol>
</blockquote>
<p>ç”Ÿæˆ xxx.github.ioï¼ˆ xxxå¿…é¡»ä¸ºgithubçš„ç”¨æˆ·åï¼‰çš„é¡¹ç›®</p>
<blockquote>
<p>npm install â€”save hexo-deployer-git</p>
</blockquote>
<p>ä¸‹è½½æ’ä»¶ï¼Œè¿æ¥åˆ°git</p>
<p>è®¾ç½®_config.ymlæœ€ä¸‹é¢</p>
<blockquote>
<p>type: git<br>repo: <a href="https://github.com/xxxx/xxxx.github.io" target="_blank" rel="noopener">https://github.com/xxxx/xxxx.github.io</a></p>
</blockquote>
<p>æ¨é€åˆ°è¿œç«¯</p>
<blockquote>
<p>hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</p>
</blockquote>
<p>è®¿é—® xxxx.github.ioï¼Œå°±å¯ä»¥çœ‹åˆ°è‡ªå·±çš„åšå®¢å•¦ã€‚</p>
<hr>
<p><a href="https://hexo.io/zh-cn/docs/commands.html" target="_blank" rel="noopener">hexoå®˜ç½‘</a></p>
]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>blog</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello Blog</title>
    <url>/2019/Hello-Blog/</url>
    <content><![CDATA[<h1 id="Hello-Blog"><a href="#Hello-Blog" class="headerlink" title="Hello Blog."></a>Hello Blog.</h1><p>ä¹‹å‰ç»å¸¸ä¼šå‘ç°å¤§ä½¬æœ‰è‡ªå·±çš„æŠ€æœ¯åšå®¢ï¼Œä¹‹å‰ä¹Ÿå°è¯•ç€å»åšä¸€ä¸ªï¼Œä½†æ˜¯ç”±äºè‡ªå·±çš„æŠ€æœ¯æ°´å¹³æœ‰é™ï¼Œä¹Ÿæ²¡æœ‰å†³å®šå¥½èµ°æŠ€æœ¯è·¯çº¿ï¼Œæ‰€ä»¥å°±ä¸€ç›´æ²¡æœ‰å¼€å§‹å†™æŠ€æœ¯åšå®¢ã€‚</p><p>æœ€è¿‘æ¯”è¾ƒäº†ç®—æ³•å’Œäº§å“çš„å¾…é‡ï¼ŒçœŸçš„å·®åˆ«å¥½å¤§ã€‚æš‚ä¸”ä¸è¯´ä¹‹åçš„å‘å±•ä¼šæ€æ ·ï¼Œç¨‹åºå‘˜/æŠ€æœ¯å²—æœ¬èº«æ˜¯æ™ºåŠ›å’ŒåŠªåŠ›çš„æ¯”æ‹¼ï¼Œæ˜¯ç¡¬åŠŸå¤«ã€‚æœ‰æ›´æ¸…æ™°çš„å‘å±•æ–¹å‘ã€‚å†åŠ ä¸Šç§ç§åŸå› ï¼Œæˆ‘å†³å®šåšæŠ€æœ¯äº†ã€‚</p><a id="more"></a>

<ul>
<li>æ‰€ä»¥ä¸ºä»€ä¹ˆè¦å†™åšå®¢å‘¢ï¼Ÿ<br>ï¼ˆé‰´äºè‡ªå·±çš„ç†è§£å’Œbç«™upä¸»<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2Fav56930990%2F%3Fspm_id_from%3D333.788.videocard.2" target="_blank" rel="noopener">codesheep</a> çš„ä»‹ç»ï¼Œæ€»ç»“å¦‚ä¸‹ï¼‰ <ol>
<li>åšå®¢=è¾“å‡º=å®è·µ<br>å†™åšå®¢ä¹Ÿæ˜¯ä¸€ä¸ªæŠ€æœ¯è¾“å‡ºçš„è¿‡ç¨‹ï¼Œè€Œå½“ä½ æƒ³è¾“å‡ºçš„æ—¶å€™ï¼Œä½ å°±å·²ç»éœ€è¦æ•´åˆè‡ªå·±çš„å­¦ä¹ æˆæœï¼Œä¸æ–­çš„ç†è§£æŠ€æœ¯ç»†èŠ‚ï¼Œæ¯”å¦‚è¯´ï¼šç¥ç»ç½‘ç»œçš„æ¢¯åº¦ä¼ åˆ°è¿‡ç¨‹ï¼Œè™½ç„¶æ¥è§¦å¾ˆå¤šéï¼Œä¸åŠ¨æ‰‹å°±å¾ˆéš¾æŒæ¡ã€‚</li>
<li>åšå®¢=è¾“å‡º=è¡¨è¾¾<br>ç†ç§‘å‡ºèº«çš„æˆ‘ç»å¸¸ç»™è‡ªå·±æ‰¾å€Ÿå£ï¼ŒåŸç†æˆ‘æ‡‚å°±è¡Œï¼Œè¡¨è¾¾ä¸æ¸…æ¥šå°±æ…¢æ…¢è¡¨è¾¾ï¼Œä½†å®é™…ä¸Šï¼Œè¡¨è¾¾ä¸æ¸…æ¥šä¼šå¯¼è‡´åˆ«äººä¸æ„¿æ„å’Œä½ äº¤æµï¼Œä»è€Œä¸§å¤±å¾ˆå¤šæœºä¼šã€‚<br>æœ‰äº†è¾“å‡ºçš„è¿‡ç¨‹ï¼Œå°±éœ€è¦å»ç£¨ç‚¼è‡ªå·±è¡¨è¾¾çš„ç²¾ç‚¼ç¨‹åº¦ï¼Œä»¥åŠç»ƒä¹ å¦‚ä½•è®©åˆ«äººæ˜ç™½ï¼Œå°±æ›´å®¹æ˜“ç†è§£ã€‚</li>
<li>åšå®¢=ç®€å†=ç¤¾äº¤<br>æœ‰äº†ä¸ªäººä¸»é¡µï¼Œåˆ«äººå°±çŸ¥é“ä½ çš„æŠ€æœ¯æ°´å¹³ï¼Œä½ ä¼šä»€ä¹ˆï¼Œä½ å­¦è¿‡ä»€ä¹ˆï¼Œä¸€åº”ä¿±å…¨ã€‚æ˜¯æ‰¾å·¥ä½œï¼Œæˆ–è€…æ˜¯æŠ€æœ¯äº¤æµçš„å¥½å¹³å°ã€‚</li>
</ol>
</li>
<li>æ‹…å¿ƒè‡ªå·±çš„åšå®¢æ²¡æœ‰æŠ€æœ¯å«é‡ï¼Ÿ<br>ä½ è§‰å¾—æ²¡æœ‰æŠ€æœ¯å«é‡çš„å¯èƒ½ä¼šå¯¹åˆ«äººæœ‰ç”¨ï¼Œåªè¦å¯å¤ç°ï¼Œéƒ½æ˜¯æœ‰ä»·å€¼çš„ã€‚</li>
<li>ç°åœ¨å†™çš„ä¼šæ™šå—ï¼Ÿ<br>æˆ‘çŸ¥é“å¾ˆå¤šcsçš„åŒå­¦å¤§ä¸€å°±å¼€å§‹æ­å»ºè‡ªå·±çš„çŸ¥è¯†ä½“ç³»ï¼Œæ„å»ºä¸“æ ï¼Œå€¼å¾—æ•¬ä½©å’Œç¾¡æ…•ã€‚ä¸è¿‡äººç”Ÿæ¼«é•¿ï¼Œä»»ä½•æ—¶å€™å¼€å§‹å¹²ä¸€ä»¶äº‹éƒ½ä¸æ™šã€‚</li>
<li>å†™ä»€ä¹ˆå†…å®¹ï¼Ÿ<ol>
<li>å­¦ä¹ ç¬”è®°ã€å¿ƒå¾—</li>
<li>ç”Ÿæ´»æ„Ÿæ‚Ÿ</li>
<li>å·¥ç¨‹æ’å‘</li>
</ol>
</li>
</ul>
<p>ä¸ºäº†æ··å£é¥­åƒï¼Œå†™åšå®¢çš„flagæ²¡æœ‰ä»»ä½•ç†ç”±æ¨å€’äº†å§ã€‚<br>å¸Œæœ›æœ€å°‘ä¿æŒä¸€ä¸ªæœˆä¸€ç¯‡çš„é¢‘ç‡ï¼Œæ­£å¸¸é¢‘ç‡ä¸€å‘¨ä¸€ç¯‡ã€‚</p>
]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>blog</tag>
      </tags>
  </entry>
</search>
